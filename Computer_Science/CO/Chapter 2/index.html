
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="央央的笔记本">
      
      
      
        <link rel="canonical" href="https://melody12020831.github.io/Notebook/Computer_Science/CO/Chapter%202/">
      
      
      
      
      <link rel="icon" href="../../../assets/images/icon.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.1">
    
    
      
        <title>Chapter 2 - 央央's Notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen GB Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
      <link rel="stylesheet" href="../../../css/card.css">
    
      <link rel="stylesheet" href="../../../css/tasklist.css">
    
      <link rel="stylesheet" href="../../../css/flink.css">
    
      <link rel="stylesheet" href="../../../css/more_changelog.css">
    
      <link rel="stylesheet" href="../../../css/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../../css/fold_toc.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-002T22X4FB"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-002T22X4FB",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-002T22X4FB",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapter-2" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="央央&#39;s Notebook" class="md-header__button md-logo" aria-label="央央's Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            央央's Notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Melody12020831/Notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Melody
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Computer Science

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Math/" class="md-tabs__link">
          
  
    
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Miscellaneous/" class="md-tabs__link">
          
  
    
  
  Misccelleanous

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="央央&#39;s Notebook" class="md-nav__button md-logo" aria-label="央央's Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"/></svg>

    </a>
    央央's Notebook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Melody12020831/Notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Melody
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Computer Science
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    编程语言
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            编程语言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming_Language/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tools/Git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tools/reveal-md/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 reveal-md 制作 PPT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Math/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Math
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Math
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    概率论与数理统计
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            概率论与数理统计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 1 概率论的基本概念
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 2 随机变量及其分布
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 3 多元随机变量及其分布
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 4 随机变量的数字特征
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 5 大数定律和中心极限定理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 6 数理统计的基本概念
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 7 参数估计
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 8 假设检验
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/PPT_download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PPT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_11" >
        
          
          <label class="md-nav__link" for="__nav_3_2_11" id="__nav_3_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Homework
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_11">
            <span class="md-nav__icon md-icon"></span>
            Homework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/Homework_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW1(习题一)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW2(习题一)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW3(习题一、二)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW4(习题二)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW5(习题二、三)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW6(习题三)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW7(习题三)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW8(习题四)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW9(习题四、五)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW10(习题五、六)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW11(习题六、七(只计算矩估计))
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW12(习题七)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW13(习题七)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HW14(习题八)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Miscellaneous/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Misccelleanous
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Misccelleanous
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/prompt/prompt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompt
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#risc-v-operands" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V operands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RISC-V operands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regs" class="md-nav__link">
    <span class="md-ellipsis">
      regs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      寻址
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#risc-v-assembly-language" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V assembly language
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C转汇编例题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      大立即数
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#risc-v" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V寻址模式
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decoding-machine-language" class="md-nav__link">
    <span class="md-ellipsis">
      Decoding Machine Language
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      原子交换
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      补充
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#translating-and-starting-a-program" class="md-nav__link">
    <span class="md-ellipsis">
      Translating and Starting a Program
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Translating and Starting a Program">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compiler" class="md-nav__link">
    <span class="md-ellipsis">
      Compiler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linker" class="md-nav__link">
    <span class="md-ellipsis">
      Linker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loader" class="md-nav__link">
    <span class="md-ellipsis">
      Loader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamically-linked-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamically Linked Libraries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="chapter-2">Chapter 2<a class="headerlink" href="#chapter-2" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3130 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 170 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 13 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 18 分钟</p>
</div>
<h2 id="risc-v-operands">RISC-V operands<a class="headerlink" href="#risc-v-operands" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Example</th>
<th style="text-align: left;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">32 registers</td>
<td style="text-align: left;">x0-x31</td>
<td style="text-align: left;">Fast locations for data. In RiSC-V, data must be in registers to perform arithmetic. Register xO always equals 0.</td>
</tr>
<tr>
<td style="text-align: left;"><span class="arithmatex">\(2^{61}\)</span>memory words</td>
<td style="text-align: left;">Memory[0],Memory[8],...,Memory[18,446,744,073,709,511,608]</td>
<td style="text-align: left;">Accessed only by data transfer instructions. RiSC-V uses byte addresses, sosequential doubleword accesses differ by 8. Memory holds data structures,arrays, and spilled registers.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="regs">regs<a class="headerlink" href="#regs" title="Permanent link">&para;</a></h3>
<p><strong>32个64位寄存器</strong></p>
<p>|x0(zero)|0|The constant value 0|</p>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114172925277.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114172925277" src="./organized_notes.assets/image-20241114172925277.png" /></a></p>
<p>RISC-V 约定：</p>
<ul>
<li><code>x5</code> - <code>x7</code> 以及 <code>x28</code> - <code>x31</code> 是 temp reg，如果需要的话 caller 保存；也就是说，不保证在经过过程调用之后这些寄存器的值不变。</li>
<li><code>x8</code> - <code>x9</code> 和 <code>x18</code> - <code>x27</code> 是 saved reg，callee 需要保证调用前后这些寄存器的值不变；也就是说，如果 callee 要用到这些寄存器，必须保存一份，返回前恢复。</li>
<li><code>x10</code> - <code>x17</code> 是 8 个参数寄存器，函数调用的前 8 个参数会放在这些寄存器中；如果参数超过 8 个的话就需要放到栈上（放在 <code>fp</code> 上方， <code>fp + 8</code> 是第 9 个参数， <code>fp + 16</code> 的第 10 个，以此类推）。同时，过程的结果也会放到这些寄存器中（当然，对于 C 语言这种只能有一个返回值的语言，可能只会用到 <code>x10</code> ）。</li>
<li><code>x1</code> 用来保存返回地址，所以也叫 <code>ra</code> 。因此，伪指令 <code>ret</code> 其实就是 <code>jalr x0, 0(x1)</code> 。</li>
<li>栈指针是 <code>x2</code>，也叫<code>sp</code>；始终指向栈顶元素。栈从高地址向低地址增长。</li>
<li><code>addi sp, sp, -24</code> , <code>sd x5, 16(sp)</code> , <code>sd x6, 8(sp)</code> , <code>sd x20, 0(sp)</code> 可以实现将 x5, x6, x20 压栈。</li>
<li>一些 RISC-V 编译器保留寄存器 <code>x3</code> 用来指向静态变量区，称为 global pointer <code>gp</code> 。</li>
<li>一些 RISC-V 编译器使用 <code>x8</code> 指向 activation record 的第一个 dword，方便访问局部变量；因此 <code>x8</code> 也称为 <code>frame pointer(fp)</code>。在进入函数时，用 <code>sp</code> 将 <code>fp</code>初始化。</li>
<li><code>fp</code> 的方便性在于在整个过程中对局部变量的所有引用相对于 <code>fp</code> 的偏移都是固定的，但是对 <code>sp</code> 不一定。当然，如果过程中没有什么栈的变化或者根本没有局部变量，那就没有必要用 <code>fp</code> 了。</li>
</ul>
<hr />
<h3 id="_1">寻址<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>RISC-V architecture 的地址是 64 位的，地址为字节地址，因此总共可以寻址 <span class="arithmatex">\(2^{64}\)</span> 个字节，即 <span class="arithmatex">\(2^{61}\)</span> 个 dword (doubleword, 下同)，因为一个 dword 占 <span class="arithmatex">\(log_2\frac{⁡64}{8}=3\)</span> 位。</p>
<p>在一些 architecture 中，word 的起始地址必须是 word 大小的整倍数，dword 也一样，这种要求称为 <strong>alignment restriction</strong>。RISC-V 允许不对齐的寻址，但是效率会低。</p>
<p>RISC-V 使用 <strong>little endian</strong> 小端编址。</p>
<p><strong>以 int 类型的 0x12345678 为例，在内存中的分布情况为（假设从地址 0x 4000 开始存放）</strong></p>
<ul>
<li>Little-endian</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>内存地址 0x4000 0x4001 0x4002 0x4003
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>存放内容 0x78 0x56 0x34 0x12
</code></pre></div>
<ul>
<li>Big-endian</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>内存地址 0x4000 0x4001 0x4002 0x4003
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>存放内容 0x12 0x34 0x56 0x78
</code></pre></div>
<p>如果你将地址横着写，即从左到右递增，那么对于大端来说是比较自然的，但是对于小端来说会比较不自然。</p>
<hr />
<h2 id="risc-v-assembly-language">RISC-V assembly language<a class="headerlink" href="#risc-v-assembly-language" title="Permanent link">&para;</a></h2>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114173319936.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114173319936" src="./organized_notes.assets/image-20241114173319936.png" /></a><a class="glightbox" href="./organized_notes.assets/image-20241114173335617.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114173335617" src="./organized_notes.assets/image-20241114173335617.png" /></a></p>
<ul>
<li>逻辑移不考虑符号位，左移时高位补0，右移时低位补0</li>
<li>算数移考虑符号位</li>
</ul>
<hr />
<h2 id="c">C转汇编例题<a class="headerlink" href="#c" title="Permanent link">&para;</a></h2>
<details class="question" open="open">
<summary>f = (g + h) - (i + j);</summary>
<p>变量 <code>f、g、h、i</code> 和 <code>j</code> 分别分配给寄存器 <code>x19、x20、x21、x22</code> 和 <code>x23</code> 。编译后的 RISC-V 代码是什么?</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>add x5, x20, x21 // register x5 contains g + h
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>add x6, x22, x23 // register x6 contains i + j
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>sub x19, x5, x6 // f gets x5 - x6, which is (g + h) - (i + j)
</code></pre></div>
</details>
<details class="question" open="open">
<summary>A[12] = h + A[8];</summary>
<p>假设变量 <code>h</code> 存放在寄存器 <code>x21</code> 中，数组 <code>A</code> 的基址存放在寄存器 <code>x22</code> 中。C 赋值语句的 RISC-V 汇编代码是什么?</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>ld x9, 64(x22) // Temporary reg x9 gets A[8]
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>add x9, x9, x21 // Temporary reg x9 gets A[8] + h
</code></pre></div>
</details>
<details class="question" open="open">
<summary>if (i == j) f = g + h; else f = g - h;</summary>
<p>在下面的代码段中， <code>f、g、h、i</code> 和 <code>j</code> 是变量。如果五个变量 <code>f</code> 到 <code>j</code> 对应于 <code>x19</code> 到 <code>x23</code> 这5个寄存器，这个C语言的 <code>if</code> 语句编译后的 RISC-V 代码是什么?</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>bne x22, x23, Else // go to Else if i != j
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>add x19, x20, x21 // f = g + h (skipped if i != j)
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>beq x0, x0, Exit // if 0 == 0, go to Exit
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>Else: sub x19, x20, x21 // f = g - h (skipped if i == j)
</code></pre></div>
</details>
<details class="question" open="open">
<summary>while ( save[i] == k) i += 1;</summary>
<p>假设 <code>i</code> 和 <code>k</code> 对应于寄存器 <code>x22</code> 和 <code>x24</code> ，数组的基址保存在 <code>x25</code> 中。与此C语言代码相对应的 RISC-V 汇编代码是什么?</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>Loop: slli x10, x22, 3 // Temp reg x10 = i * 8
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>add x10, x10, x25 // x10 = address of save[i]
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>ld x9, 0(x10) // Temp reg x9 = save[i]
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>bne x9, x24, Exit // go to Exit if save[i] != k
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>addi x22, x22, 1 // i += 1
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>beq x0, x0, Loop // go to Loop
</code></pre></div>
</details>
<details class="question" open="open">
<summary>没有调用其他过程的C</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">leaf_example</span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">j</span><span class="p">);</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="p">}</span>
</code></pre></div>
<p>编译成 RISC-V 代码是什么?参数变量 <code>g、h、i</code> 和 <code>j</code> 对应于参数寄存器 <code>x10、x11、x12</code> 和 <code>x13</code> ， <code>f</code> 对应于 <code>x20</code> 。</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>addi sp, sp, -24 // adjust stack to make room for 3 items
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>sd x5, 16(sp) // save register x5 for use afterwards
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>sd x6, 8(sp) // save register x6 for use afterwards
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>sd x20, 0(sp) // save register x20 for use afterwards
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>add x5, x10, x11 // x5 = g + h
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>add x6, x12, x13 // x6 = i + j
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>sub x20, x5, x6 // x20 = f = g + h - i - j
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>addi x10, x20, 0 // return f (x10 = x20 + 0)
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>ld x20, 0(sp) // restore register x20 for caller
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>ld x6, 8(sp) // restore register x6 for caller
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>ld x5, 16(sp) // restore register x5 for caller
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>addi sp, sp, 24 // adjust stack to delete 3 items
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>jalr x0, 0(x1) // branch back to calling routine
</code></pre></div>
</details>
<details class="question" open="open">
<summary>编译一个递归（嵌套）C过程</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">fact</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fact</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="p">}</span>
</code></pre></div>
<p>编译成 RISC-V 代码是什么?参数变量 <code>n</code> 对应于参数寄存器 <code>x10</code> 。</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>addi sp, sp, -16 // adjust stack for 2 items
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>sd x1, 8(sp) // save the return address
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>sd x10, 0(sp) // save the argument n
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>addi x5, x10, -1 // x5 = n - 1
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>bge x5, x0, L1 // if n &gt;= 1, go to L1
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>addi x10, x0, 1 // return 1
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>addi sp, sp, 16 // pop 2 items off stack
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>jalr x0, 0(x1) // return to caller
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>L1: addi x10, x10, -1 // n &gt;= 1: argument gets (n - 1)
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>jal x1, fact // call fact with (n - 1)
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>addi x6, x10, 0 // return from jal: move result of fact(n - 1) to x6
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>ld x10, 0(sp) // restore argument n
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>ld x1, 8(sp) // restore return address
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>addi sp, sp, 16 // adjust stack pointer to pop 2 items
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>mul x10, x6, x10 // return n * fact(n - 1)
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>jalr x0, 0(x1) // return to caller
</code></pre></div>
</details>
<details class="question" open="open">
<summary>一些递归（尾调用）可以不用递归而通过迭代实现</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">sum</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">acc</span><span class="p">){</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">acc</span><span class="p">);</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">acc</span><span class="p">;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">}</span>
</code></pre></div>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>sum: ble x10, x0, sum_exit // go to sum_exit if n &lt;= 0
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>add x11, x11, x10 // add n to acc
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>addi x10, x10, -1 // n = n - 1
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>jal x0, sum // jump to sum
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>sum_exit: addi x12, x11, 0 // return acc
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>jalr x0, 0(x1) // return to caller
</code></pre></div>
</details>
<details class="question" open="open">
<summary>复制字符串</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">strcpy</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">x</span><span class="p">[],</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">y</span><span class="p">[]){</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;\0&#39;</span><span class="p">)</span><span class="w"> </span><span class="cm">/* copy &amp; test byte */</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">        </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="p">}</span>
</code></pre></div>
<p>编译成 RISC-V 代码是什么?假设数组 <code>x</code> 和 <code>y</code> 的基址存放在 <code>x10</code> 和 <code>x11</code> 中，而 <code>i</code> 在 <code>x19</code> 中。</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>strcpy: addi sp, sp, -8 // adjust stack for 1 more item
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>sd x19, 0(sp) // save x19
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>add x19, x0, x0 // i = 0
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>L1: add x5, x19, x11 // address of y[i] in x5
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>lbu x6, 0(x5) // x6 = y[i]
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>add x7, x19, x10 // address of x[i] in x7
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>sb x6, 0(x7) // x[i] = y[i]
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>beq x6, x0, L2
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>addi x19, x19, 1 // i++
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>jal x0, L1 // go to L1
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>L2: ld x19, 0(sp) // restore old x19
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>addi sp, sp, 8 // pop 1 doubleword off stack
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>jalr x0, 0(x1) // return
</code></pre></div>
</details>
<details class="question" open="open">
<summary>Swap</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">swap</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">[],</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">k</span><span class="p">){</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="n">v</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="n">v</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="p">}</span>
</code></pre></div>
<p>编译成 RISC-V 代码是什么?</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>swap: slli x6, x11, 3 // reg x6 = k * 8
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>add x6, x10, x6 // reg x6 = v + (k * 8)
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>ld x5, 0(x6) // reg x5 (temp) = v[k]
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>ld x7, 8(x6) // reg x7 = v[k+1]
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>sd x7, 0(x6) // v[k] = reg x7
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>sd x5, 8(x6) // v[k+1] = reg x5 (temp)
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>jalr x0, 0(x1) // return to calling routine
</code></pre></div>
</details>
<details class="question" open="open">
<summary>Sort</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">sort</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">[],</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">n</span><span class="p">){</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">){</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">){</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">            </span><span class="n">swap</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">);</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="p">}</span>
</code></pre></div>
<p>编译成 RISC-V 代码是什么?</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sort: addi sp, sp, -40
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>sd x1, 32(sp)
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>sd x22, 24(sp)
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>sd x21, 16(sp)
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>sd x20, 8(sp)
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>sd x19, 0(sp)
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>mv x21, x10
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>mv x22, x11
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>li x19, 0
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>for1tst: bge x19, x22, exit1
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>addi x20, x19, -1
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>for2tst: blt x20, 0, exit2
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>slli x5, x20, 3
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>add x5, x21, x5
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>ld x6, 0(x5)
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>ld x7, 8(x5)
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>ble x6, x7, exit2
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>mv x10, x21
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>mv x11, x20
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>jal x1, swap
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>addi x20, x20, -1
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>j for2tst
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>exit2: addi x19, x19, 1
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>j for1tst
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>exit1: ld x19, 0(sp)
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>ld x20, 8(sp)
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>ld x21, 16(sp)
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>ld x22, 24(sp)
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>ld x1, 32(sp)
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>addi sp, sp, 40
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>jalr x0, 0(x1)
</code></pre></div>
</details>
<details class="question" open="open">
<summary>数组和指针</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">clear1</span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">array</span><span class="p">[],</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">){</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">){</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">        </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="p">}</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="n">clear2</span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">){</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">array</span><span class="p">[</span><span class="n">size</span><span class="p">];</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">){</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">        </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="p">}</span>
</code></pre></div>
<p>编译成 RISC-V 代码是什么?</p>
</details>
<details class="note">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>li x5, 0
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>loop1: slli x6, x5, 3
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>add x7, x10, x6
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>sd x0, 0(x7)
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>addi x5, x5, 1
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>blt x5, x11, loop1
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>mv x5, x10
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>slli x6, x11, 3
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>add x7, x10, x6
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>loop2: sd x0, 0(x5)
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>addi x5, x5, 8
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>bltu x5, x7, loop2
</code></pre></div>
</details>
<hr />
<h2 id="_2">大立即数<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>RISC-V指令中存在<code>load upper immediate</code>(取立即数高位，<code>lui</code>)，用于将20 位常数加载到寄存器的第31位到第12位。将第31位的值复制填充到最左边32位，最右边的12位用0填充。（也即有符号）。</p>
<details class="question" open="open">
<summary>大立即数</summary>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114193114836.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="./organized_notes.assets/image-20241114193114836.png" /></a></p>
</details>
<details class="note">
<summary>Answer</summary>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114193334581.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="./organized_notes.assets/image-20241114193334581.png" /></a></p>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114193342068.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="./organized_notes.assets/image-20241114193342068.png" /></a></p>
</details>
<details class="note">
<summary>Further</summary>
<p>因为 <code>addi</code> 是有符号的。</p>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114193354970.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="./organized_notes.assets/image-20241114193354970.png" /></a></p>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114193408139.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="./organized_notes.assets/image-20241114193408139.png" /></a></p>
<p>因此我们在进行大立即数运算时，可以先使用 <code>lui</code> 将高20位加载到寄存器，再使用 <code>slli</code> 移位后再加上低12位，但是需要注意 <code>addi</code> 是有符号的。</p>
</details>
<hr />
<h2 id="risc-v">RISC-V寻址模式<a class="headerlink" href="#risc-v" title="Permanent link">&para;</a></h2>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114193858172.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114193858172" src="./organized_notes.assets/image-20241114193858172.png" /></a></p>
<hr />
<h2 id="decoding-machine-language">Decoding Machine Language<a class="headerlink" href="#decoding-machine-language" title="Permanent link">&para;</a></h2>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114194526501.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114194526501" src="./organized_notes.assets/image-20241114194526501.png" /></a><a class="glightbox" href="./organized_notes.assets/image-20241114194451092.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114194451092" src="./organized_notes.assets/image-20241114194451092.png" /></a><a class="glightbox" href="./organized_notes.assets/image-20241114194336358.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114194336358" src="./organized_notes.assets/image-20241114194336358.png" /></a></p>
<hr />
<h2 id="_3">原子交换<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>在计算中，同步机制通常由用户级的软件例程所构建，而这依赖于硬件提供的同步指令。在本节中，我们将重点介绍加锁(lock)和解锁(unlock)同步操作的实现。加锁和解锁可直接用于创建只有单个处理器可以操作的区域，称为互斥(mutual exclusion)区，以及实现更复杂的同步机制。</p>
<p>在多处理器中实现同步所需的关键是一组硬件原语，能够提供以原子方式读取和修改内存单元的能力。也就是说，在内存单元的读取和写入之间不能插入其他任何操作。如果没有这样的能力，构建基本同步原语的成本将会很高，并会随着处理器数量的增加而急剧增加。有许多基本硬件原语的实现方案，所有这些都提供了原子读和原子写的能力，以及一些判断读写是否是原子操作的方法。</p>
<p>我们从原子交换(atomic exchange或atomic swap)原语开始，展示如何使用它来构建基本同步原语。它是构建同步机制的一种典型操作，它将寄存器中的值与存储器中的值进行交换。</p>
<p>为了了解如何使用它来构建基本同步原语，假设要构建一个简单的锁变量，其中值0用于表示锁变量可用，值1用于表示锁变量已被占用。处理器尝试通过将寄存器中的1与该锁变量对应的内存地址的值进行交换来设置加锁。如果某个其他处理器已声明访问该锁变量，则交换指令的返回值为1,表明该锁已被其他处理器占用，否则为0,表示加锁成功。在后一种情况下，锁变量的值变为1,以防止其他处理器也加锁成功。</p>
<p>例如，考虑两个处理器尝试同时进行交换操作：这种竞争会被阻止，因为其中一个处理器将首先执行交换，并返回0,而第二个处理器在进行交换时将返回1。使用交换原语实现同步的关键是操作的原子性：交换是不可分割的，硬件将对两个同时发生的交换进行排序。尝试以这种方式设置同步变量的两个处理器都不可能认为它们同时设置了变量。</p>
<p>实现单个的原子存储操作为处理器的设计带来了一些挑战，因为它要求在单条不可中断的指令中完成存储器的读和写操作。</p>
<p>另一种方法是使用指令对，其中第二条指令返回一个值，该值表示该指令对是否被原子执行。如果任何处理器执行的所有其他操作都发生在该对指令之前或之后，则该指令对实际上是原子的。因此，当指令对实际上是原子操作时，没有其他处理器可以在指令对之间改变值。</p>
<p>在RISC-V中，这对指令指的是一个称为保留加载(load-reserved)双字(1r.d)的特殊加载指令和一个称为条件存储(<code>store-conditional</code>)双字(<code>sc.d</code>)的特殊存储指令。这些指令按序使用：如果保留加载指令指定的内存位置的内容在条件存储指令执行到同一地址之前发生了变化，则条件存储指令失败且不会将值写入内存。条件存储指令定义为将(可能是不同的)寄存器的值存储在内存中，如果成功则将另一个寄存器的值更改为0,如果失败则更改为非零值。因此，sc.d指定了三个寄存器：一个用于保存地址，一个用于指示原子操作失败或成功，还有一个用于如果成功则将值存储在内存中。由于保留加载指令返回初始值，并且条件存储指令仅在成功时返回0，因此以下序列在寄存器<code>x20</code>中指定的内存位置上实现原子交换：</p>
<div class="admonition note">
<p class="admonition-title">原子交换</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>again: 1r.d x10, (x20) // load-reserved
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>sc.d x11, x23, (x20) // store-conditional
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>bne x11, x0, again // branch if store fails
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>addi x23, x20, 0 // put loaded value in x23
</code></pre></div>
</div>
<p>每当处理器干预并修改<code>lr.d</code>和<code>sc.d</code>指令之间的内存中的值时，<code>sc.d</code>就会将非零值写入<code>x11</code>,从而导致代码序列重新执行。在此序列结束时，<code>×23</code>的值和<code>×20</code>指向的内存位置的值发生了原子交换。  </p>
<div class="admonition note">
<p class="admonition-title">Further</p>
<p>虽然上面的代码实现了原子交换，但下面的代码可以更有效地获取寄存器 <code>x20</code> 对应存储中的锁变量，其中值 0 表示锁变量是空闲的，值 1 表示锁变量被占用：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>addi x12, x0, 1 // copy locked value
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>again: 1r.d x10, (x20) // load-reserved to read lock
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>bne x10, x0, again // check if it is 0 yet
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>sc.d x11, x12, (x20) // attempt to store new value 
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>bne x11, x0, again // branch if store fails
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>sd x0, 0(x20) // free lock by writing 0
</code></pre></div>
</div>
<hr />
<h2 id="_4">补充<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<ul>
<li>检查 index out of bounds：如果 <code>x20 = i, x11 = size</code> ，那么 <code>bgeu x20, x11, IndexOutOfBounds</code> ，即 <code>x20 &gt;= x11 || x20 &lt; 0</code></li>
<li>ASCII，是 8 位的，可以用 <code>lbu</code></li>
<li>Unicode，是 16 位的，可以用 <code>lhu</code></li>
</ul>
<hr />
<h2 id="translating-and-starting-a-program">Translating and Starting a Program<a class="headerlink" href="#translating-and-starting-a-program" title="Permanent link">&para;</a></h2>
<p><a class="glightbox" href="./organized_notes.assets/image-20241114203619024.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20241114203619024" src="./organized_notes.assets/image-20241114203619024.png" /></a></p>
<h3 id="compiler">Compiler<a class="headerlink" href="#compiler" title="Permanent link">&para;</a></h3>
<p>The assembler turns the assembly language program into an object file, which is a combination of machine language instructions, data, and information needed to place instructions properly in memory.</p>
<h3 id="linker">Linker<a class="headerlink" href="#linker" title="Permanent link">&para;</a></h3>
<p>What we have presented so far suggests that a single change to one line of one procedure requires compiling and assembling the whole program. Complete retranslation is a terrible waste of computing resources. This repetition is particularly wasteful for standard library routines, because programmers would be compiling and assembling routines that by definition almost never change. An alternative is to compile and assemble each procedure independently, so that a change to one line would require compiling and assembling only one procedure. This alternative requires a new systems program, called a <strong>link editor</strong> or <strong>linker</strong>, which takes all the independently assembled machine language programs and “stitches” them together. The reason a linker is useful is that it is much faster to patch code than it is to recompile and reassemble.</p>
<p>链接器的工作有三个步骤：</p>
<ol>
<li>将代码和数据模块按符号特征放入内存。</li>
<li>决定数据和指令标签的地址。</li>
<li>修正内部和外部引用。</li>
</ol>
<p>链接器生成可在计算机上运行的可执行文件。通常，此文件具有与目标文件相同的格式，但它不包含任何未解析的引用。具有部分链接的文件是可能的，例如库程序，在目标文件中仍然有未解析的地址。</p>
<h3 id="loader">Loader<a class="headerlink" href="#loader" title="Permanent link">&para;</a></h3>
<p>Now that the executable file is on disk, the operating system reads it to memory and starts it. </p>
<p>加载器的操作：</p>
<ol>
<li>读取可执行文件首部以确定正文段和数据段的大小。</li>
<li>为正文和数据创建足够大的地址空间。</li>
<li>将可执行文件中的指令和数据复制到内存中。</li>
<li>将主程序的参数(如果有)复制到栈顶。</li>
<li>初始化处理器寄存器并将栈指针指向第一个空闲位置。</li>
<li>跳转到启动例程，将参数复制到参数寄存器中并调用程序的主例程。当主例程返回时，启动例程通过exit系统调用终止程序。</li>
</ol>
<h3 id="dynamically-linked-libraries">Dynamically Linked Libraries<a class="headerlink" href="#dynamically-linked-libraries" title="Permanent link">&para;</a></h3>
<p>动态链接库(<code>dynamically linked libraries</code>,<code>DLL</code>),其库例程在程序运行之前不会被链接和加载。程序和库例程都保存有关非局部过程及其名字的额外信息。</p>
<hr />







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2025年2月1日 14:02:17</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2025年2月1日 14:02:17</span>
  </span>

    
    
    
  </aside>


  




  <h2 id="__comments">评论</h2>
  <script src="https://giscus.app/client.js"
        data-repo="Melody12020831/Notebook"
        data-repo-id="R_kgDONR_9AA"
        data-category="Announcements"
        data-category-id="DIC_kwDONR_9AM4CkboN"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 <a href="https://github.com/Melody12020831" target="_blank" rel="noopener">Melody</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Melody12020831/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "navigation.path", "toc.follow", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5090c770.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../../css/javascripts/tablesort.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>