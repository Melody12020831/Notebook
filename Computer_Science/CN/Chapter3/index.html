<!DOCTYPE html><html lang="zh" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="央央的笔记本">
      
      
      
        <link rel="canonical" href="https://melody12020831.github.io/Notebook/Computer_Science/CN/Chapter3/">
      
      
        <link rel="prev" href="../Chapter2/">
      
      
        <link rel="next" href="../Chapter4/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/icon.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Chapter 3 数据链路层 - 央央's Notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen GB Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
      <link rel="stylesheet" href="../../../css/card.css">
    
      <link rel="stylesheet" href="../../../css/tasklist.css">
    
      <link rel="stylesheet" href="../../../css/flink.css">
    
      <link rel="stylesheet" href="../../../css/more_changelog.css">
    
      <link rel="stylesheet" href="../../../css/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../../css/fold_toc.css">
    
      <link rel="stylesheet" href="../../../css/sidebar.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-002T22X4FB"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-002T22X4FB",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-002T22X4FB",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapter-3" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="央央's Notebook" class="md-header__button md-logo" aria-label="央央's Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            央央's Notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 3 数据链路层
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="light-blue" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Melody12020831/Notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    Melody
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Computer Science

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Math/" class="md-tabs__link">
          
  
  
    
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Miscellaneous/" class="md-tabs__link">
          
  
  
    
  
  Misccelleanous

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="央央's Notebook" class="md-nav__button md-logo" aria-label="央央's Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"></path></svg>

    </a>
    央央's Notebook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Melody12020831/Notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    Melody
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Computer Science
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Computer Science
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ADS/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    ADS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ADS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/Homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/organisedproblems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Organisedproblems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CO/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CO
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    CO
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    chapter 5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/COhomework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CO homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/PPT_download/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PPT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DB/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    DB
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    DB
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | Introduction to the Relational Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | Introduction to SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Intermediate SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | Advanced SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 | Entity-Relationship Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 | Relational Database Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 | Complex Data Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 12 | Physical Storage Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 13 | Data Storage Structures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 14 | Indexing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 15 | Query Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 16 | Query Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 17 | Transactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 18 | Concurrency Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 19 | Recovery System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../OOP/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    OOP
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    OOP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | A tour of cpp
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | STL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Memory Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | Class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 | Ctor/Dtor &amp;&amp; Composition &amp; Inheritance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 | Polymorphism
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 | Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 9 | Copy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 10 | Operator Overloading &amp;&amp; Streams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 11 | templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 12 | Iterators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 13 | Exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 14 | Smart Pointers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 15 | Miscellaneous Topics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/test_from_wk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WK's 课前小测
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/105_STL_Algorithmsin_Less_Than_an_Hour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    105 STL Algorithmsin Less Than an Hour
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CA/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CA
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    CA
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch1 | Fundamentals of Computer Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch2 | Memory Hierarchy Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/CA_review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CA review
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../TOC/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    TOC
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    TOC
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | Simple Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | Context-free Language and Pushdown Automata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Turing Machine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | Undecidability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../OS/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    OS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    OS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | Operating-System Structures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | Processes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Threads
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | CPU Scheduling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 | Process Synchronization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 | Main Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/Chapter9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 9 | Virtual Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CN
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    CN
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | 概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | 物理层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 数据链路层
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 数据链路层
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层概述
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层在网络体系结构中所处的地位
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        链路、数据链路和帧
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层的三个重要问题
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的三个重要问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        封装成帧和透明传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="封装成帧和透明传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        封装成帧
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        透明传输
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        差错检测
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        误码的相关概念
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        奇偶校验
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        循环冗余校验
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        可靠传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可靠传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        可靠传输的相关基本概念
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      
        停止-等待协议的实现原理
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="停止-等待协议的实现原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        停止-等待协议的信道利用率
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ngo-back-n-gbn" class="md-nav__link">
    <span class="md-ellipsis">
      
        回退N帧协议(Go-Back-N , GBN)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="回退N帧协议(Go-Back-N , GBN)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#n" class="md-nav__link">
    <span class="md-ellipsis">
      
        回退N帧协议的基本原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gbn" class="md-nav__link">
    <span class="md-ellipsis">
      
        GBN 协议下信道利用率与发送窗口大小的关系
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selective-repeat-sr" class="md-nav__link">
    <span class="md-ellipsis">
      
        选择重传协议(Selective Repeat, SR)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        点对点协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="点对点协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppp" class="md-nav__link">
    <span class="md-ellipsis">
      
        PPP的帧格式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        PPP帧的透明传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PPP帧的透明传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#byte-stuffing" class="md-nav__link">
    <span class="md-ellipsis">
      
        字节填充 (Byte Stuffing)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bit-stuffing" class="md-nav__link">
    <span class="md-ellipsis">
      
        比特填充 (Bit Stuffing)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#character-counting" class="md-nav__link">
    <span class="md-ellipsis">
      
        字符计数法 (Character Counting)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        PPP帧的差错检测
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="共享式以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        网络适配器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAC地址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAC地址格式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MAC地址格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mac_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        多播MAC地址举例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmacd" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CD协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSMA/CD协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#csmacd_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CD协议的基本原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的争用期
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的最小帧长和最大帧长
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的退避算法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的信道利用率
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用集线器的共享式以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        在物理层扩展以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="在物理层扩展以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        扩展站点与集线器之间的距离(转发器太古早了不需要记忆)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        扩展共享式以太网的覆盖范围和站点数量
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      
        在数据链路层扩展以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="在数据链路层扩展以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用网桥在数据链路层扩展以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      
        网桥的主要结构和基本工作原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      
        透明网桥的自学习和转发帧的流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stp" class="md-nav__link">
    <span class="md-ellipsis">
      
        透明网桥的生成树协议STP
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      
        交换式以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="交换式以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网交换机
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网与交换式以太网的对比(集线器与交换机的对比)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mac_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网的MAC帧格式
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vlan" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网VLAN的诞生背景
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlan_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网VLAN概述
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlan_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网VLAN的实现机制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟局域网VLAN的实现机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ieee-8021q" class="md-nav__link">
    <span class="md-ellipsis">
      
        IEEE 802.1Q帧
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网交换机的接口类型
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网的发展
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网的发展
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#100base-t" class="md-nav__link">
    <span class="md-ellipsis">
      
        100BASE-T以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      
        吉比特以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      
        10吉比特以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#40100" class="md-nav__link">
    <span class="md-ellipsis">
      
        40/100吉比特以太网
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#80211" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="802.11无线局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#80211_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网的组成
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="802.11无线局域网的组成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#80211_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        有固定基础设施的802.11无线局域网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        无固定基础设施的802.11无线局域网
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网的物理层
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211csmaca" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网使用CSMA/CA协议的原因
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="802.11无线局域网使用CSMA/CA协议的原因">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden-station-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        无线局域网的隐蔽站问题（Hidden Station Problem）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmaca" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CA协议的基本工作原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211mac" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网的MAC帧
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | 网络层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | 运输层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quiz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    quiz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10">
        
          
          <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Visualization
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Visualization
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Visualization/note/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据可视化笔记
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11">
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    编程语言
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    编程语言
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming_Language/python/CS50P_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming_Language/python/python100days/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python-100-Days
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12">
        
          
          <label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tools/Git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tools/reveal-md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    使用 reveal-md 制作 PPT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Math/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Math
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Math
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    概率论与数理统计
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    概率论与数理统计
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 概率论的基本概念
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 随机变量及其分布
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 多元随机变量及其分布
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 随机变量的数字特征
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 大数定律和中心极限定理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 数理统计的基本概念
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 参数估计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 假设检验
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/PPT_download/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PPT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_11">
        
          
          <label class="md-nav__link" for="__nav_3_2_11" id="__nav_3_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Homework
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/Homework_index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW1(习题一)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW2(习题一)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW3(习题一、二)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW4(习题二)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW5(习题二、三)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW6(习题三)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW7(习题三)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW8(习题四)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW9(习题四、五)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW10(习题五、六)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW11(习题六、七(只计算矩估计))
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW12(习题七)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW13(习题七)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW14(习题八)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Miscellaneous/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Misccelleanous
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Misccelleanous
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/prompt/prompt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prompt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/mermaid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mermaid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4">
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    UBC
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    UBC
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%208/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/cs231n/cs231n_note.md.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    None
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层概述
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层在网络体系结构中所处的地位
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        链路、数据链路和帧
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据链路层的三个重要问题
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据链路层的三个重要问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        封装成帧和透明传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="封装成帧和透明传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        封装成帧
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        透明传输
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        差错检测
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="差错检测">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        误码的相关概念
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        奇偶校验
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        循环冗余校验
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        可靠传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可靠传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        可靠传输的相关基本概念
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      
        停止-等待协议的实现原理
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="停止-等待协议的实现原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        停止-等待协议的信道利用率
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ngo-back-n-gbn" class="md-nav__link">
    <span class="md-ellipsis">
      
        回退N帧协议(Go-Back-N , GBN)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="回退N帧协议(Go-Back-N , GBN)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#n" class="md-nav__link">
    <span class="md-ellipsis">
      
        回退N帧协议的基本原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gbn" class="md-nav__link">
    <span class="md-ellipsis">
      
        GBN 协议下信道利用率与发送窗口大小的关系
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selective-repeat-sr" class="md-nav__link">
    <span class="md-ellipsis">
      
        选择重传协议(Selective Repeat, SR)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        点对点协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="点对点协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ppp" class="md-nav__link">
    <span class="md-ellipsis">
      
        PPP的帧格式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        PPP帧的透明传输
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PPP帧的透明传输">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#byte-stuffing" class="md-nav__link">
    <span class="md-ellipsis">
      
        字节填充 (Byte Stuffing)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bit-stuffing" class="md-nav__link">
    <span class="md-ellipsis">
      
        比特填充 (Bit Stuffing)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#character-counting" class="md-nav__link">
    <span class="md-ellipsis">
      
        字符计数法 (Character Counting)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ppp_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        PPP帧的差错检测
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="共享式以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        网络适配器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAC地址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAC地址格式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MAC地址格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mac_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        多播MAC地址举例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmacd" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CD协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSMA/CD协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#csmacd_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CD协议的基本原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的争用期
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的最小帧长和最大帧长
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的退避算法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网的信道利用率
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用集线器的共享式以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        在物理层扩展以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="在物理层扩展以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        扩展站点与集线器之间的距离(转发器太古早了不需要记忆)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        扩展共享式以太网的覆盖范围和站点数量
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      
        在数据链路层扩展以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="在数据链路层扩展以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用网桥在数据链路层扩展以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      
        网桥的主要结构和基本工作原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      
        透明网桥的自学习和转发帧的流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stp" class="md-nav__link">
    <span class="md-ellipsis">
      
        透明网桥的生成树协议STP
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      
        交换式以太网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="交换式以太网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网交换机
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      
        共享式以太网与交换式以太网的对比(集线器与交换机的对比)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mac_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网的MAC帧格式
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vlan" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网VLAN的诞生背景
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlan_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网VLAN概述
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlan_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        虚拟局域网VLAN的实现机制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟局域网VLAN的实现机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ieee-8021q" class="md-nav__link">
    <span class="md-ellipsis">
      
        IEEE 802.1Q帧
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网交换机的接口类型
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网的发展
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      
        以太网的发展
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="以太网的发展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#100base-t" class="md-nav__link">
    <span class="md-ellipsis">
      
        100BASE-T以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      
        吉比特以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      
        10吉比特以太网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#40100" class="md-nav__link">
    <span class="md-ellipsis">
      
        40/100吉比特以太网
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#80211" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="802.11无线局域网">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#80211_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网的组成
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="802.11无线局域网的组成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#80211_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        有固定基础设施的802.11无线局域网
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        无固定基础设施的802.11无线局域网
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网的物理层
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211csmaca" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网使用CSMA/CA协议的原因
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="802.11无线局域网使用CSMA/CA协议的原因">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hidden-station-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        无线局域网的隐蔽站问题（Hidden Station Problem）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csmaca" class="md-nav__link">
    <span class="md-ellipsis">
      
        CSMA/CA协议的基本工作原理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#80211mac" class="md-nav__link">
    <span class="md-ellipsis">
      
        802.11无线局域网的MAC帧
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="导航栏">
    <ol class="md-path__list">
      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Computer Science
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    CN
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="chapter-3">Chapter 3 数据链路层<a class="headerlink" href="#chapter-3" title="Permanent link">¶</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约 31861 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"></path></svg></span> 120 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间 159 分钟</p>
</div>
<h2 id="_1">数据链路层概述<a class="headerlink" href="#_1" title="Permanent link">¶</a></h2>
<h3 id="_2">数据链路层在网络体系结构中所处的地位<a class="headerlink" href="#_2" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-1.png" data-desc-position="bottom"><img alt="img" src="../assets/3-1.png"></a></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>虽然在计算机网络中，发送信息时是通过主机层层封装数据并发送到物理介质上，但在学习中，为了简化，我们认为是数据链路层直接传送。</p>
</div>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-2.png" data-desc-position="bottom"><img alt="img" src="../assets/3-2.png"></a></p>
<details class="note">
<summary>主机为什么已经要从局域网先到路由器才能到广域网链路</summary>
<p>主机需要先通过局域网到达路由器，是因为路由器充当了局域网与广域网之间的“网关”。局域网内的主机只能直接通信于同一局域网内，而要访问广域网（如互联网）时，必须将数据包发送到路由器，由路由器负责转发到广域网链路。路由器具有不同网络之间的转发和寻址能力，能够根据目标地址选择合适的广域网链路进行转发。</p>
<p>主机不能直接通过广域网发送数据，是因为广域网（如互联网）通常不直接连接终端主机，而是连接各个网络（如局域网、运营商网络等）。主机需要通过路由器或网关设备，将数据从局域网转发到广域网。路由器负责地址转换、路由选择和安全管理，确保数据能够正确、安全地到达广域网中的目标。没有路由器，主机无法与广域网建立直接通信。</p>
</details>
<hr>
<h3 id="_3">链路、数据链路和帧<a class="headerlink" href="#_3" title="Permanent link">¶</a></h3>
<p><strong>链路</strong>（Link）是指从一个节点到相邻节点的一段物理线路（有线或无线，例如网线、光纤、无线信号等），而<strong>中间没有任何其他的交换节点</strong>。比如主机和路由器之间的网线，就是一条链路。</p>
<p><strong>数据链路</strong>（Data Link）是在链路的基础上，加上了控制数据传输的协议和硬件/软件。比如<strong>网卡</strong>和<strong>驱动程序</strong>，它们负责把数据按照一定的规则封装、校验、发送和接收。数据链路层保证数据能可靠地在一条链路上传输。</p>
<p><strong>计算机中的网络适配器</strong>（俗称<strong>网卡</strong>）和其相应的<strong>软件驱动程序</strong>就实现了这些协议。<strong>一般的网络适配器都包含了物理层和数据链路层这两层的功能。</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-3.png" data-desc-position="bottom"><img alt="img" src="../assets/3-3.png"></a></p>
<p><strong>帧</strong>（Frame）是<strong>数据链路层</strong>对等实体之间在水平方向进行逻辑通信的<strong>协议数据单元PDU</strong>。每次发送的数据都会被封装成一个帧，里面包含了数据和控制信息（如地址、校验码等）。数据链路层的设备（如网卡）之间就是通过帧来通信的。</p>
<hr>
<h2 id="_4">数据链路层的三个重要问题<a class="headerlink" href="#_4" title="Permanent link">¶</a></h2>
<p><strong>封装成帧</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-5.png" data-desc-position="bottom"><img alt="img" src="../assets/3-5.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-4.png" data-desc-position="bottom"><img alt="img" src="../assets/3-4.png"></a></p>
<p><strong>透明传输</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-6.png" data-desc-position="bottom"><img alt="img" src="../assets/3-6.png"></a></p>
<p>如果不解决上述问题，则数据链路层就会对上层交付的PDU的内容有所限制，即PDU中不能包含帧定界符。显然，这样的数据链路层没有什么应用价值。如果能够采取措施，使得数据链路层对上层交付的PDU的内容没有任何限制，就好像数据链路层不存在一样，就称其为<strong>透明传输</strong>。</p>
<p><strong>差错检查</strong></p>
<p>例如 PPP 帧上的 FCS(Frame Check Sequence)，用于检测数据在传输过程中是否出错。</p>
<p><strong>不可靠传输服务</strong>：直接丢弃有误码的帧</p>
<p><strong>可靠传输服务</strong>：实现发送方发送什么，接收方最终都能正确收到。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-7.png" data-desc-position="bottom"><img alt="img" src="../assets/3-7.png"></a></p>
<hr>
<h3 id="_5">封装成帧和透明传输<a class="headerlink" href="#_5" title="Permanent link">¶</a></h3>
<h4 id="_6">封装成帧<a class="headerlink" href="#_6" title="Permanent link">¶</a></h4>
<p>封装成帧是指数据链路层给上层交付下来的协议数据单元PDU添加一个首部和一个尾部，使之成为帧。</p>
<ul>
<li>帧的首部和尾部中包含有一些重要的<strong>控制信息</strong>。</li>
</ul>
<details class="note">
<summary>帧的首部尾部包含内容</summary>
<p>帧首部通常包含：</p>
<ul>
<li>
<p><strong>地址字段</strong>：标识帧的接收方和发送方（如以太网帧中的源地址和目的地址）。</p>
</li>
<li>
<p><strong>控制字段</strong>：用于链路管理、帧编号、流量控制等（如PPP协议中的控制字段）。</p>
</li>
<li>
<p><strong>协议类型字段</strong>：指明上层协议类型（如以太网帧中的Type字段）。</p>
</li>
</ul>
<p>帧尾部最常见的内容是检错码。</p>
<p>不同协议的帧结构略有差异，但首部和尾部的核心作用都是标识、控制和检错，保证数据链路层的可靠传输。</p>
</details>
<ul>
<li>帧首部和尾部的作用之一就是<strong>帧定界</strong>。然而，并不是每一种数据链路层协议的帧都包含有帧定界标志，例如以太网V2的MAC帧中，首部和尾部中并没有帧定界标志。</li>
</ul>
<details class="note">
<summary>以太网v2的MAC帧传输时如何区分不同帧</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-9.png" data-desc-position="bottom"><img alt="img" src="../assets/3-9.png"></a></p>
<ol>
<li>帧的定界</li>
</ol>
<p><strong>帧的开始：Preamble + SFD</strong></p>
<p>当一个设备准备发送一个以太网帧时，它不会直接就发送目标MAC地址。它会先发送8个字节的特殊信号：</p>
<ul>
<li>
<p><strong>前同步码 (Preamble)</strong>: 7个字节，内容固定为 <code>10101010 10101010 ...</code> (共56位)。这个交替的 <code>1</code> 和 <code>0</code> 构成了一个稳定的方波信号。接收方的网络接口卡（NIC）可以利用这个信号来<strong>同步时钟</strong> (Clock Synchronization)。这确保了发送方和接收方能以完全相同的速率来解读后续的比特流。</p>
</li>
<li>
<p><strong>帧起始定界符 (Start Frame Delimiter, SFD)</strong>: 1个字节，内容固定为 <code>10101011</code>。它紧跟在前同步码后面，模式与前同步码非常相似，但最后两位是 <code>11</code>。告诉接收方下一个比特就是以太网帧的第一个比特（即目标MAC地址的第一个比特）。</p>
</li>
</ul>
<ol start="2">
<li><strong>帧的结束：帧间隙 (Interframe Gap, IFG)</strong></li>
</ol>
<p>以太网不像某些协议那样在帧的末尾有一个明确的“结束符”。它是通过“沉默”，也就是<strong>帧间隙</strong>来表示结束的。</p>
<ul>
<li>在发送完一个完整的帧（从目标MAC到FCS校验和）之后，发送方必须在物理线路上保持一段静默时间，才能发送下一个帧。这个静默时间至少相当于传输96个比特所需的时间。例如，在100Mbps的网络中，这个间隙是960纳秒（ns）。当接收方的NIC在成功接收到一个帧后，检测到线路进入了这种“静默”状态，它就知道这个帧已经完整地结束了。这个间隙也给了NIC硬件一点时间来处理刚刚接收到的帧，并为下一个帧的到来做准备。</li>
</ul>
<ol start="3">
<li><strong>完整流程</strong>如下：</li>
</ol>
<ul>
<li>
<p><strong>监听沉默 (IFG)</strong>：NIC在空闲的线路上等待信号。</p>
</li>
<li>
<p><strong>时钟同步 (Preamble)</strong>：检测到 <code>10101010...</code> 信号，开始与发送方同步时钟。</p>
</li>
<li>
<p><strong>侦测帧头 (SFD)</strong>：检测到 <code>10101011</code>，知道一个新帧正式开始，准备接收数据。</p>
</li>
<li>
<p><strong>接收数据</strong>：将后续的比特流存入缓冲区，直到信号中断。</p>
</li>
<li>
<p><strong>侦测帧尾 (IFG)</strong>：线路恢复沉默，确认一个完整的帧已接收完毕。</p>
</li>
<li>
<p><strong>校验完整性 (FCS)</strong>：计算接收到数据的CRC校验和，与帧末尾的FCS字段比较。不匹配则丢弃帧。</p>
</li>
<li>
<p><strong>识别内容 (EtherType)</strong>：如果FCS校验通过，检查EtherType字段，确定载荷类型（如IPv4）。</p>
</li>
<li>
<p><strong>向上交付</strong>：剥离以太网的头部和尾部（MAC地址、EtherType、FCS），将中间的Payload数据交给操作系统中对应的上层协议（如IP协议栈）进行下一步处理。</p>
</li>
</ul>
</details>
<p>为了提高数据链路层传输帧的效率，应当使帧的数据载荷的长度尽可能地大于首部和尾部的长度。</p>
<p>考虑到对缓存空间的需求以及差错控制等诸多因素，每一种数据链路层协议都规定了帧的数据载荷的长度上限，即<strong>最大传送单元</strong>（Maximum Transfer Unit，MTU）。例如，以太网的MTU为1500个字节。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-8.png" data-desc-position="bottom"><img alt="img" src="../assets/3-8.png"></a></p>
<hr>
<h4 id="_7">透明传输<a class="headerlink" href="#_7" title="Permanent link">¶</a></h4>
<ol>
<li>面向字节的物理链路使用<strong>字节填充</strong>的方法实现透明传输。</li>
</ol>
<p>适用于面向字节的链路协议（如PPP）。协议用某个特殊字节（如0x7E）作为帧的定界符。如果数据中出现了0x7E或其他特殊控制字节（如转义字节0x7D），发送方就在这些字节前插入一个转义字节（如0x7D），并对原字节做特殊处理（如异或0x20）。接收方收到数据后，遇到转义字节就知道下一个字节是被“填充”的，需要还原。</p>
<p>例如：</p>
<ul>
<li>数据：<code>... 0x7E ...</code></li>
<li>发送方变成：<code>... 0x7D 0x5E ...</code></li>
<li>接收方还原为：<code>... 0x7E ...</code></li>
</ul>
<ol start="2">
<li>面向比特的物理链路使用<strong>比特填充</strong>的方法实现透明传输。</li>
</ol>
<p>适用于面向比特的链路协议（如HDLC）。协议用一组比特（如01111110）作为帧定界符。如果数据中出现连续5个1，发送方自动在后面插入一个0，避免出现定界符的比特模式。接收方收到数据时，遇到连续5个1后跟着0，就把这个0去掉，还原原始数据。</p>
<p>例如：</p>
<ul>
<li>数据：<code>... 0111111 ...</code></li>
<li>发送方变成：<code>... 01111110 ...</code></li>
<li>接收方还原为：<code>... 0111111 ...</code></li>
</ul>
<details class="question" open="open">
<summary>PPT例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-10.png" data-desc-position="bottom"><img alt="img" src="../assets/3-10.png"></a></p>
</details>
<details class="note">
<summary>answer</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-11.png" data-desc-position="bottom"><img alt="img" src="../assets/3-11.png"></a></p>
<p>其实这就涉及到零比特填充法”（Bit Stuffing）的核心规则和目的。</p>
<p>首先，本协议中的帧定界符 <strong>FLAG</strong> 是 <code>01111110</code>。然后我们来明确“零比特填充法”的操作规则：<strong>在发送端，扫描整个数据载荷（作为一个连续的比特流，不关心字节边界），只要检测到有连续的5个<code>1</code>，就立即在其后填充一个<code>0</code>。</strong>这样，接收端就可以毫无歧义地根据 <code>01111110</code> 来识别帧的开始和结束。</p>
</details>
<hr>
<h3 id="_8">差错检测<a class="headerlink" href="#_8" title="Permanent link">¶</a></h3>
<h4 id="_9">误码的相关概念<a class="headerlink" href="#_9" title="Permanent link">¶</a></h4>
<p>实际的通信链路都不是理想的，比特在传输过程中可能会产生差错（称为<strong>比特差错</strong>）。</p>
<p>在一段时间内，传输错误的比特数量占所传输比特总数的比率称为<strong>误码率</strong>（Bit Error Rate，BER）。</p>
<p>提高链路的<strong>信噪比</strong>，可以<strong>降低误码率</strong>。但在实际的通信链路上，不可能使误码率下降为零。</p>
<p>使用<strong>差错检测技术</strong>来检测数据在传输过程中是否产生了比特差错，是数据链路层所要解决的重要问题之一。</p>
<hr>
<h4 id="_10">奇偶校验<a class="headerlink" href="#_10" title="Permanent link">¶</a></h4>
<p>奇校验是在待发送的数据后面添加1个校验位，使得添加该校验位后的整个数据中<strong>比特1的个数</strong>为<strong>奇数</strong>。</p>
<p>偶校验是在待发送的数据后面添加1个校验位，使得添加该校验位后的整个数据中<strong>比特1的个数</strong>为<strong>偶数</strong>。</p>
<p>但是，在所传输的数据中，如果有奇数个位发生误码，则所包含比特1的数量的奇偶性会发生改变，<strong>可以检测出误码</strong>。在所传输的数据中，如果有偶数个位发生误码，则所包含比特1的数量的奇偶性不会发生改变，<strong>无法检测出误码</strong>（漏检）。</p>
<p>在实际使用时，奇偶校验又可分为垂直奇偶校验、水平奇偶校验以及水平垂直奇偶校验。</p>
<hr>
<h4 id="_11">循环冗余校验<a class="headerlink" href="#_11" title="Permanent link">¶</a></h4>
<p>数据链路层广泛使用<strong>漏检率极低</strong>的循环冗余校验（Cyclic Redundancy Check，CRC）检错技术。</p>
<p>循环冗余校验CRC的基本思想：</p>
<ul>
<li>收发双方约定好一个<strong>生成多项式G</strong>(X)。</li>
<li>发送方基于待发送的数据和生成多项式G(X)，计算出差错检测码（冗余码），将冗余码添加到待发送数据的后面一起传输。</li>
<li>接收方收到数据和冗余码后，通过生成多项式G(X)来计算收到的数据和冗余码是否产生了误码。</li>
</ul>
<p>CRC的核心思想非常巧妙，可以类比于我们生活中的除法：</p>
<ul>
<li><strong>发送方</strong>：我有一份重要数据（<strong>被除数</strong>），我用一个大家事先约定好的特殊数字（<strong>除数</strong>）去除它，会得到一个<strong>余数</strong>。我把这份“余数”作为校验码，附在原始数据的后面一起发给你。</li>
<li><strong>接收方</strong>：我收到了你发来的“原始数据+余数”。为了确认数据在路上有没有损坏，我也用那个事先约定好的“除数”去除你发来的<strong>整个数据包</strong>（原始数据+余数）。</li>
<li><strong>判断</strong>：如果我算出来的余数是<strong>0</strong>，说明数据大概率是完好无损的。如果余数<strong>不是0</strong>，那么数据在传输过程中一定出错了！</li>
</ul>
<p>CRC使用的不是普通的算术除法，而是一种异或XOR运算，那个约定的“除数”则被称为<strong>生成多项式</strong>。</p>
<ul>
<li><strong>生成多项式 (Generator Polynomial)</strong>：收发双方预先约定好的一个二进制数，是CRC算法的核心。例如，一个常用的生成多项式是 <span class="arithmatex">\(CRC-8\)</span> 的 <span class="arithmatex">\(x^8 + x^2 + x + 1\)</span>，对应的二进制就是 <code>100000111</code>。</li>
<li><strong>CRC校验码 (CRC Checksum)</strong>：也叫<strong>冗余码</strong>或<strong>余数 (Remainder)</strong>。是通过模2除法计算出来的，附加在原始数据末尾的比特序列。</li>
</ul>
<details class="note">
<summary>CRC的计算过程</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-12.png" data-desc-position="bottom"><img alt="img" src="../assets/3-12.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-13.png" data-desc-position="bottom"><img alt="img" src="../assets/3-13.png"></a></p>
</details>
<details class="note">
<summary>为什么余数为0就代表正确</summary>
<p>这背后是多项式数学的原理。发送的数据帧可以表示为 <span class="arithmatex">\(T(x) = M(x) \cdot x^r + R(x)\)</span>。由于 <span class="arithmatex">\(R(x)\)</span> 是 <span class="arithmatex">\(M(x) \cdot x^r\)</span> 除以 <span class="arithmatex">\(G(x)\)</span> 的余数，所以 <span class="arithmatex">\(M(x) \cdot x^r = Q(x)G(x) + R(x)\)</span>。</p>
<p>那么 <span class="arithmatex">\(T(x) = Q(x)G(x) + R(x) + R(x)\)</span>。在模2运算中，<span class="arithmatex">\(R(x)+R(x) = 0\)</span>，所以 <span class="arithmatex">\(T(x) = Q(x)G(x)\)</span>。</p>
<p>这意味着最终的帧 <span class="arithmatex">\(T(x)\)</span> 一定能被 <span class="arithmatex">\(G(x)\)</span> 整除，所以只要没出错，余数必然是0。</p>
</details>
<p>奇偶校验、循环冗余校验等差错检测技术，只能检测出传输过程中出现了差错，但并不能定位错误，因此无法纠正错误。</p>
<p>要想纠正传输中的差错，可以使用冗余信息更多的<strong>纠错码</strong>(例如海明码)进行前向纠错。但纠错码的开销比较大，在计算机网络中较少使用。</p>
<p>在计算机网络中，通常采用<strong>检错重传方式来纠正传输中的差错</strong>，或者<strong>仅仅丢弃检测到差错的帧</strong>，这取决于数据链路层向其上层提供的是<strong>可靠传输服务</strong>还是<strong>不可靠传输服务</strong>。</p>
<p>循环冗余校验CRC具有很好的检错能力(<strong>漏检率极低</strong>)，虽然计算比较复杂，但非常易于用硬件实现，因此被广泛应用于数据链路层，是一种检错方式。</p>
<details class="note">
<summary>海明码</summary>
<p>海明码通过设置多个<strong>交叉重叠</strong>的校验位，使得任何一位数据出错，都会导致一组<strong>特定组合</strong>的校验位出错。通过分析是“哪些”校验位出错了，我们就能反推出错误的确切位置。</p>
<p><strong>如何构建一个海明码？</strong>以 (15, 11)海明码为例。</p>
<p><strong>(15, 11)海明码</strong> 的意思是：最终的码字（Codeword）总长度为 <span class="arithmatex">\(n=15\)</span> 位。其中包含原始数据 <span class="arithmatex">\(k=11\)</span> 位。剩下的 <span class="arithmatex">\(n-k=4\)</span> 位是校验位（Parity Bits），记为 <span class="arithmatex">\(p\)</span>。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-14.png" data-desc-position="bottom"><img alt="img" src="../assets/3-14.png"></a></p>
<ol>
<li>确定校验位的位置和数量</li>
</ol>
<ul>
<li><strong>数量</strong>：设校验位有 <span class="arithmatex">\(r\)</span> 个，数据位有 <span class="arithmatex">\(k\)</span> 个。<span class="arithmatex">\(r\)</span> 个校验位能产生 <span class="arithmatex">\(2^r\)</span> 种不同的状态（校验结果）。其中一种状态表示“无错误”，剩下的 <span class="arithmatex">\(2^r-1\)</span> 种状态必须能唯一指向每一个可能出错的位置（包括数据位和校验位本身）。因此，必须满足不等式：</li>
</ul>
<div class="arithmatex">\[2^r \ge (k+r) + 1\]</div>
<p>在本例中，<span class="arithmatex">\(k=11\)</span>，<span class="arithmatex">\(r=4\)</span>。<span class="arithmatex">\(2^4 = 16\)</span>，而 <span class="arithmatex">\(k+r+1 = 11+4+1=16\)</span>。所以 <span class="arithmatex">\(16 \ge 16\)</span> 成立，4个校验位刚刚好。</p>
<ul>
<li><strong>位置</strong>：海明码规定，校验位必须放在总码字中<strong>第 <span class="arithmatex">\(2^i\)</span> 的位置</strong>上（<span class="arithmatex">\(i=0, 1, 2, ...\)</span>）。</li>
</ul>
<ol start="2">
<li>填充数据位</li>
</ol>
<p>将11位的数据 <code>01011001101</code> 依次填入剩下的<strong>数据位</strong>,校验位暂时为空。</p>
<ol start="3">
<li>计算校验位的值</li>
</ol>
<p>每一个校验位 <span class="arithmatex">\(p_i\)</span> 负责校验一组特定的数据位。这组数据位的选择不是随意的，而是根据它们的<strong>位置编号的二进制表示</strong>来确定的。</p>
<ul>
<li>
<p>校验位 <span class="arithmatex">\(p_1\)</span> ：负责校验所有位置编号的二进制表示中，<strong>最低位（第0位）是1</strong>的那些位。也就是对应的数据：<span class="arithmatex">\(p_1\)</span>, D3, D5, D7, D9, D11, D13, D15</p>
</li>
<li>
<p>校验位 <span class="arithmatex">\(p_2\)</span> ：负责校验所有位置编号的二进制表示中，<strong>第1位是1</strong>的那些位。也就是对应的数据：<span class="arithmatex">\(p_2\)</span>, D3, D6, D7, D10, D11, D14, D15</p>
</li>
</ul>
<p>对于校验位 <span class="arithmatex">\(p_4\)</span> 和 <span class="arithmatex">\(p_8\)</span> 也是类似的。</p>
<p><strong>计算（使用偶校验）</strong>：可以得到 <span class="arithmatex">\(p_1 = 1, p_2 = 0, p_4 = 1, p_8 = 0\)</span>。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-15.png" data-desc-position="bottom"><img alt="img" src="../assets/3-15.png"></a></p>
<ol start="4">
<li>形成最终码字并发送</li>
</ol>
<p>将计算出的校验位填回码字中，得到最终要发送的15位码字。</p>
<p><strong>接收方如何定位错误？</strong>假设在传输过程中，<strong>第7位</strong>发生了错误，从<code>1</code>变成了<code>0</code>。</p>
<p>接收方不知道哪个位错了，于是它执行与发送方完全一样的校验流程：</p>
<ol>
<li><strong>重新计算校验关系，生成“纠错码”（Syndrome）</strong></li>
</ol>
<ul>
<li>
<p><strong>校验第1组</strong>：<code>1</code>的个数为5（奇数）。<strong>校验失败！</strong> 结果记为 <strong>1</strong>。</p>
</li>
<li>
<p><strong>校验第2组</strong>：<code>1</code>的个数为1（奇数）。<strong>校验失败！</strong> 结果记为 <strong>1</strong>。</p>
</li>
<li>
<p><strong>校验第3组</strong>：<code>1</code>的个数为5（奇数）。<strong>校验失败！</strong> 结果记为 <strong>1</strong>。</p>
</li>
<li>
<p><strong>校验第4组</strong>：<code>1</code>的个数为4（偶数）。<strong>校验通过！</strong> 结果记为 <strong>0</strong>。</p>
</li>
</ul>
<ol start="2">
<li><strong>定位错误</strong></li>
</ol>
<p>将上面得到的4个校验结果，按 <span class="arithmatex">\(p_8, p_4, p_2, p_1\)</span> 的顺序组合成一个二进制数：</p>
<div class="arithmatex">\[S = (\text{第4组结果})(\text{第3组结果})(\text{第2组结果})(\text{第1组结果})\]</div>
<div class="arithmatex">\[S = 0111_2\]</div>
<p>将这个二进制数转换为十进制：<span class="arithmatex">\(0*8 + 1*4 + 1*2 + 1*1 = 7\)</span>。</p>
<p><strong>结论：出错的位置就是第7位！</strong></p>
<p>或者可以使用<strong>行列定位法</strong>。</p>
<p>第1组和第2组都出错了，根据第一组的1，3，5，7，9，11，13，15列中有错误，根据第二组的2，3，6，7，10，11，14，15列中有错误，因此错误在4列。</p>
<p>第3组出错了，第4组没错，根据第三组的4，5，6，7，12，13，14，15行中有错误，根据第四组的8，9，10，11，12，13，14，15行中没有错误，因此错误在2行。</p>
<ol start="3">
<li><strong>纠正错误</strong>接收方只需将第7位的数据反转，即可恢复出原始的正确数据。</li>
</ol>
<p><strong>总结：</strong>海明码的精髓在于其巧妙设计的<strong>交叉校验体系</strong>。每一个数据位都被不止一个校验位所管理，因此当它出错时，会留下一串独特的“校验失败”的纠错码。这个二进制值，恰好就是错误位的地址，从而实现了精准的定位与纠错。</p>
</details>
<hr>
<h3 id="_12">可靠传输<a class="headerlink" href="#_12" title="Permanent link">¶</a></h3>
<h4 id="_13">可靠传输的相关基本概念<a class="headerlink" href="#_13" title="Permanent link">¶</a></h4>
<p>使用<strong>差错检测技术</strong>（例如循环冗余校验CRC），接收方的数据链路层就可检测出帧在传输过程中是否产生了<strong>误码</strong>（比特差错）。</p>
<p>数据链路层向其上层提供的服务类型</p>
<ul>
<li>不可靠传输服务：仅仅丢弃有误码的帧，其他什么也不做；</li>
<li>可靠传输服务：通过某种机制实现发送方发送什么，接收方最终就能收到什么。</li>
</ul>
<p>一般情况下，<strong>有线链路的误码率比较低</strong>。为了减小开销，并不要求<strong>数据链路层向其上层提供可靠传输服务</strong>。即使出现了误码，可靠传输的问题由其上层处理。</p>
<p><strong>无线链路</strong>易受干扰，误码率比较高，因此<strong>要求数据链路层必须向其上层提供可靠传输服务</strong>。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-16.png" data-desc-position="bottom"><img alt="img" src="../assets/3-16.png"></a></p>
<p>传输差错分为：</p>
<ul>
<li><strong>误码</strong>（比特差错）</li>
<li><strong>分组丢失</strong>：输入队列快满了，主动丢弃收到的分组</li>
<li><strong>分组失序</strong>：分组到达顺序与发送顺序不同</li>
<li><strong>分组重复</strong>：由于路由器繁忙，分组在输入队列中等待较长时间，超时重发后接收器可能会收到重复的分组。</li>
</ul>
<p>误码会出现在出现在数据链路层及其下层；而分组丢失、分组失序和分组重复通常出现在数据链路层的上层。</p>
<hr>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-17.png" data-desc-position="bottom"><img alt="img" src="../assets/3-17.png"></a></p>
<ul>
<li><strong>可靠传输服务</strong>并不局限于数据链路层，其他各层均可选择实现可靠传输。</li>
<li>可靠传输的实现比较复杂，开销比较大，是否使用可靠传输取决于应用需求。</li>
</ul>
<hr>
<h3 id="-">停止-等待协议的实现原理<a class="headerlink" href="#-" title="Permanent link">¶</a></h3>
<p>停止-等待协议属于<strong>自动请求重传</strong>（Automatic Repeat reQuest，ARQ）协议。即重传的请求是发送方自动进行的，而不是接收方请求发送方重传某个误码的数据分组。</p>
<p>停止-等待协议的核心思想非常简单：</p>
<p>发送方每发送一个数据分组（Packet），就必须停下来，等待接收方的确认（Acknowledgment, ACK），收到确认后才能发送下一个数据分组。</p>
<ol>
<li>在最理想的情况下，发送方发送数据，接收方完美接收，然后发回一个确认，发送方收到确认后再发下一个数据，如此往复。</li>
</ol>
<p>但在真实的网络环境中，情况要复杂得多，主要会遇到以下几种问题：</p>
<ul>
<li><strong>数据分组丢失</strong></li>
<li><strong>确认分组（ACK）丢失</strong></li>
<li><strong>数据或确认分组迟到</strong></li>
<li><strong>数据分组出错</strong></li>
</ul>
<ol start="2">
<li>问题与解决方案</li>
</ol>
<p>2.1 <strong>数据分组丢失</strong></p>
<p>发送方发送了数据，但数据在网络中丢失了。接收方根本没收到，所以它不会发送任何确认（ACK）。此时如果没有其他措施，发送方将永远地等待下去。</p>
<p><strong>解决方案：超时重传 (Timeout Retransmission)</strong></p>
<ul>
<li>发送方在发送完一个数据分组后，会启动一个 <strong>超时计时器 (Timeout Timer)</strong>。</li>
<li>
<p>如果在计时器设定的时间——即 <strong>超时重传时间 (Retransmission Time-Out, RTO)</strong>——内没有收到接收方的确认，发送方就会认为数据丢失了，并重新发送之前那个数据分组。</p>
</li>
<li>
<p>RTO 的值一般会被设置为略大于数据在两端之间的平均往返时间 <strong>(Round-Trip Time, RTT)</strong>。RTT 指的是从发送方发出数据，到接收方收到并返回确认，这一整个来回所花费的时间。如果 RTO 小于 RTT ，发送方会过早地认为数据丢失并进行不必要的重传。</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>在数据链路层，点对点的往返时间RTT比较固定，RTO就比较好设定。</p>
<p>在运输层，由于端到端往返时间非常不确定，设置合适的超时重传时间RTO有时并不容易。</p>
</div>
<p>2.2 <strong>确认分组（ACK）丢失</strong></p>
<p>接收方成功收到了数据（DATA0），也发送了确认（ACK），但这个ACK在网络中丢失了。此时发送方因为没收到ACK，会在超时后重传 DATA0 。这样一来，接收方就会收到两次完全相同的 DATA0 。接收方如何知道这是个重复的分组，而不是一个新的、内容恰好也叫“DATA0”的分组呢？</p>
<p><strong>解决方案：给数据分组编号 (Sequence Number)</strong></p>
<ul>
<li>为了让接收方能识别重复的分组，我们必须给每个数据分组带上序号。</li>
<li>对于停止-等待协议，因为每次只发送一个，所以只需要 <strong>1个比特</strong> 的编号就足够了，即 <strong>0</strong> 和 <strong>1</strong>。</li>
<li>发送顺序是 DATA0, DATA1, DATA0, DATA1, ... 如此循环。</li>
<li>当接收方期待收到DATA1，但却收到了一个序号为0的分组时，它就知道这是对DATA0的重复发送。此时，接收方的策略是：</li>
</ul>
<ol>
<li><strong>丢弃</strong> 这个重复的数据分组。</li>
<li><strong>重新发送</strong> 一个对0号分组的确认（ACK）。</li>
</ol>
<p>2.3 <strong>确认分组（ACK）迟到</strong></p>
<p>对DATA0的确认ACK0没有丢失，但在网络中“堵车”了，延迟了很久才到达。发送方因为超时，已经重传了DATA0，并且在收到对重传DATA0的确认后，发送了新的DATA1。这时，那个迟到的ACK0才终于抵达发送方。此时发送方此时已经发送了DATA1，它正在等待对DATA1的确认。如果收到了这个迟到的ACK0，它会误以为这是对DATA1的确认。</p>
<p><strong>解决方案：给确认分组也编号 (Acknowledgment Number)</strong></p>
<ul>
<li>为了让发送方能识别迟到或重复的ACK，确认分组也需要编号。</li>
<li>对 <strong>DATA0</strong> 的确认是 <strong>ACK0</strong>，对 <strong>DATA1</strong> 的确认是 <strong>ACK1</strong>。</li>
<li>这样，当发送方发送了DATA1后，它期待的是ACK1。如果此时收到了一个迟到的ACK0，它就能通过编号识别出这是对之前0号分组的重复确认，直接 <strong>忽略</strong> 即可。</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>数据链路层一般不会出现确认分组迟到的情况，因此在<strong>数据链路层实现停止-等待协议可以不用给确认分组编号</strong>。</p>
</div>
<p>2.4 <strong>数据分组出错</strong></p>
<p>数据分组在传输过程中发生了比特错误。</p>
<p><strong>解决方案：差错检测和否认分组 (NAK)</strong></p>
<ul>
<li>接收方通过 <strong>差错检测</strong> 机制（如CRC校验）发现数据有误。</li>
<li>接收方会 <strong>丢弃</strong> 这个错误的分组。</li>
<li>同时，为了不让发送方傻等超时，接收方可以主动发送一个 <strong>否认分组 (Negative Acknowledgment, NAK)</strong>，明确告知发送方“刚才那个数据坏了，请重发”。</li>
<li>发送方收到NAK后，会立即重传相应的数据，而无需等待超时计时器结束，提高了效率。</li>
</ul>
<hr>
<h4 id="-_1">停止-等待协议的信道利用率<a class="headerlink" href="#-_1" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-18.png" data-desc-position="bottom"><img alt="img" src="../assets/3-18.png"></a></p>
<div class="arithmatex">\[\text{信道利用率 U } = \frac{T_{D}}{T_{D} + RTT + T_{A}} \xrightarrows{T_{A} \ll T{D}} U \approx \frac{T_{D}}{T_{D} + RTT}\]</div>
<div class="arithmatex">\[U \approx \frac{T_{D}}{T_{D} + RTT} \xrightarrows{RTT \gg T_{D}} \text{ U 很低}\]</div>
<div class="arithmatex">\[U \approx \frac{T_{D}}{RTT} \xrightarrows{RTT \ll T_{D}} \text{ U 比较高}\]</div>
<ul>
<li><span class="arithmatex">\(T_{A} \ll T_{D}\)</span> : 确认分组的传输时间远小于数据分组的传输时间，可以忽略不计。</li>
<li><span class="arithmatex">\(RTT \gg T_{D}\)</span> : 例如，卫星链路的RTT很大。</li>
<li><span class="arithmatex">\(RTT \ll T_{D}\)</span> : 例如，无线局域网链路的RTT远小于 <span class="arithmatex">\(T_D\)</span> 。</li>
<li>若出现超时重传，对于传送有用的数据信息来说，信道利用率还要降低。</li>
<li>在往返时间RTT相对较大的情况下，为了提高信道利用率，收发双方不适合采用停止-等待协议，而可以选择使用回退N帧（GBN）协议或选择重传（SR）协议。</li>
</ul>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-19.png" data-desc-position="bottom"><img alt="img" src="../assets/3-19.png"></a></p>
</details>
<hr>
<h3 id="ngo-back-n-gbn">回退N帧协议(Go-Back-N , GBN)<a class="headerlink" href="#ngo-back-n-gbn" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-20.png" data-desc-position="bottom"><img alt="img" src="../assets/3-20.png"></a></p>
<p>因为对于 <span class="arithmatex">\(RTT \gg T_{D}\)</span> 的链路，停止-等待协议的信道利用率很低，所以收发双方可以采用<strong>流水线技术</strong>，可以显著提高信道利用率。</p>
<ul>
<li>在使用流水线传输方式时，发送方<strong>不能无限制地连续发送数据分组</strong>，否则可能会导致网络中的路由器或接收方来不及处理这些数据分组，进而导致数据分组的丢失，这实际上是对网络资源的浪费。</li>
<li>回退N帧协议采用流水线传输方式，并且利用<strong>发送窗口</strong>来限制发送方连续发送数据分组的数量，这属于<strong>连续ARQ协议</strong>。</li>
</ul>
<hr>
<h4 id="n">回退N帧协议的基本原理<a class="headerlink" href="#n" title="Permanent link">¶</a></h4>
<p>采用 <span class="arithmatex">\(n\)</span> 个比特给分组编序号，序号范围是 <span class="arithmatex">\(0 \sim (2^n-1)\)</span> 。</p>
<p>发送方需要维护一个<strong>发送窗口</strong> <span class="arithmatex">\(W_t\)</span> ，在未收到接收方确认分组的情况下，发送方可将序号落入 <span class="arithmatex">\(W_t\)</span> 内的所有数据分组连续发送出去。并且 <span class="arithmatex">\(W_t\)</span> 的取值范围是 <span class="arithmatex">\(0 \sim (2^n-1)\)</span> 。</p>
<p>准备接收时，接收方需要维护一个<strong>接收窗口</strong> <span class="arithmatex">\(W_R\)</span> ，只有正确到达接收方（<strong>无误码</strong>）且序号落入 <span class="arithmatex">\(W_R\)</span> 内的数据分组才被接收方接收。其中 <span class="arithmatex">\(W_R\)</span> 的取值<strong>只能是1</strong>，这一点与停止-等待协议是相同的。</p>
<p><strong>接收方</strong>每正确收到一个序号落入接收窗口的数据分组，就将接收窗口<strong>向前滑动</strong>一个位置，这样就有一个新的序号落入接收窗口。与此同时，接收方还要给发送方发送针对该数据分组的<strong>确认分组</strong>。</p>
<p><strong>发送方</strong>每收到一个按序确认的确认分组，就将发送窗口<strong>向前滑动</strong>一个位置，这样就有一个新的序号落入发送窗口，序号落入发送窗口内的数据分组可<strong>继续被发送</strong>。</p>
<p>在回退N帧协议的工作过程中，发送方的发送窗口和接收方的接收窗口按上述规则不断向前滑动。因此，这类协议又称为<strong>滑动窗口协议</strong>。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>在无传输差错的情况下，回退N帧协议的信道利用率比停止-等待协议的信道利用率有显著提高。提高的程度取决于发送窗口的大小。</p>
</div>
<p><strong>超时重传、回退N帧的情况</strong></p>
<p>如果某一帧出错或丢失，接收方会丢弃后续所有帧，发送方在超时或收到否认后，会“回退”并重传该帧及其之后的所有帧。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>一个数据分组的差错就可能引起大量数据分组的重传。</p>
<p>在信道质量较差（容易出现误码）的情况下，回退N帧协议的信道利用率并不比停止-等待协议的信道利用率高。</p>
</div>
<p>回退N帧协议的接收方采用<strong>累积确认</strong>方式。</p>
<ul>
<li>接收方不必对收到的每一个数据分组都发送一个确认分组，而是可以在收到几个序号连续的数据分组后，对按序到达的<strong>最后一个数据分组</strong>发送确认分组。</li>
<li>接收方何时发送累积确认分组，由具体实现决定。</li>
<li>确认分组 <code>ACKn</code> 表明序号为 <code>n</code> 及之前的所有数据分组都已正确接收。</li>
</ul>
<p>累积确认的<strong>优点</strong></p>
<ul>
<li>减少向网络中注入确认分组的数量。</li>
<li>即使确认分组丢失，也可能不必重传数据分组。</li>
</ul>
<p>累积确认的<strong>缺点</strong></p>
<ul>
<li>不能向发送方及时准确地反映出接收方已正确接收的所有数据分组的数量。</li>
</ul>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-21.png" data-desc-position="bottom"><img alt="img" src="../assets/3-21.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-22.png" data-desc-position="bottom"><img alt="img" src="../assets/3-22.png"></a></p>
</details>
<details class="note">
<summary>关于若 <span class="arithmatex">\(W_T\)</span> 超过取值范围会出现什么情况？</summary>
<p>其实，只要最后一个ACK（或中途任何一个ACK）成功抵达，并且抵达时间早于 S 的定时器超时，协议就可以正常使用，即使 <span class="arithmatex">\(W_T = k\)</span>。</p>
<p>例如中途任何一个 ACK 成功抵达，后面的 ACK 都丢失了，但是接收方已经接收到了数据包，此时发送方重传时，接收方会丢弃这个帧，并且重新发送它上一次成功接收并发送过的 ACK。而对于只要最后一个 ACK 成功抵达，那么根据累积确认的原理，发送方就能知道所有数据包都已经成功接收了。</p>
<p>只有当所有的 <code>ACK</code> 都丢失了，此时发生了超时，发送方才会因为没有收到 ACK 而重传数据包。但是此时接收方的窗口序号因为比特数不够而已经在期盼这个比特序列的第一个了。例如2位比特传送4个数据，前一组(0,1,2,3)已经传送失败了，但是此时接收方期待的序号依旧是0，所以发送方重传0号数据包时，接收方会认为这是符合预期序号的第一个数据包，从而导致这个数据包被接收，进而后续数据包也被接收，从而导致数据错误。</p>
</details>
<ul>
<li>如果 <span class="arithmatex">\(W_T = 1\)</span> ，就变成了停止-等待协议。如果 <span class="arithmatex">\(W_T &gt; 2^n - 1\)</span> ，那么接收方就无法分辨新旧数据分组。</li>
</ul>
<hr>
<h4 id="gbn">GBN 协议下信道利用率与发送窗口大小的关系<a class="headerlink" href="#gbn" title="Permanent link">¶</a></h4>
<p>假设连续 ARO 协议的发送窗口为 n，即发送方可连续发送 n 个分组，分为两种情况:</p>
<ol>
<li><span class="arithmatex">\(nT_D &lt; T_D + RTT + T_A\)</span> : 即在一个发送周期内可以发送完个分组，信道利用率为</li>
</ol>
<div class="arithmatex">\[U = \frac{nT_D}{T_D + RTT + T_A} \xrightarrows{T_A \ll T{D}} U \approx \frac{nT_D}{T_D + RTT}\]</div>
<ol start="2">
<li><span class="arithmatex">\(nT_D \geq T_D + RTT + T_A\)</span> : 即在一个发送周期内不能发送完 n 个分组，对于这种情况，只要不发生差错，发送方就可不间断地发送分组，信道利用率为1。</li>
</ol>
<hr>
<h3 id="selective-repeat-sr">选择重传协议(Selective Repeat, SR)<a class="headerlink" href="#selective-repeat-sr" title="Permanent link">¶</a></h3>
<ol>
<li>接收方 (Receiver)： 会设置缓冲区，接收并缓存那些“失序到达”但在其接收窗口内的帧。</li>
<li>发送方 (Sender)： 只会重传那些它确认“真正丢失”或“损坏”的帧（通常是定时器超时）。</li>
</ol>
<p>接收方拥有一个缓冲区，用于暂存那些失序到达、但序号在其接收窗口内的帧。</p>
<p>用 <span class="arithmatex">\(n\)</span> (n &gt; 1)个比特给分组编号。</p>
<p>因为 <span class="arithmatex">\(W_R\)</span> 的取值超过 <span class="arithmatex">\(W_T\)</span> 是没有意义的。所以：</p>
<div class="arithmatex">\[1 &lt; W_R \leq W_T \]</div>
<div class="arithmatex">\[W_R + W_T \leq 2^n \]</div>
<div class="arithmatex">\[\therefore 1 &lt; W_T \leq 2^{n-1}\]</div>
<p>这是为了确保接收窗口向前滑动后，落入接收窗口内的新序号与之前的旧序号没有重叠，避免无法分辨新旧数据分组。</p>
<p>而为了使发送方仅重传出现差错的数据分组，接收方不再采用累积确认，而需要<strong>对每一个正确接收的数据分组进行逐一确认</strong>。如果发送方收到未按序到达的确认分组，应对其进行记录，以防止其相应数据分组的超时重发，但发送窗口<strong>不能</strong>向前滑动。</p>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-23.png" data-desc-position="bottom"><img alt="img" src="../assets/3-23.png"></a></p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>主机甲通过 128 kbps 卫星链路，采用滑动窗口协议向主机乙发送数据，链路单向传播延迟为 250ms，帧长为 1000 字节。不考虑确认帧的开销，为使链路利用率不小于 80％，帧序号的比特数至少是（ ）。</p>
<p>A. 3</p>
<p>B. 4</p>
<p>C. 7</p>
<p>D. 8</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B</p>
<p>设发送窗口一次可以发出 N 帧，则链路利用率 U 为:</p>
<div class="arithmatex">\[\frac{N \times 1000 \times 8 / 128 kbps}{1000 \times 8 / 128 kbps + 2 \times 250 ms} = \frac{N \times 62.5 ms}{62.5 ms + 500 ms} = \frac{N}{9} \ge 0.8\]</div>
<p>解得: <span class="arithmatex">\(N \ge 7.2\)</span>，发送窗口至少需要 8 帧。由于接收窗口还需要，所以 <span class="arithmatex">\(n \ge 4\)</span>。</p>
</details>
<hr>
<h2 id="_14">点对点协议<a class="headerlink" href="#_14" title="Permanent link">¶</a></h2>
<p>点对点协议（Point-to-Point Protocol，PPP）是目前使用最广泛的点对点数据链路层协议。</p>
<p>点对点协议PPP主要有两种应用：</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-24.png" data-desc-position="bottom"><img alt="img" src="../assets/3-24.png"></a></p>
<hr>
<details class="example" open="open">
<summary>question</summary>
<p>采用滑动窗口机制对两个相邻节点A和B的通信过程进行流量控制。A和B之间的数据传输速率为20kb/s,数据帧和确认帧的长度都为2000B,往返传播时延为1400ms,采用3比特给数据帧编号，测得在A和B的通信过程中信道利用率大于80%,则()。(注：在SR协议中，默认发送窗口大小等于接收窗口大小。)</p>
<p>A.节点A、B之间只能采用停止等待协议</p>
<p>B.节点A、B之间只能采用GBN协议</p>
<p>C.节点A、B之间只能采用SR协议</p>
<p>D.节点A、B之间可以采用GBN协议或SR协议</p>
</details>
<details class="note">
<summary>answer</summary>
<p>无论采用哪种滑动窗口协议，信道利用率的计算方法都是: <span class="arithmatex">\(\frac{\text{发送窗口内所有数据的发送时延}}{一个数据帧的发送时延 + RTT + 一个确认帧的发送时延}\)</span> 。分母记为 T = 一个数据帧的发送时延 + RTT + 一个确认帧的发送时延，其中数据帧或确认帧的发送时延 = 2000B/(20kb/s)=800ms，RTT=1400ms，即T=800+800+1400=3000ms。假设发送窗口大小为x，则 800x/3000&gt;0.8，即发送窗口大小 x 要大于 3，GBN 协议的发送窗口为 <span class="arithmatex">\(2^3\)</span>-1=7，满足要求: SR 协议的发送窗口为 <span class="arithmatex">\(2^2\)</span>=4，也满足要求。因此，A 和 B 之间可以采用 GBN 协议或 SR 协议。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>两台主机之间的数据链路层采用后退N帧协议(GBN)传输数据，数据传输速率为16kb/s,单向传播时延为270ms,数据帧长范围是128～512字节，接收方总是以与数据帧等长的帧进行确认。为使信道利用率达到最高，帧序号的比特数至少为()。</p>
<p>A.5</p>
<p>B.4</p>
<p>C.3</p>
<p>D.2</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B</p>
<p>连续 ARQ 的信道利用率:</p>
<div class="arithmatex">\[\frac{\text{发送窗口大小} \times \text{数据帧长} / \text{数据传输速率} }{(\text{数据帧长} /  \text{数据传输速率}) \times 2 + RTT} = \frac{\text{发送窗口大小} / \text{数据传输速率} }{ 2 / \text{数据传输速率} + RTT / \text{数据传输帧长} }\]</div>
<p>从上述公式可知,数据帧长越大,信道利用率就越高。数据帧长是不确定的,范围 128~512B,在计算最小窗口数时,为了保证无论数据帧长如何变化,信道利用率都能达到 100%,应以 128B的帧长计算。因此，当最短的帧长都能达到 100%的信道利用率时，发送更长的数据帧也都能达到 100%的信道利用率。若以 512B 的帧长计算，则求得的最小窗口数在 128B 的帧长下，达不到100%的信道利用率。首先计算出发送一个帧的时间 <span class="arithmatex">\(128 \times 8 / 16kb/s = 64ms\)</span>，RTT = 270ms × 2 = 540ms，发送一个帧到收到确认帧为止的总时间 64+270x2+64=668ms;这段时间总共可发送 668/64=10.4帧,即发送窗口&gt;11,而接收窗口 =1，所以至少需要用4位比特进行编号。</p>
</details>
<hr>
<h3 id="ppp">PPP的帧格式<a class="headerlink" href="#ppp" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-30.png" data-desc-position="bottom"><img alt="img" src="../assets/3-30.png"></a></p>
<ul>
<li><strong>标志</strong>（Flag）字段：PPP帧的定界符，取值为0x7E。</li>
<li><strong>地址</strong>（Address）字段：取值为0xFF，预留（目前没有什么作用）。</li>
<li><strong>控制</strong>（Control）字段：取值为0x03，预留（目前没有什么作用）。</li>
<li><strong>协议</strong>（Protocol）字段：其值用来指明帧的数据载荷应向上交付给哪个协议处理。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-31.png" data-desc-position="bottom"><img alt="img" src="../assets/3-31.png"></a></p>
<ul>
<li><strong>帧检验序列</strong>（Frame Check Sequence，FCS）字段：其值是使用循环冗余校验CRC计算出的检错码。</li>
</ul>
<details class="example" open="open">
<summary>question</summary>
<p>PPP 协议中的 LCP 帧的作用是（ ）。</p>
<p>A. 在建立状态阶段协商数据链路协议的选项</p>
<p>B. 配置网络层协议</p>
<p>C. 检查数据链路层的错误，并通知错误信息</p>
<p>D. 安全控制，保护通信双方的数据安全</p>
</details>
<details class="note">
<summary>answer</summary>
<p><strong>PPP (Point-to-Point Protocol)</strong> 是一个复杂的数据链路层协议，它不仅仅是传输数据，还包含一整套建立、配置和维护链路的机制。</p>
<p>为了实现这些功能，PPP 协议族中包含了两个主要的控制协议：</p>
<ol>
<li>
<p><strong>LCP (Link Control Protocol) - 链路控制协议</strong></p>
</li>
<li>
<p><strong>NCPs (Network Control Protocols) - 网络控制协议</strong>（注意是复数，例如 IPCP, IPXCP 等）</p>
</li>
</ol>
<p><strong>LCP 的作用</strong></p>
<p>LCP 的核心职责是 <strong>“管理数据链路本身”</strong>。它在网络层（如 IP）开始工作之前运行。LCP 帧就是 LCP 协议在工作时用来通信的消息。</p>
<p>它的主要功能发生在 <strong>“建立状态阶段” (Link Establishment phase)</strong>，具体工作包括：</p>
<p><strong>协商链路选项：</strong> LCP 帧被发送到对端，用来协商和配置数据链路层的各种参数（选项）。</p>
<p><strong>主要选项包括：</strong></p>
<ul>
<li>
<p><strong>最大传输单元 (MTU)：</strong> 协商数据包的最大尺寸。</p>
</li>
<li>
<p><strong>身份验证 (Authentication)：</strong> 协商是否需要身份验证，以及使用哪种协议（如 PAP 或 CHAP）。</p>
</li>
<li>
<p><strong>压缩 (Compression)：</strong> 协商是否使用数据压缩（如 Stacker 或 Deflate）。</p>
</li>
<li>
<p><strong>链路质量监控 (Link Quality Monitoring)：</strong> 协商是否监控链路质量。</p>
</li>
<li>
<p><strong>魔术数字 (Magic Number)：</strong> 用于检测链路环路。</p>
</li>
</ul>
<p>一旦 LCP 协商完成并“打开”了链路，PPP 才会进入下一个阶段。</p>
<p><strong>B. 配置网络层协议：</strong></p>
<p>这是 <strong>NCPs</strong>（网络控制协议）的工作。例如，一旦 LCP 成功建立了链路，<strong>IPCP</strong> (IP Control Protocol，一种NCP) 就会开始工作，用来协商 IP 层的参数（例如为对端分配一个 IP 地址）。LCP 管“链路”，NCP 管“网络层”。</p>
<p><strong>C. 检查数据链路层的错误，并通知错误信息：</strong></p>
<p>PPP 数据帧本身包含一个 <strong>FCS (Frame Check Sequence)</strong> 字段，用于进行差错校验（CRC 校验）。这是 PPP 协议<em>传输数据时</em>的一个基本功能，而不是 LCP <em>协商帧</em>的特定作用。LCP 的作用是“协商”，而不是“校验数据流”。</p>
<p><strong>D. 安全控制，保护通信双方的数据安全：</strong></p>
<p>这个描述不准确。LCP <em>协商</em>是否使用安全（即身份验证，如 CHAP），但 LCP 帧本身并<em>不执行</em>安全控制或数据加密。它只是一个“谈判者”，决定“我们要不要用保安，用哪个保安”。而选项 A（协商选项）更准确地概括了包括安全协商在内的所有 LCP 功能。</p>
</details>
<hr>
<h3 id="ppp_1">PPP帧的透明传输<a class="headerlink" href="#ppp_1" title="Permanent link">¶</a></h3>
<h4 id="byte-stuffing">字节填充 (Byte Stuffing)<a class="headerlink" href="#byte-stuffing" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-32.png" data-desc-position="bottom"><img alt="img" src="../assets/3-32.png"></a></p>
<p>发送方的处理：</p>
<ol>
<li>将数据载荷中出现的每一个 <code>0x7E</code> 减去 <code>0x20</code> （相当于异或 <code>0x20</code> ），然后在其前面插入转义字符 <code>0x7D</code> 。</li>
<li>若数据载荷中原来就含有 <code>0x7D</code> ，则把每一个 <code>0x7D</code> 减去 <code>0x20</code> ，然后在其前面插入转义字符 <code>0x7D</code> 。</li>
<li>将数据载荷中出现的每一个ASCII码控制字符（即数值小于 <code>0x20</code> 的字符），加上 <code>0x20</code> （相当于异或 <code>0x20</code> ，将其转换成非控制字符），然后在其前面插入转义字符 <code>0x7D</code> 。</li>
</ol>
<p>接收方的处理：</p>
<p>进行与发送方相反的变换，就可以正确地恢复出未经过字节填充的原始数据载荷。例如当它看到 <code>0x7D</code> 时，就知道下一个字节是“被转义过”的，它会把下一个字节拿过来，恢复成原始数据（比如把 <code>0x5E</code> 变回 <code>0x7D</code>）。</p>
<details class="note">
<summary>为什么要转义ASCII控制字符</summary>
<p>这主要是一个历史遗留问题，与PPP设计时需要兼容的<strong>老式串行端口（Serial Ports）和调制解调器（Modem）</strong>有关。</p>
<p>在 <code>PPP</code> 出现之前，这些串行端口和 <code>Modem</code> 就已经有它们自己的“控制语言”了，它们会“偷听”传输的数据，寻找特定的<strong>控制字符</strong>来执行某些操作。</p>
<p>所以是为了避免 <code>Modem</code> 等拦截数据传输，防止 <code>PPP</code>协议下方的硬件或软件出错。</p>
</details>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-72.png" data-desc-position="bottom"><img alt="img" src="../assets/3-72.png"></a></p>
<hr>
<h4 id="bit-stuffing">比特填充 (Bit Stuffing)<a class="headerlink" href="#bit-stuffing" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-33.png" data-desc-position="bottom"><img alt="img" src="../assets/3-33.png"></a></p>
<p>发送方的处理：</p>
<p>对帧的数据载荷进行扫描（一般由硬件完成），每出现<strong>5个连续的比特1</strong>，则在其后<strong>填充一个比特0</strong>。</p>
<p>接收方的处理：</p>
<p>对帧的数据载荷进行扫描，每出现<strong>5个连续的比特1</strong>时，就把其后的一个<strong>比特0删除</strong>。</p>
<hr>
<h4 id="character-counting">字符计数法 (Character Counting)<a class="headerlink" href="#character-counting" title="Permanent link">¶</a></h4>
<p>字符计数法是指在帧首部使用一个计数字段来记录该帧所含的字节数(包括计数字段自身所占用的1字节)。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-71.png" data-desc-position="bottom"><img alt="img" src="../assets/3-71.png"></a></p>
<p>这种方法最大的问题在于若计数字段出错，即失去帧边界划分的依据，则接收方就无法判断所传输帧的结束位和下一帧的开始位，收发双方将失去同步，造成灾难性后果。</p>
<hr>
<h3 id="ppp_2">PPP帧的差错检测<a class="headerlink" href="#ppp_2" title="Permanent link">¶</a></h3>
<p><strong>帧检验序列</strong> <code>FCS</code> 字段：其值是使用循环冗余校验CRC计算出的检错码。</p>
<p>CRC采用的生成多项式为 <span class="arithmatex">\(\text{CRC-CCITT} = X^{16} + X^{12} + X^{5} + 1\)</span></p>
<blockquote>
<p>[RFC1662]文档的附录部分给出了FCS的计算方法的C语言实现（查表法）</p>
</blockquote>
<p>接收方每收到一个PPP帧，就进行CRC检验。若CRC检验正确，就收下这个帧；否则，就丢弃这个帧。所以使用PPP的数据链路层，<strong>向上提供的是不可靠数据传输服务</strong>。</p>
<details class="example" open="open">
<summary>question</summary>
<p>PPP提供的是()。</p>
<p>A.无连接的不可靠服务</p>
<p>B.无连接的可靠服务</p>
<p>C.有连接的不可靠服务</p>
<p>D.有连接的可靠服务</p>
</details>
<details class="note">
<summary>answer</summary>
<p>PPP是一种面向连接的点对点数据链路层协议,虽然它在连接建立的过程中使用了确认机制,但在数据帧的发送过程中只保证无差错接收(CRC 检验)，检验正确就接收这个帧，否则丢弃这个帧，其他什么也不做。因此 PPP 提供的是有连接的不可靠服务。</p>
</details>
<hr>
<h2 id="_15">共享式以太网<a class="headerlink" href="#_15" title="Permanent link">¶</a></h2>
<p><strong>以太网</strong>（Ethernet）以曾经被假想的电磁波传播介质——以太（Ether）来命名。</p>
<p>以太网最初采用<strong>无源电缆</strong>（不包含电源线）作为<strong>共享总线</strong>来传输帧，属于<strong>基带总线局域网</strong>，传输速率为2.94Mb/s。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-25.png" data-desc-position="bottom"><img alt="img" src="../assets/3-25.png"></a></p>
<p>以太网目前已经从传统的共享式以太网发展到交换式以太网，传输速率已经从10Mb/s提高到100Mb/s、1Gb/s甚至10Gb/s。</p>
<hr>
<h3 id="_16">网络适配器<a class="headerlink" href="#_16" title="Permanent link">¶</a></h3>
<p>要将计算机连接到以太网，需要使用相应的<strong>网络适配器</strong>（Adapter），网络适配器一般简称为“网卡”。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-26.png" data-desc-position="bottom"><img alt="img" src="../assets/3-26.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-27.png" data-desc-position="bottom"><img alt="img" src="../assets/3-27.png"></a></p>
<p>在计算机内部，<strong>网卡与CPU</strong>之间的通信，一般是通过计算机主板上的 <code>I/O</code> 总线以<strong>并行</strong>传输方式进行。</p>
<p><strong>网卡与外部以太网</strong>（局域网）之间的通信，一般是通过传输媒体（同轴电缆、双绞线电缆、光纤）以<strong>串行方式</strong>进行的。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-28.png" data-desc-position="bottom"><img alt="img" src="../assets/3-28.png"></a></p>
<p>网卡除要实现物理层和数据链路层功能，其另外一个重要功能就是要进行<strong>并行传输和串行传输</strong>的转换。由于网络的传输速率和计算机内部总线上的传输速率并不相同，因此在网卡的核心芯片中都会包含用于缓存数据的存储器。</p>
<p>在确保网卡硬件正确的情况下，为了使网卡正常工作，还必须要在计算机的操作系统中为网卡安装相应的设备驱动程序。<strong>驱动程序</strong>负责驱动网卡发送和接收帧。</p>
<details class="example" open="open">
<summary>question</summary>
<p>以太网卡实现的主要功能在（ ）。</p>
<p>A. 物理层和数据链路层</p>
<p>B. 数据链路层和网络层</p>
<p>C. 物理层和网络层</p>
<p>D. 数据链路层和应用层</p>
</details>
<details class="note">
<summary>answer</summary>
<p>以太网卡（也称为网络接口卡，NIC）是计算机连接到以太网的硬件设备。它的功能跨越了 OSI 模型的最低两层：</p>
<ol>
<li><strong>物理层 (Layer 1)：</strong></li>
</ol>
<ul>
<li>
<p><strong>物理连接：</strong> 提供 RJ45 接口（或光纤接口）来连接网线。</p>
</li>
<li>
<p><strong>信号收发：</strong> 负责将来自计算机的数字比特流（'1'和'0'）<strong>编码</strong>成电信号（或光信号）发送到网络上，并<strong>解码</strong>收到的信号，将其变回数字比特流。</p>
</li>
</ul>
<ol start="2">
<li><strong>数据链路层 (Layer 2)：</strong></li>
</ol>
<ul>
<li>
<p><strong>MAC 地址：</strong> 每张网卡都有一个全球唯一的 <strong>MAC 地址</strong>（物理地址）。</p>
</li>
<li>
<p><strong>数据帧封装：</strong> 将来自上层（网络层，如 IP 包）的数据打包成<strong>以太网数据帧 (Frame)</strong>。它会添加“帧头”（包含源/目标 MAC 地址）和“帧尾”（包含 FCS 校验和）。</p>
</li>
<li>
<p><strong>MAC 寻址与过滤：</strong> 当收到一个数据帧时，网卡硬件会检查该帧的<strong>目标 MAC 地址</strong>。如果这个地址是自己的 MAC 地址（或广播/组播地址），它就会接受该帧并将其交给操作系统；否则，它会直接丢弃该帧，而不需要 CPU 介入。</p>
</li>
<li>
<p><strong>差错校验 (FCS)：</strong> 检查收到的数据帧是否在传输中出错。</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>
<p>物理层:中继器、集线器</p>
</li>
<li>
<p>数据链路层:网桥 交换机</p>
</li>
<li>
<p>网络层:路由器</p>
</li>
</ul>
</div>
</details>
<hr>
<h3 id="mac">MAC地址<a class="headerlink" href="#mac" title="Permanent link">¶</a></h3>
<p>对于点对点信道，数据链路层不需要使用地址。但是对于广播信道，当一个节点发送数据时，其他所有节点都能收到该数据，因此需要使用地址来区分不同的节点。</p>
<p>当多个主机连接在同一个广播信道上，要想实现两个主机之间的通信，则每个主机都必须有一个<strong>唯一的标识</strong>，即一个<strong>数据链路层地址</strong>。</p>
<p>在每个主机发送的<strong>帧的首部</strong>中，都携带有发送主机（源主机）和接收主机（目的主机）的<strong>数据链路层地址</strong>。由于这类地址是用于<strong>媒体接入控制</strong>（Medium Access Control，MAC）的，因此被称为 <code>MAC</code> 地址。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-29.png" data-desc-position="bottom"><img alt="img" src="../assets/3-29.png"></a></p>
<p><strong>MAC地址</strong>一般被固化在网卡的电可擦可编程只读存储器EEPROM中，因此MAC地址也被称为<strong>硬件地址</strong>。</p>
<p>MAC地址有时也被称为<strong>物理地址</strong>。</p>
<div class="admonition info">
<p class="admonition-title">attention</p>
<p>虽然这里说物理地址，但是这个物理地址属于数据链路层范畴。</p>
</div>
<p>一般情况下，普通用户计算机中往往会包含两块网卡：</p>
<ul>
<li>一块是用于接入有线局域网的<strong>以太网卡</strong></li>
<li>另一块是用于接入无线局域网的<strong>Wi-Fi网卡</strong></li>
</ul>
<p>每块网卡都有一个<strong>全球唯一</strong>的MAC地址。</p>
<p>交换机和路由器往往具有更多的网络接口，所以会拥有更多的MAC地址。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>综上所述，严格来说，MAC地址是对网络上<strong>各接口的唯一标识</strong>，而不是对网络上各设备的唯一标识。</p>
</div>
<hr>
<h3 id="mac_1">MAC地址格式<a class="headerlink" href="#mac_1" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-34.png" data-desc-position="bottom"><img alt="img" src="../assets/3-34.png"></a></p>
<p>MAC地址是一个6字节（48位）的数字。为了方便人看，通常写成12个十六进制数。因为是48位，所以总共有 $2^{48} $ 个不同的MAC地址。</p>
<p>在这6个字节中，第1个字节是用来表示<strong>地址类型</strong>的。</p>
<ol>
<li>第1个字节的<strong>最低有效位</strong>（即第0位）(I/G)用来表示<strong>单播地址</strong>（Unicast Address）还是<strong>多播地址</strong>（Multicast Address）。单播地址的该位为0，表示该地址是分配给某个单一设备的；多播地址的该位为1，表示该地址是分配给一组设备的。</li>
</ol>
<p>例如当一台电脑A要给另一台电脑B发信息时，它会使用电脑B的“单播”地址。这是网络中最常见的通信方式。而当一个视频会议服务器想把画面同时发给会议室里的10台电脑，它就可以把数据发送到一个“多播”地址。这10台电脑都会“订阅”这个地址并接收数据，而会议室外的其他电脑则会忽略它。</p>
<ol start="2">
<li>第1个字节的<strong>次低有效位</strong>（即第1位）(G/L)用来表示<strong>全局唯一地址</strong>（Globally Unique Address）还是<strong>本地管理地址</strong>（Locally Administered Address）。全局唯一地址的该位为0，表示该地址是由IEEE统一分配的，全球唯一；本地管理地址的该位为1，表示该地址是由本地管理员自行分配的，可能不是全球唯一的。</li>
</ol>
<p>字节的发送顺序是：低地址字节先发送，高地址字节后发送。从第一字节的 <code>b0</code> 位到 <code>b7</code> 位，从第一字节到第六字节。</p>
<hr>
<h4 id="mac_2">多播MAC地址举例<a class="headerlink" href="#mac_2" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-35.png" data-desc-position="bottom"><img alt="img" src="../assets/3-35.png"></a></p>
<p>四台“交换机”被连接成了一个环形。如果左下角的交换机收到了一个“广播帧”。它会把这个帧转发给所有其他端口，于是这个帧会像“幽灵”一样永无休止地在这个环路里疯狂循环，并且被无限复制。这会在1秒钟内耗尽所有网络带宽，导致所有交换机CPU占满，网络彻底瘫痪。这种情况被称为“<strong>广播风暴</strong>”。</p>
<p>为了防止这种“环路灾难”，STP（Spanning Tree Protocol，生成树协议）应运而生。</p>
<p>STP协议的唯一目的就是：在物理上允许环路（用于备份），但在逻辑上“剪断”环路。为了防止环路，它会<strong>阻塞（禁用）</strong>一个端口，逻辑上把这个环“剪开”。所以右下角那条被阻塞的链路变成了“备份链路”。如果其他任何一条链路（比如左上角和右上角之间）断了，STP会自动重新计算，并在几秒钟内激活那个被阻塞的端口，恢复网络通信。</p>
<p>而交换机是通过<strong>多播MAC地址</strong>来识别STP协议帧的。交换机之间传递的是 BPDU（Bridge Protocol Data Unit，网桥协议数据单元）。这个 BPDU 需要被所有交换机识别，所以既不能使用单播地址，也不能使用广播地址（因为广播地址会被所有设备接收，增加不必要的负担）。</p>
<hr>
<p>网卡从网络上每收到一个帧，就检查帧首部中的目的MAC地址，按以下情况处理：</p>
<ol>
<li>如果目的MAC地址是广播地址（FF-FF-FF-FF-FF-FF），则接受该帧。</li>
<li>如果目的MAC地址与网卡上固化的全球单播MAC地址相同，则接受该帧。</li>
<li>如果目的MAC地址是网卡支持的多播地址，则接受该帧。</li>
<li>除上述情况外，丢弃该帧。</li>
</ol>
<p>网卡还可被设置为一种特殊的工作方式：<strong>混杂方式</strong>（Promiscuous Mode）。工作在混杂方式的网卡，只要收到共享媒体上传来的帧就会收下，而不管帧的目的MAC地址是什么。</p>
<ul>
<li>对于网络维护和管理人员，这种方式可以监视和分析局域网上的流量，以便找出提高网络性能的具体措施。</li>
<li><strong>嗅探器</strong>（Sniffer）就是一种工作在混杂方式的网卡，再配合相应的工具软件（WireShark），就可以作为一种非常有用的网络工具来学习和分析网络。</li>
<li>混杂方式就像一把“双刃剑”，黑客常利用这种方式非法获取网络用户的口令。</li>
</ul>
<p>全球单播MAC地址就如同身份证上的身份证号码，具有唯一性，它往往与<strong>用户个人信息</strong>绑定在一起。因此，用户应尽量<strong>确保自己拥有的全球单播MAC地址不被泄露</strong>。</p>
<p>为了避免用户设备连接Wi-Fi热点时MAC地址泄露的安全问题，目前大多数移动设备都已经采用了<strong>随机MAC地址技术</strong>。</p>
<hr>
<h3 id="csmacd">CSMA/CD协议<a class="headerlink" href="#csmacd" title="Permanent link">¶</a></h3>
<h4 id="csmacd_1">CSMA/CD协议的基本原理<a class="headerlink" href="#csmacd_1" title="Permanent link">¶</a></h4>
<p>在以太网的发展初期，人们普遍认为“无源的电缆线比有源器件可靠”，因此将多个站点连接在一条总线上来构建<strong>共享总线以太网</strong>。</p>
<p>共享总线以太网具有<strong>天然的广播特性</strong>，即使总线上某个站点给另一个站点发送单播帧，表示帧的信号也会沿着总线传播到总线上的其他各站点。</p>
<p>当某个站点在总线上发送帧时，总线资源会被该站点独占。此时，如果总线上的其他站点也要在总线上发送帧，就会产生信号<strong>碰撞</strong>。当两个或多个站点同时使用总线发送帧时，就会产生信号碰撞。</p>
<p>为了解决各站点争用总线的问题，共享总线以太网使用了一种专用协议 <code>CSMA/CD</code> ，它是<strong>载波监听多址接入/碰撞检测</strong>（Carrier Sense Multiple Access Collision Detection）的英文缩写词。</p>
<ol>
<li>多址接入</li>
</ol>
<p>多个站点连接在一条总线上，竞争使用总线。</p>
<ol start="2">
<li>载波监听</li>
</ol>
<p>每个站点在发送帧之前，先要检测一下总线上是否有其他站点在发送帧（“<strong>先听后说</strong>”）：</p>
<ul>
<li>若检测到总线空闲96比特时间（发送96比特所耗费的时间，也称为帧间最小间隔），则发送这个帧；</li>
<li>若检测到总线忙，则继续检测并等待总线转为空闲96比特时间，然后发送这个帧。</li>
</ul>
<ol start="3">
<li>每个正在发送帧的站点边发送边检测碰撞（“<strong>边说边听</strong>”）：</li>
</ol>
<ul>
<li>一旦发现总线上出现碰撞，立即停止发送，退避一段随机时间后再次从载波监听开始进行发送（“一旦冲突，立即停说，等待时机，重新再说”）。</li>
<li>发送帧的站点一旦检测到碰撞，除了立即停止发送帧外，还要再继续发送<strong>32比特或48比特的人为干扰信号</strong>（Jamming Signal），以便<strong>有足够多的碰撞信号使所有站点都能检测出碰撞</strong>。</li>
</ul>
<details class="note">
<summary>小summary</summary>
<p>载波监听检测到总线空闲，但<strong>总线并不一定空闲</strong>。因为载波监听是指每个站点在发送数据前，先“听”总线上有没有其他站点正在发送数据。如果检测到总线空闲，就开始发送。但实际上，即使检测到空闲，也可能有其他站点几乎同时开始发送，导致信号在总线上发生碰撞。所以载波监听不能完全保证总线真的空闲。</p>
<p>使用CSMA/CD协议的共享总线以太网上的各站点，只是尽量避免碰撞并在出现碰撞时做出退避后重发的处理，但<strong>不能完全避免碰撞</strong>。</p>
</details>
<p>在使用CSMA/CD协议时，由于正在发送帧的站点必须“边发送帧边检测碰撞”，因此站点不可能同时进行发送和接收，也就是不可能进行全双工通信，而只能进行<strong>半双工通信</strong>（双向交替通信）。</p>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-36.png" data-desc-position="bottom"><img alt="img" src="../assets/3-36.png"></a></p>
</details>
<hr>
<h4 id="_17">共享式以太网的争用期<a class="headerlink" href="#_17" title="Permanent link">¶</a></h4>
<p>使用CSMA/CD协议的共享总线以太网上的任意站点在发送帧的过程中都可能会遭遇碰撞。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-37.png" data-desc-position="bottom"><img alt="img" src="../assets/3-37.png"></a></p>
<p>所以，从 A 站的角度看，从它开始发送 (T=0)，到它检测到最晚的碰撞 (T=2 <span class="arithmatex">\(\tau\)</span> )，所经历的最长时间就是 <span class="arithmatex">\(2\tau\)</span>。</p>
<p>也就是说站点从发送帧开始，最多经过时长 <span class="arithmatex">\(2\tau\)</span> （即 <span class="arithmatex">\(𝜹\)</span> → 0 ）就可检测出所发送的帧是否遭遇了碰撞。</p>
<p>因此，共享总线以太网的<strong>端到端往返时间</strong> <span class="arithmatex">\(2\tau\)</span> 被称为<strong>争用期</strong>（Contention Period）或<strong>碰撞窗口</strong>（Collision Window），它是一个非常重要的参数。</p>
<ul>
<li>站点从发送帧开始，<strong>经过争用期 <span class="arithmatex">\(2\tau\)</span> 这段时间还没有检测到碰撞，就可以肯定这次发送不会产生碰撞</strong>。</li>
</ul>
<p>从争用期的概念可以看出，共享总线以太网上的每一个站点从发送帧开始，到之后的一小段时间内，都有可能遭遇碰撞，而<strong>这一小段时间的长短是不确定的</strong>，它<strong>取决于另一个发送帧的站点与本站点的距离</strong>，但不会超过总线的端到端往返传播时延，即一个争用期 <span class="arithmatex">\(2\tau\)</span> 。</p>
<ul>
<li>很显然，总线的长度越长（单程端到端传播时延越大），网络中站点数量越多，发生碰撞的概率就越大。</li>
<li>因此，共享以太网的总线长度不能太长，接入的站点数量也不能太多。</li>
</ul>
<hr>
<p>𝟏𝟎𝑴𝒃/𝒔共享总线以太网（传统以太网）规定：争用期 <span class="arithmatex">\(2\tau\)</span> 的值为𝟓𝟏𝟐比特的发送时间，即𝟓𝟏.𝟐 <span class="arithmatex">\(\mu s\)</span> 。</p>
<p>争用期 <span class="arithmatex">\(2\tau = 51.2 \mu s\)</span> 对应的单程端到端传播时延为 <span class="arithmatex">\(\tau = 25.6 \mu s\)</span> 。</p>
<p>假设信号的传播速度为 <span class="arithmatex">\(\nu = 2 \times 10^8 m/s\)</span> ，则共享总线以太网的最大总线长度为：</p>
<div class="arithmatex">\[L = \nu \times \tau = 2 \times 10^8 m/s \times 25.6 \mu s = 5120 m = 5.12 km\]</div>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-38.png" data-desc-position="bottom"><img alt="img" src="../assets/3-38.png"></a></p>
</details>
<hr>
<h4 id="_18">共享式以太网的最小帧长和最大帧长<a class="headerlink" href="#_18" title="Permanent link">¶</a></h4>
<p>由于可能存在因为发送的帧过短而无法在发送完该帧之前检测出碰撞的情况，因此共享总线以太网规定了<strong>最小帧长</strong>。</p>
<p>为了确保共享总线以太网上的每一个站点在发送完一个完整的帧之前，能够检测出是否产生了碰撞，<strong>帧的发送时延就不能少于共享总线以太网端到端的往返时间</strong>，即一个争用期 <span class="arithmatex">\(2\tau\)</span> 。</p>
<p>对于𝟏𝟎𝑴𝒃/𝒔的共享总线以太网，其争用期 <span class="arithmatex">\(2\tau\)</span> 的值规定为𝟓𝟏.𝟐 <span class="arithmatex">\(\mu s\)</span>，因此其<strong>最小帧长</strong>为𝟓𝟏𝟐𝒃，即𝟔𝟒𝑩。</p>
<ul>
<li>当某个站点在发送帧时，如果帧的前𝟔𝟒𝑩没有遭遇碰撞，那么帧的后续部分也就不会遭遇碰撞。也就是说，如果遭遇碰撞，就一定是在帧的前𝟔𝟒𝑩之内。</li>
<li>由于发送帧的站点边发送帧边检测碰撞，一旦检测到碰撞就立即中止帧的发送，此时已发送的数据量一定小于𝟔𝟒𝑩。因此，接收站点<strong>收到长度小于𝟔𝟒𝑩的帧</strong>，就可判定这是一个<strong>遭遇了碰撞而异常中止的无效帧</strong>，将其丢弃即可。</li>
</ul>
<p>一般来说，帧的数据载荷的长度应<strong>远大于</strong>帧首部和尾部的总长度，这样可以提高帧的传输效率。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-39.png" data-desc-position="bottom"><img alt="img" src="../assets/3-39.png"></a></p>
<p>然而，如果不限制数据载荷的长度上限，就可能使得<strong>帧的长度太长</strong>，这会带来一些问题。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-40.png" data-desc-position="bottom"><img alt="img" src="../assets/3-40.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-41.png" data-desc-position="bottom"><img alt="img" src="../assets/3-41.png"></a></p>
<p>这是满足最小帧长的要求的，因为 6 + 6 + 2 + 46 + 4 = 64 字节。</p>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-42.png" data-desc-position="bottom"><img alt="img" src="../assets/3-42.png"></a></p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>以太网中，当数据传输率提高时，帧的发送时间会相应地缩短，这样可能会影响到冲突的检测。为了能有效地检测冲突，可以使用的解决方法有（ ）。</p>
<p>A. 减少传输介质的长度或减少最短帧长</p>
<p>B. 减少传输介质的长度或增加最短帧长</p>
<p>C. 增加传输介质的长度或减少最短帧长</p>
<p>D. 增加传输介质的长度或增加最短帧长</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B. 减少传输介质的长度或增加最短帧长</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>对于100Mb/s的以太网交换机，当输出端口无排队，以直通交换方式转发一个以太网帧(不包括前导码)时，引入的转发时延至少是()。</p>
<p>A.0 <span class="arithmatex">\(\mu\)</span> s</p>
<p>B.0.48 <span class="arithmatex">\(\mu\)</span> s</p>
<p>C.5.12 <span class="arithmatex">\(\mu\)</span> s</p>
<p>D.121.44 <span class="arithmatex">\(\mu\)</span> s</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B</p>
<p>直通交换方式的输入接口接收到一个帧时，只检查帧的目的 MAC 地址决定输出接口，引入的转发时延至少为读取目的 MAC 地址所需的时间。目的MAC地址共6B，引入的转发时延至少为 6x8bit <span class="arithmatex">\(\div\)</span> 100Mb/s=0.48 <span class="arithmatex">\(\mu\)</span> s。存储转发方式引入的转发时延则至少为读取整个帧的时间。</p>
</details>
<hr>
<h4 id="_19">共享式以太网的退避算法<a class="headerlink" href="#_19" title="Permanent link">¶</a></h4>
<p>在使用CSMA/CD协议的共享总线以太网中，正在发送帧的站点一边发送帧一边检测碰撞，当检测到碰撞时就立即停止发送，<strong>退避一段随机时间</strong>后再重新发送。</p>
<p>共享总线以太网中的各站点采用<strong>截断二进制指数退避</strong>（Truncated Binary Exponential Backoff）算法来选择退避的随机时间。</p>
<div class="arithmatex">\[\text{退避时间 } = \text{ 基本退避时间 } \times \text{ 随机数 } r\]</div>
<ul>
<li>基本退避时间：<span class="arithmatex">\(2 \tau\)</span> ，即一个<strong>争用期</strong>的时长。</li>
<li>随机数 <span class="arithmatex">\(r\)</span> ：r 从离散整数集合 <span class="arithmatex">\(\{0,1,2, \ldots , 2^k -1\}\)</span> 中<strong>随机选出</strong>一个数，<span class="arithmatex">\(k = \min (\text{重传次数},10)\)</span> 。这是该算法名称中“截断二进制指数”这种称谓的由来。</li>
</ul>
<p>如果连续多次发送碰撞，就表明可能有较多的站点参与竞争信道。但使用上述退避算法可<strong>使重传需要推迟的平均时间随重传次数而增大</strong>（即<strong>动态退避</strong>），因而减小产生碰撞的概率。</p>
<p>当<strong>重传达16次仍不能成功</strong>时，就表明同时打算发送帧的站点太多，以至于连续产生碰撞，此时应<strong>放弃重传</strong>并向高层报告。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-43.png" data-desc-position="bottom"><img alt="img" src="../assets/3-43.png"></a></p>
<details class="note">
<summary>Note</summary>
<p>重传次数就是发生碰撞的次数。</p>
</details>
<hr>
<h4 id="_20">共享式以太网的信道利用率<a class="headerlink" href="#_20" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-44.png" data-desc-position="bottom"><img alt="img" src="../assets/3-44.png"></a></p>
<p>考虑以下这种理想情况：</p>
<ul>
<li>总线一旦空闲就有某个站点立即发送帧</li>
<li>各站点发送帧都不会产生碰撞</li>
<li>发送一帧占用总线的时间为 <span class="arithmatex">\(T_0 + \tau\)</span> ，而帧本身的发送时间是 <span class="arithmatex">\(T_0\)</span></li>
</ul>
<div class="arithmatex">\[\text{极限信道利用率 } S_{max} = \frac{T_{0}}{T_{0} + \tau} = \frac{1}{1 + \frac{\tau}{T_{0}}} = \frac{1}{1 + \alpha}\]</div>
<ul>
<li>参数 <span class="arithmatex">\(\alpha\)</span> 的值应尽量小，以提高信道利用率。</li>
<li>共享总线以太网端到端的距离不应太长</li>
<li>帧的长度应尽量大</li>
</ul>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-45.png" data-desc-position="bottom"><img alt="img" src="../assets/3-45.png"></a></p>
<ul>
<li>信号传播延迟也就是 <span class="arithmatex">\(\tau\)</span> , <span class="arithmatex">\(\tau\)</span> 越小，信道利用率越高。</li>
<li>CSMA/CD (Carrier Sense Multiple Access / Collision Detection) ：用在有线以太网。边发边听。在无线环境中无法工作。</li>
<li>CSMA/CA (Carrier Sense Multiple Access / Collision Avoidance) ：用在无线以太网。因为无线信道的特殊性，无法边发边听，所以采用避免碰撞的方法。发送前，先听信道是否空闲。如果信道空闲，不能马上发。必须先等待一个固定的帧间间隔 (DIFS)。等完 DIFS 后，再等待一个随机退避时间（在一个“竞争窗口”内随机选个数）。当随机计时器倒数到 0 时，发送数据。由于无法检测碰撞，发送方必须依赖接收方显式地回复一个 ACK (确认) 帧。</li>
</ul>
</details>
<hr>
<h3 id="_21">使用集线器的共享式以太网<a class="headerlink" href="#_21" title="Permanent link">¶</a></h3>
<p>早期的传统以太网是使用<strong>粗同轴电缆</strong>的共享<strong>总线</strong>以太网，后来发展到使用价格相对便宜的<strong>细同轴电缆</strong>。</p>
<p>当初认为这种连接方法既简单又可靠，因为在那个时代普遍认为<strong>有源器件不可靠</strong>，而<strong>无源的电缆线</strong>才是最可靠的。</p>
<ul>
<li>然而，实践证明这种使用<strong>无源电缆线和大量机械接口</strong>的总线型以太网并不像人们想象的那么<strong>可靠</strong>。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-46.png" data-desc-position="bottom"><img alt="img" src="../assets/3-46.png"></a></p>
<ul>
<li>若总线上的某个机械连接点接触不良或断开，则整个网络通信就不稳定或彻底断网。</li>
</ul>
<p>在使用细同轴电缆的共享总线以太网之后，以太网发展出来了一种使用大规模集成电路来替代总线、并且可靠性非常高的设备，叫作<strong>集线器</strong>（Hub）。</p>
<p>站点连接到集线器的传输媒体也转而使用更便宜、更灵活的<strong>双绞线电缆</strong>。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-47.png" data-desc-position="bottom"><img alt="img" src="../assets/3-47.png"></a></p>
<p>集线器的一些主要特点如下：</p>
<ol>
<li>使用集线器的以太网虽然<strong>物理拓扑是星型</strong>的，但在<strong>逻辑</strong>上仍然是一个<strong>总线网</strong>。总线上的各站点共享总线资源，使用的还是<strong>CSMA/CD协议</strong>。</li>
<li>集线器只工作在<strong>物理层</strong>，它的每个接口仅简单地转发比特，并不进行碰撞检测。碰撞检测的任务由各站点中的网卡负责。</li>
<li>集线器一般都有<strong>少量的容错能力和网络管理功能</strong>。例如，若网络中某个站点的网卡出现了故障而不停地发送帧，集线器可以检测到这个问题，在内部断开与出故障网卡的连线，使整个以太网能正常工作。</li>
</ol>
<p>IEEE于1990年制定了<strong>10BASE-T</strong>星型以太网的标准802.3i，这种以太网是局域网发展史上的一座非常重要的里程碑，它为<strong>以太网在局域网中的统治地位</strong>奠定了牢固的基础。</p>
<ul>
<li>10BASE-T以太网的通信距离较短，每个<strong>站点到集线器</strong>的距离<strong>不能超过100m</strong>。</li>
<li>IEEE 802.3以太网还可使用光纤作为传输媒体，相应的标准为10BASE-F，“F”表示光纤。光纤主要用作集线器之间的远程连接。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-48.png" data-desc-position="bottom"><img alt="img" src="../assets/3-48.png"></a></p>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-49.png" data-desc-position="bottom"><img alt="img" src="../assets/3-49.png"></a></p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>在某CSMA/CD局域网中，使用一个Hub连接所有站点，且限定站点到Hub的最长距离为100m,信号的传播速率为200000km/s,则站点的最长冲突检测时间是()。</p>
<p>A.2μs</p>
<p>B.2ms</p>
<p>C.1μs</p>
<p>D.1ms</p>
</details>
<details class="note">
<summary>answer</summary>
<p>答案：A</p>
<p>限定站点到集线器(Hub)的最长距离为 100m，则两个站点之间的最长距离为200m，最长冲突检测时间等于信号在两个最远站点之间的往返传输时间，即 2x200m/200000km/s=2us。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>如下图所示，在Hub再生比特流的过程中会产生1.535μs的时延(Switch和Hub均为100Base-T设备),信号传播速率为200m/μs,不考虑以太网帧的前导码，则H3和H4之间理论上可以相距的最远距离是()。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-73.png" data-desc-position="bottom"><img alt="img" src="../assets/3-73.png"></a></p>
<p>A.200m</p>
<p>B.205m</p>
<p>C.359m</p>
<p>D.512m</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B</p>
<p>有关最短帧长的题要抓住两个公式来分析:</p>
<ol>
<li>
<p>发送帧的时间&gt;争用期的时间;</p>
</li>
<li>
<p>最短帧长数据传输速率x争用期时间。要使公式1恒成立，就要考虑在最短帧长的情况下公式1仍成立。</p>
</li>
</ol>
<p>对于本题，发送最短帧的时间为 64B-100Mb=5.12 <span class="arithmatex">\(\mu\)</span> s，根据公式 1 可知，该时间即为争用期时间(往返时延)的最大值。</p>
<p>本题的特点在于往返时延由两部分组成，即传播时延和 Hub,产生的转发时延单程总时延为 2.56 <span class="arithmatex">\(\mu\)</span> s，Hub 产生的转发时延为 1.535 <span class="arithmatex">\(\mu\)</span> s，所以传播时延为 2.56-1.535 = 1.025 <span class="arithmatex">\(\mu\)</span> s，从而 H3 与 H4 之间理论上可以相距的最大距离为 200m/<span class="arithmatex">\(\mu\)</span>s x 1.025 <span class="arithmatex">\(\mu\)</span> s=205m。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>有一个长度为 56 字节的 IP 数据报需要通过 DIX v2 以太网进行传输，则以太网帧的数据载荷部分需要填充的字节数量是（ ）。</p>
<p>A. 0</p>
<p>B. 4</p>
<p>C. 8</p>
<p>D. 12</p>
</details>
<details class="note">
<summary>answer</summary>
<p>A. 0</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-74.png" data-desc-position="bottom"><img alt="img" src="../assets/3-74.png"></a></p>
</details>
<hr>
<h3 id="_22">在物理层扩展以太网<a class="headerlink" href="#_22" title="Permanent link">¶</a></h3>
<h4 id="_23">扩展站点与集线器之间的距离(转发器太古早了不需要记忆)<a class="headerlink" href="#_23" title="Permanent link">¶</a></h4>
<p>共享总线以太网中两站点之间的<strong>距离不能太远</strong>，否则它们之间所传输的<strong>信号就会衰减到使CSMA/CD协议无法正常工作</strong>。</p>
<p>在早期广泛使用粗同轴电缆或细同轴电缆共享总线以太网时，为了提高网络的地理覆盖范围，常用的是<strong>工作在物理层的转发器</strong>。</p>
<p>IEEE 802.3标准规定，两个网段可用一个转发器连接起来，任意两个站点之间最多可以经过三个网段。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-50.png" data-desc-position="bottom"><img alt="img" src="../assets/3-50.png"></a></p>
<p>随着使用双绞线和集线器的10BASE-T星型以太网成为以太网的主流类型，扩展网络覆盖范围就很少使用转发器了。</p>
<p>10BASE-T星型以太网中每个站点到集线器的距离不能超过100m，因此两站点间的通信距离最大不能超过200m。</p>
<p>在10BASE-T星型以太网中，可使用<strong>光纤</strong>和一对<strong>光纤调制解调器</strong>来扩展站点与集线器之间的距离。</p>
<ul>
<li>这种扩展方法比较简单，所需付出的代价是：为站点和集线器各增加一个用于电信号和光信号转换的光纤调制解调器，以及它们之间的一对通信光纤。</li>
</ul>
<p>信号在光纤中的衰减和失真很小，因此使用这种方法可以很简单地将站点与集线器之间的距离扩展到1000以上。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-51.png" data-desc-position="bottom"><img alt="img" src="../assets/3-51.png"></a></p>
<hr>
<h4 id="_24">扩展共享式以太网的覆盖范围和站点数量<a class="headerlink" href="#_24" title="Permanent link">¶</a></h4>
<p>以太网集线器一般具有8~32个接口，如果要连接的站点数量超过了单个集线器能够提供的接口数量，就需要使用多个集线器，这样就可以连接成覆盖更大范围、连接更多站点的多级星型以太网。</p>
<p>采用多个集线器连接而成的多级星型以太网，在扩展了网络覆盖范围和站点数量的同时，也带来了一些负面因素。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-52.png" data-desc-position="bottom"><img alt="img" src="../assets/3-52.png"></a></p>
<ul>
<li>本来是部门A一个碰撞域，部门B一个碰撞域，现在变成了一个大的碰撞域，碰撞概率增大，信道利用率降低。</li>
<li>在物理层扩展的共享式以太网仍然是一个碰撞域，不能连接太多的站点，否则可能会出现大量的碰撞，导致平均吞吐量太低。</li>
</ul>
<hr>
<h3 id="_25">在数据链路层扩展以太网<a class="headerlink" href="#_25" title="Permanent link">¶</a></h3>
<h4 id="_26">使用网桥在数据链路层扩展以太网<a class="headerlink" href="#_26" title="Permanent link">¶</a></h4>
<p>网桥（bridge）工作在数据链路层（包含其下的物理层），因此<strong>网桥具备属于数据链路层范畴的相关能力</strong>。</p>
<ul>
<li>网桥可以识别帧的结构。</li>
<li>网桥可以根据帧首部中的<strong>目的MAC地址</strong>和网桥自身的<strong>帧转发表</strong>来转发或丢弃所收到的帧。</li>
</ul>
<p>网桥会把连接的每个网段作为独立的碰撞域，只有需要跨网段通信时才转发帧。所以，使用网桥可以<strong>减少碰撞域的大小</strong>，从而<strong>降低碰撞概率，提高信道利用率</strong>。</p>
<hr>
<h4 id="_27">网桥的主要结构和基本工作原理<a class="headerlink" href="#_27" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-53.png" data-desc-position="bottom"><img alt="img" src="../assets/3-53.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-54.png" data-desc-position="bottom"><img alt="img" src="../assets/3-54.png"></a></p>
<ul>
<li>网桥的接口在向其连接的网段转发帧时，会执行相应的媒体接入控制协议，对于共享式以太网就是CSMA/CD协议。</li>
</ul>
<p>工作原理:</p>
<ol>
<li>网桥收到一个帧后，检查帧的目的MAC地址。</li>
<li>查找转发表，判断该地址属于哪个接口（哪个网段）。</li>
</ol>
<ul>
<li>如果目的地址在本地网段（如A发给B），网桥不转发，直接丢弃，减少不必要的流量。</li>
<li>如果目的地址在另一个网段（如A发给E），网桥转发该帧到对应接口，实现跨网段通信。</li>
</ul>
<ol start="3">
<li>网桥会自动学习：每收到一个帧，就把源MAC地址和收到的接口记入转发表，实现自适应。</li>
</ol>
<hr>
<h4 id="_28">透明网桥的自学习和转发帧的流程<a class="headerlink" href="#_28" title="Permanent link">¶</a></h4>
<p>透明网桥（Transparent Bridge）通过<strong>自学习</strong>算法建立转发表。</p>
<p>透明网桥中的“<strong>透明</strong>”，是指以太网中的各站点并不知道自己所发送的帧将会经过哪些网桥的转发，最终到达目的站点。也就是说，<strong>以太网中的各网桥对于各站点而言是看不见的</strong>。</p>
<p>透明网桥的标准是IEEE 802.1D，它通过一种自学习算法<strong>基于以太网中各站点间的相互通信</strong>逐步建立起自己的转发表。</p>
<p>流程：</p>
<ol>
<li>网桥收到帧后进行<strong>登记</strong>（即<strong>自学习</strong>），登记的内容为帧的源MAC地址和进入网桥的接口号。</li>
<li>网桥根据帧的<strong>目的MAC地址</strong>和网桥的<strong>转发表</strong>对帧进行<strong>转发</strong>，包含以下三种情况：</li>
</ol>
<ul>
<li><strong>明确转发</strong>：网桥知道应当从哪个接口转发帧。</li>
<li><strong>盲目转发</strong>：网桥不知道应当从哪个接口转发帧，只能将其通过除进入网桥的接口外的其他所有接口转发。</li>
<li><strong>丢弃</strong>：网桥知道不应该转发该帧，将其丢弃。</li>
</ul>
<div class="admonition info">
<p class="admonition-title">attention</p>
<ol>
<li>
<p>如果网桥收到有误码的帧则直接丢弃。</p>
</li>
<li>
<p>如果网桥收到一个无误码的广播帧，则不用进行查表，而是直接从除接收该广播帧的接口的其他接口转发该广播帧。</p>
</li>
<li>
<p>转发表中的每条记录都有其有效时间，到期自动删除！这是因为各站点的MAC地址与网桥接口的对应关系并不是永久性的，例如某个站点更换了网卡，其MAC地址就会改变。</p>
</li>
</ol>
</div>
<details class="example" open="open">
<summary>question</summary>
<p>以太网交换机的自学习是指（ ）。</p>
<p>A. 记录帧的源 MAC 地址与该帧进入交换机的端口号</p>
<p>B. 记录帧的目的 MAC 地址与该帧进入交换机的端口号</p>
<p>C. 记录数据包的源 IP 地址与该数据包进入交换机的端口号</p>
<p>D. 记录数据包的目的 IP 地址与该数据包进入交换机的端口号</p>
</details>
<details class="note">
<summary>answer</summary>
<p>A. 记录帧的源 MAC 地址与该帧进入交换机的端口号</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>某以太网如下图所示，假设交换机1和交换机2的交换表初始为空，各主机之间依次进行以下通信：A→B、H→A、E→X、X→E,则关于上述通信过程叙述错误的是()。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-116.png" data-desc-position="bottom"><img alt="img" src="../assets/3-116.png"></a></p>
<p>A.当A→B时，除A外的全部主机都能收到A发送的帧</p>
<p>B.当H→A时，仅A能收到H发送的帧</p>
<p>C.当E→X时，仅X能收到E发送的帧</p>
<p>D.当X→E时，交换机2收不到X发送的帧</p>
</details>
<details class="note">
<summary>answer</summary>
<p>C</p>
<p>当 A→B 时，交换表都为空，交换机1和交换机2都进行洪泛发送，因此除 A 外的全部主机都能收到 A 发送的帧。当 H→A 时，因为交换机2 已登记 A 所在的接口为 3，所以只向接口3转发，交换机1收到帧后，因为交换机1已登记A所在的接口为1，所以只向接口1转发，因此仅A 能收到 H 发送的帧。当 E→X时，集线器向除输入接口外的所有接口转发该帧，交换机1和交换机2也进行洪泛发送，因此除E外的全部主机都能收到A发送的帧。当X→E时，因为交换机1 已登记E所在的接口为2，所以仅登记又所在的接口，并丢弃该帧。</p>
</details>
<hr>
<h4 id="stp">透明网桥的生成树协议STP<a class="headerlink" href="#stp" title="Permanent link">¶</a></h4>
<p>为了提高以太网的<strong>可靠性</strong>，有时需要在两个以太网之间使用多个透明网桥来提供<strong>冗余链路</strong>。在增加冗余链路提高以太网可靠性的同时，却给网络引入了<strong>环路</strong>。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-55.png" data-desc-position="bottom"><img alt="img" src="../assets/3-55.png"></a></p>
<ul>
<li>若网桥B1和B2的转发表中都没有待转发单播帧目的MAC地址的相关记录，则该单播帧也会引起类似的情况。</li>
<li>为了简单起见，未考虑信号在总线上碰撞的情况。</li>
</ul>
<p>网络中的<strong>广播帧将在环路中永久兜圈</strong>，造成广播帧充斥整个网络，<strong>网络资源被白白浪费</strong>，而网络中的主机之间无法正常通信！</p>
<p>为了避免广播帧在环路中永久兜圈，透明网桥使用<strong>生成树协议</strong>（Spanning Tree Protocol，STP），可以在增加冗余链路提高网络可靠性的同时，又避免环路带来的问题。</p>
<ul>
<li>不管网桥之间连接成了怎样复杂的带环拓扑，网桥之间通过<strong>交互网桥协议单元</strong>（Bridge Protocol Data Unit，BPDU），<strong>找出原网络拓扑的一个连通子集</strong>（即生成树），在这个子集里整个连通的网络中<strong>不存在环路</strong>。</li>
<li>当首次连接网桥或网络拓扑发生变化时（人为改变或出现故障），网桥都会重新构造生成树，以确保网络的连通。</li>
</ul>
<hr>
<h2 id="_29">交换式以太网<a class="headerlink" href="#_29" title="Permanent link">¶</a></h2>
<p>网桥的<strong>接口数量很少</strong>，通常只有2~4个，一般只用来<strong>连接不同的网段</strong>。</p>
<p>1990年面世的<strong>交换式集线器</strong>（Switching Hub），实质上是<strong>具有多个接口的网桥</strong>，常称为<strong>以太网交换机</strong>（Switch）或二层交换机。</p>
<ul>
<li>“二层”是指以太网交换机工作在数据链路层（包括物理层）。</li>
<li>与网桥相同，交换机内部的转发表也是通过自学习算法，基于网络中各主机间的通信，自动地逐步建立起来的。</li>
<li>另外，交换机也使用生成树协议STP，来产生能够连通全网但不产生环路的通信路径。</li>
</ul>
<p>仅使用交换机（而不使用集线器）的以太网就是交换式以太网。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-56.png" data-desc-position="bottom"><img alt="img" src="../assets/3-56.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-57.png" data-desc-position="bottom"><img alt="img" src="../assets/3-57.png"></a></p>
<hr>
<h3 id="_30">以太网交换机<a class="headerlink" href="#_30" title="Permanent link">¶</a></h3>
<p>以太网<strong>交换机</strong>（以下简称交换机）本质上就是一个<strong>多接口的网桥</strong>：</p>
<ul>
<li>交换机自学习和转发帧的流程与网桥是相同的。</li>
<li>另外，交换机也使用生成树协议STP，来产生能够连通全网但不产生环路的通信路径。</li>
</ul>
<p>交换机的每个接口可以连接<strong>计算机</strong>，也可以连接<strong>集线器</strong>或另一个<strong>交换机</strong>。</p>
<ul>
<li>当交换机的<strong>接口与计算机或交换机连接</strong>时，可以工作在<strong>全双工方式</strong>，并能<strong>在自身内部同时连通多对接口</strong>，使每一对相互通信的计算机都能像独占传输媒体那样，无碰撞地传输数据，这样就<strong>不需要使用CSMA/CD协议</strong>了。</li>
<li>当交换机的<strong>接口连接的是集线器</strong>时，该接口就<strong>只能使用CSMA/CD协议</strong>并只能工作在<strong>半双工方式</strong>。</li>
<li>现在的交换机和计算机中的网卡都能自动识别上述两种情况，并自动切换到相应的工作方式。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-58.png" data-desc-position="bottom"><img alt="img" src="../assets/3-58.png"></a></p>
<p>交换机一般都具有多种速率的接口，例如10Mb/s、100Mb/s、1Gb/s甚至10Gb/s的接口，大部分接口支持多速率自适应。</p>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-59.png" data-desc-position="bottom"><img alt="img" src="../assets/3-59.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-60.png" data-desc-position="bottom"><img alt="img" src="../assets/3-60.png"></a></p>
</details>
<p>一般的交换机都采用“<strong>存储转发</strong>”方式，为了减小交换机的转发时延，某些交换机采用了<strong>直通</strong>（Cut-Through）交换方式。</p>
<p>采用<strong>直通交换方式</strong>的交换机，在<strong>接收帧的同时就立即按帧的目的MAC地址决定该帧的转发接口</strong>，然后通过其内部<strong>基于硬件的交叉矩阵</strong>进行转发，而不必把整个帧先缓存后再进行处理。</p>
<ul>
<li>直通交换的<strong>时延非常小</strong>。</li>
<li>直通交换<strong>不检查差错就直接将帧转发出去</strong>，有可能会将一些无效帧转发给其他主机。</li>
</ul>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-61.png" data-desc-position="bottom"><img alt="img" src="../assets/3-61.png"></a></p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>假设以太网A中80%的通信量在本局域网内进行，其余20%在本局域网与因特网之间进行，而以太网B正好相反。在这两个局域网中，一个使用集线器，另一个使用交换机，则交换机应放置的局域网是()。</p>
<p>A.以太网A</p>
<p>B.以太网B</p>
<p>C.任意以太网</p>
<p>D.都不合适</p>
</details>
<details class="note">
<summary>answer</summary>
<p>A</p>
<p>交换机能将网络分成较小的冲突域，而集线器连接的设备属于同一个冲突域。当一个局域网中 80%的通信量在本局域网内进行时，若使用集线器，则会增加冲突和延迟，降低整个网络的效率，而若使用交换机将不同网段的通信隔开，则可以提高网络性能。</p>
</details>
<hr>
<h3 id="_31">共享式以太网与交换式以太网的对比(集线器与交换机的对比)<a class="headerlink" href="#_31" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-62.png" data-desc-position="bottom"><img alt="img" src="../assets/3-62.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-63.png" data-desc-position="bottom"><img alt="img" src="../assets/3-63.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-64.png" data-desc-position="bottom"><img alt="img" src="../assets/3-64.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-65.png" data-desc-position="bottom"><img alt="img" src="../assets/3-65.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-66.png" data-desc-position="bottom"><img alt="img" src="../assets/3-66.png"></a></p>
<p><strong>集线器</strong>（Hub）——共享式以太网</p>
<ul>
<li><strong>碰撞域</strong>：所有连接在同一个集线器上的主机属于<strong>同一个碰撞域</strong>。多个集线器级联后，碰撞域会变得更大，所有主机争用同一带宽，容易发生冲突。</li>
<li><strong>广播域</strong>：集线器不隔离广播域，所有主机都能收到广播帧。</li>
</ul>
<p><strong>交换机</strong>（Switch）——交换式以太网</p>
<ul>
<li><strong>碰撞域</strong>：每个端口是一个独立的碰撞域。即使多个主机通过交换机互联，每对通信主机之间互不干扰，大大减少了碰撞。</li>
<li><strong>广播域</strong>：默认情况下，交换机不隔离广播域，所有端口收到广播帧都会转发（除非划分VLAN）。</li>
</ul>
<p>交换式以太网的网络性能远高于共享式以太网，集线器早已被交换机取代。</p>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-67.png" data-desc-position="bottom"><img alt="img" src="../assets/3-67.png"></a></p>
<ul>
<li>以太网交换机工作在数据链路层（包含其下的物理层），因此以太网交换机<strong>具备属于数据链路层范畴的相关能力</strong>。但不同网络层协议的网络互联属于网络层范畴，以太网交换机无法处理。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-68.png" data-desc-position="bottom"><img alt="img" src="../assets/3-68.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-69.png" data-desc-position="bottom"><img alt="img" src="../assets/3-69.png"></a></p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>交换机比集线器提供更好的网络性能的原因是（ ）。</p>
<p>A. 交换机支持多对用户同时通信</p>
<p>B. 交换机使用差错控制减少出错率</p>
<p>C. 交换机使网络的覆盖范围更大</p>
<p>D. 交换机无须设置，使用更方便</p>
</details>
<details class="note">
<summary>answer</summary>
<p><strong>A. 交换机支持多对用户同时通信</strong></p>
<ul>
<li><strong>集线器 (Hub)</strong>：工作在物理层 (L1)，它像一个“大喇叭”。当它收到数据时，它会<strong>广播</strong>给所有连接到它的端口。这意味着在同一时间内，整个网络中只有一对设备可以通信。如果两对设备同时尝试发送数据，就会发生<strong>“冲突”（Collision）</strong>，导致数据损坏，所有设备都必须等待重发。这就是为什么集线器连接的所有设备共享同一个“冲突域”和总带宽。</li>
<li><strong>交换机 (Switch)</strong>：工作在数据链路层 (L2)，它要智能得多。它内部有一张 <strong>MAC 地址表</strong>，能记住哪个设备连接在哪个端口。当它收到数据时，它会查看目标 MAC 地址，并<strong>只将数据转发到目标所在的那个端口</strong>。</li>
</ul>
<p><strong>关键优势：</strong> 这意味着，端口1上的电脑A可以和端口2上的电脑B通信，<em>与此同时</em>，端口3上的电脑C可以和端口4上的电脑D通信。这两对通信互不干扰。这就像从“大喇叭”升级到了“电话交换系统”，可以同时建立多条私密通话线路。</p>
<p><strong>B. 交换机使用差错控制减少出错率</strong>：差错控制（如CRC校验）是在数据链路层进行的，虽然交换机（作为L2设备）会执行这个操作并丢弃错误的数据帧，但这并不是它相比集线器（L1设备）的<em>主要性能优势</em>。性能的巨大提升来自于“减少冲突”和“并发通信”，而不是简单地丢弃错误数据。</p>
<p><strong>C. 交换机使网络的覆盖范围更大</strong>：从物理层（L1）的角度看，交换机和集线器都具有信号再生的功能，都可以将网线100米的限制“重置”，从而扩展网络的物理范围。在这一点上，两者没有本质区别，所以这不是交换机<em>性能更好</em>的原因。</p>
<p><strong>D. 交换机无须设置，使用更方便</strong>：这个说法是反的。集线器才是最简单、完全无需设置的设备。非网管型交换机（Unmanaged Switch）也无需设置，但网管型交换机（Managed Switch）的设置非常复杂。因此，“使用更方便”绝不是它的优势理由，尤其是和集线器相比。</p>
</details>
<hr>
<h2 id="mac_3">以太网的MAC帧格式<a class="headerlink" href="#mac_3" title="Permanent link">¶</a></h2>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-41.png" data-desc-position="bottom"><img alt="img" src="../assets/3-41.png"></a></p>
<ul>
<li>目的地址：6字节，表示接收该帧的设备的MAC地址。如果是广播帧，则该字段为FF-FF-FF-FF-FF-FF。</li>
<li>源地址：6字节，表示发送该帧的设备的MAC地址。</li>
<li>类型：2字节，其值用来指明数据载荷中的内容是由上一层的哪个协议封装的，以便将收到的MAC帧的数据载荷上交给上一层的这个协议。例如 <code>0x0800</code> 表示数据载荷中封装的是TCP/IP网际层IP协议封装的PDU，<code>0x8137</code> 表示数据载荷中封装的是由Novell网络层IPX协议封装的PDU。</li>
<li>FCS：4字节，帧校验序列，用于差错检测。使用<strong>CRC</strong>生成的帧检验序列FCS，接收方的网卡通过FCS的内容就可<strong>检测</strong>出帧在传输过程中是否产生了<strong>误码</strong>。(CRC的检测范围是从目的MAC地址开始，到数据载荷的最后一个字节为止的所有字节)。</li>
<li>数据载荷的最小长度为46字节，最大长度为1500字节。如果数据载荷不足46字节，则发送方必须在数据载荷的后面填充一些无意义的字节，使数据载荷的长度达到46字节。以太网 v2 的 MAC 帧的<strong>最大长度</strong>为 1518 字节（6 + 6 + 2 + 1500 + 4 = 1518 字节）。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-70.png" data-desc-position="bottom"><img alt="img" src="../assets/3-70.png"></a></p>
<p>在帧前面插入的8字节前导码分为两个字段：</p>
<ul>
<li>第一个字段是7字节的前同步码，用来实现MAC帧的比特同步；</li>
<li>第二个字段是1字节的帧开始定界符，表示后面的信息就是MAC帧。</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>以太网帧不需要帧结束定界符，因为当以太网传送帧时，各帧之间必须有一定的间隙。因此，接收方只要找到帧开始定界符，其后面连续到达的比特流就都属于同一帧。实际上，以太网采用了违规编码法的思想，因为以太网使用曼彻斯特编码，所以每个码元中间都有一次电压的跳变。发送方发完一帧后，发送方网络接口上的电压不再变化，这样接收方就能很容易地找到帧的结束位置，这个位置往前数4字节就是FCS字段，于是就能确定数据字段的结束位置。</p>
</div>
<p>接收方可能收到的无效MAC帧包括以下几种：</p>
<ol>
<li>MAC帧的长度不是整数个字节</li>
<li>通过MAC帧的FCS字段的值检测出帧有误码</li>
<li>MAC帧的长度不在64~1518字节之间</li>
</ol>
<p>接收方收到无效的MAC帧时，就简单将其丢弃，以太网的数据链路层没有重传机制。</p>
<hr>
<h2 id="_32">虚拟局域网<a class="headerlink" href="#_32" title="Permanent link">¶</a></h2>
<h3 id="vlan">虚拟局域网VLAN的诞生背景<a class="headerlink" href="#vlan" title="Permanent link">¶</a></h3>
<p>将多个站点通过一个或多个<strong>以太网交换机</strong>连接起来就构建出了<strong>交换式以太网</strong>。</p>
<p>交换式以太网中的所有站点都属于<strong>同一个广播域</strong>。</p>
<p>随着交换式以太网规模的扩大，广播域也相应扩大。</p>
<p><strong>巨大的广播域会带来一系列问题</strong>。</p>
<p>例如<strong>广播风暴</strong>（Broadcast Storm）</p>
<ul>
<li>广播风暴会<strong>浪费</strong>网络资源和各主机的CPU资源</li>
<li>难以管理和维护，带来潜在的安全问题。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-75.png" data-desc-position="bottom"><img alt="img" src="../assets/3-75.png"></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>如果网络中只是偶尔出现广播，那还是可以接受的！然而，网络中会频繁出现广播信息。</p>
<p>TCP/IP协议栈中的很多协议都会使用广播：</p>
<ul>
<li>
<p>地址解析协议ARP</p>
</li>
<li>
<p>路由信息协议RIPv1</p>
</li>
<li>
<p>动态主机配置协议DHCP</p>
</li>
</ul>
<p>NetBEUI：Windows下使用的广播型协议</p>
<p>IPX/SPX：Novell网络的协议栈</p>
<p>Apple Talk：Apple公司的网络协议栈</p>
</div>
<p><strong>分割</strong>广播域的方法：</p>
<ul>
<li>使用<strong>路由器</strong>可以隔离广播域（成本较高）</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-76.png" data-desc-position="bottom"><img alt="img" src="../assets/3-76.png"></a></p>
<ul>
<li>虚拟局域网技术应运而生</li>
</ul>
<hr>
<h3 id="vlan_1">虚拟局域网VLAN概述<a class="headerlink" href="#vlan_1" title="Permanent link">¶</a></h3>
<p>虚拟局域网（Virtual Local Area Network，VLAN）是一种将局域网内的站点划分成<strong>与物理位置无关</strong>的逻辑组的技术，一个逻辑组就是一个VLAN，VLAN中的各站点具有某些共同的应用需求。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-77.png" data-desc-position="bottom"><img alt="img" src="../assets/3-77.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-78.png" data-desc-position="bottom"><img alt="img" src="../assets/3-78.png"></a></p>
<p>属于同一VLAN的站点之间可以直接进行通信，而不同VLAN中的站点之间不能直接通信。</p>
<p>网络管理员可对局域网中的各交换机进行配置来建立多个逻辑上独立的VLAN。</p>
<ul>
<li>连接在同一交换机上的多个站点可以属于不同的VLAN，而属于同一VLAN的多个站点可以连接在不同的交换机上。</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>虚拟局域网VLAN并不是一种新型网络，它只是局域网能够提供给用户的一种服务。</p>
</div>
<hr>
<h3 id="vlan_2">虚拟局域网VLAN的实现机制<a class="headerlink" href="#vlan_2" title="Permanent link">¶</a></h3>
<p>虚拟局域网VLAN有多种实现技术，最常见的就是基于<strong>以太网交换机的接口</strong>来实现VLAN。这就需要以太网交换机能够实现以下两个功能：</p>
<ul>
<li>能够处理带有VLAN标记的帧，也就是<strong>IEEE 802.1Q帧</strong>。</li>
<li>交换机的各接口可以支持<strong>不同的接口类型</strong>，不同接口类型的接口对帧的处理方式有所不同。</li>
</ul>
<hr>
<h4 id="ieee-8021q">IEEE 802.1Q帧<a class="headerlink" href="#ieee-8021q" title="Permanent link">¶</a></h4>
<p>IEEE 802.1Q帧也称为Dot One Q帧，它对以太网V2的MAC帧格式进行了扩展：在源地址字段和类型字段之间插入了<strong>4字节的VLAN标签</strong>（tag）字段。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-79.png" data-desc-position="bottom"><img alt="img" src="../assets/3-79.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-80.png" data-desc-position="bottom"><img alt="img" src="../assets/3-80.png"></a></p>
<ul>
<li><strong>标签协议标识符TPID</strong>：长度为16比特，其值固定为0x8100，表示该帧是IEEE 802.1Q帧。</li>
<li><strong>优先级PRI</strong>：长度为3比特，取值范围是0~7，值越大优先级越高。当网络阻塞时，设备优先发送优先级高的 802.1Q帧。</li>
<li><strong>规范格式指示符CFI</strong>：长度为1比特，取值为0表示MAC地址以规范格式封装，取值为1表示MAC地址以非规范格式封装。对于以太网，CFI的取值为0。</li>
<li><strong>虚拟局域网标识符VID</strong>：长度为12比特，取值范围是0~4095，其中0和4095保留不使用。VID是<strong>802.1Q帧所属VLAN的编号</strong>，设备利用VID来识别帧所属的VLAN。广播帧只在同一VLAN内转发，这样就将<strong>广播域限制在了一个VLAN内</strong>。</li>
</ul>
<p>802.1Q帧一般不由用户主机处理，而是由以太网交换机来处理：</p>
<ul>
<li>当交换机收到<strong>普通的以太网MAC帧</strong>时，会给其<strong>插入4字节的VLAN标签使之成为802.1Q帧</strong>，该处理简称为“打标签”。</li>
<li>当交换机<strong>转发802.1Q帧</strong>时，<strong>可能会删除其4字节的VLAN标签使之成为普通的以太网MAC帧</strong>，该处理简称为“<strong>去标签</strong>”。交换机转发802.1Q帧时也有可能不进行“去标签”处理，是否进行“去标签”处理取决于交换机的接口类型。</li>
</ul>
<hr>
<h4 id="_33">以太网交换机的接口类型<a class="headerlink" href="#_33" title="Permanent link">¶</a></h4>
<p>根据接口在<strong>接收帧和发送帧时对帧的处理方式</strong>的不同，以及<strong>接口连接对象</strong>的不同，以太网交换机的接口类型一般分为 <code>Access</code> 和 <code>Trunk</code> 两种。</p>
<p>当以太网交换机上电启动后，若之前未对其各接口进行过VLAN的相关设置，则各接口的接口类型<strong>默认为Access</strong>，并且各接口的缺省VLAN ID为1，即各接口<strong>默认属于VLAN1</strong>。</p>
<ul>
<li>对于思科交换机，接口的缺省VLAN ID称为本征VLAN（Native VLAN）。</li>
<li>对于华为交换机，接口的缺省VLAN ID称为端口VLAN ID（Port VLAN ID），简记为PVID。</li>
</ul>
<p><strong>交换机的每个接口有且仅有一个PVID</strong></p>
<ol>
<li>在一个交换机上不进行人为的VLAN划分，交换机各接口默认属于VLAN1且类型为Access的情况。</li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-81.png" data-desc-position="bottom"><img alt="img" src="../assets/3-81.png"></a></p>
<ol start="2">
<li>在一个交换机上划分两个不同VLAN的情况。</li>
</ol>
<p>对交换机进行配置（通过界面或配置命令）</p>
<ul>
<li>创建VLAN2和VLAN3</li>
<li>将接口1和2划归到VLAN2，接口3和4划归到VLAN3</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-82.png" data-desc-position="bottom"><img alt="img" src="../assets/3-82.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-83.png" data-desc-position="bottom"><img alt="img" src="../assets/3-83.png"></a></p>
<ol start="3">
<li>两个交换机通过Trunk类型的接口互连，Trunk接口将802.1Q帧“去标签”后进行转发的情况。</li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-84.png" data-desc-position="bottom"><img alt="img" src="../assets/3-84.png"></a></p>
<ol start="4">
<li>两个交换机通过Trunk类型的接口互连，Trunk接口将802.1Q帧直接转发的情况。</li>
</ol>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-85.png" data-desc-position="bottom"><img alt="img" src="../assets/3-85.png"></a></p>
<div class="admonition note">
<p class="admonition-title">Access接口与Trunk接口的区别总结以及介绍Hybrid接口</p>
<p><strong>Access接口</strong>: Access接口一般用于<strong>连接用户计算机</strong>，由于其<strong>只能属于一个VLAN</strong>，因此Access接口的<strong>PVID值与其所属VLAN的ID相同</strong>，其默认值为1。</p>
<ul>
<li>
<p>接收处理: 一般只接受“未打标签”的普通以太网MAC帧，根据接收帧的接口的PVID给帧“<strong>打标签</strong>”，即插入4字节的VLAN标签字段，VLAN标签字段中的VID取值就是接口的PVID值。</p>
</li>
<li>
<p>转发处理: 若帧中的VID值与接口的PVID值相等，则给帧“<strong>去标签</strong>”后再进行转发，否则不转发帧。因此，从Access接口转发出的帧，是不带VLAN标签的普通以太网MAC帧。</p>
</li>
</ul>
<p><strong>Trunk接口</strong>: Trunk接口一般用于<strong>交换机之间的互连</strong>。Trunk接口<strong>可以属于多个VLAN</strong>，即Trunk接口<strong>可以通过属于不同VLAN的帧</strong>。Trunk接口的默认PVID值为1，一般不建议用户修改，若互连的Trunk接口的PVID值不相等，则可能出现转发错误。(交换机 A (PVID=1) 要发送一个 VLAN 1 的帧。根据规则，它会撕掉标签（去标签）再发出去。交换机 B (假设 PVID=99) 收到了这个未打标签的帧。交换机 B 根据它的接收规则，会给这个未打标签的帧打上它自己的 PVID，也就是 VLAN 99 的标签！结果在交换机 A 看来是 VLAN 1 的数据，到了交换机 B 这里，被错误地划分到了 VLAN 99。这就是转发错误，两个VLAN的数据“串了”。)</p>
<ul>
<li>
<p>接收处理: 既<strong>可以接收</strong>“未打标签”的<strong>普通以太网MAC帧</strong>，也可以接收“已打标签”的<strong>802.1Q帧</strong>。若接收到普通以太网MAC帧时，根据接收帧的接口的PVID给帧“<strong>打标签</strong>”，这与Access接口的处理相同。(交换机会强制给这个未打标签的帧打上 PVID 对应的 VLAN 标签（比如 PVID=1，就打上 VLAN 1 的标签）。)若接收到802.1Q帧时，交换机查看这个 Trunk 接口的“允许列表”，如果 VLAN 10 被允许通过，就直接接收这个帧，标签保持不变。如果不在允许列表中，交换机会立即丢弃 (Drop) 这个帧。这个帧不会被接收，更不会被转发到任何其他端口。</p>
</li>
<li>
<p>转发处理: 对于帧的VID值等于接口的PVID值的802.1Q帧，将其“<strong>去标签</strong>”转发(这是 Native VLAN (本地VLAN) 的特性。交换机双方约定好了:如果我们PVID都是1，那么VLAN 1的数据我们就不贴标签了，裸奔着发，对方收到裸奔的帧，也知道那是VLAN 1的。)；对于帧的VID值不等于接口的PVID值802.1Q帧，将其<strong>直接转发</strong>(比如，一个 VLAN 10 的帧要出去，而 PVID 是 1，此时就带着 VLAN 10 的标签直接转发)。因此，从Trunk接口转发出的帧，可能是普通以太网MAC帧，也可能是802.1Q帧。</p>
</li>
</ul>
<p><strong>Hybrid接口</strong>: Hybrid接口是<strong>华为</strong>交换机<strong>私有</strong>的接口类型。Hybrid接口既可以用于<strong>交换机之间的互连</strong>（与Trunk接口相同），也可用于<strong>交换机与用户计算机之间的互连</strong>（与Access接口相同）。</p>
<p>除此之外，Hybrid接口的绝大部分功能与Trunk接口相同。不同点在于Hybrid接口的转发处理：Hybrid接口会查看帧的VID值是否在接口的“<strong>去标签</strong>”列表中，若存在则“去标签”后转发，若不存在则直接转发。</p>
</div>
<details class="note">
<summary>关于 Trunk 接口的允许列表</summary>
<p>很多交换机在你刚刚把一个接口配置为 Trunk 模式时，它的默认“允许列表”是允许所有 VLAN（比如 VLAN 1 到 4094）。</p>
<p>实际的生产环境中，这被认为是一种不安全的配置。专业的网络管理员会立即手动修改这个列表，只精确地允许业务所需要的 VLAN，这个操作也常被称为 “VLAN 剪枝” (VLAN Pruning)。</p>
</details>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-86.png" data-desc-position="bottom"><img alt="img" src="../assets/3-86.png"></a></p>
</details>
<hr>
<h2 id="_34">以太网的发展<a class="headerlink" href="#_34" title="Permanent link">¶</a></h2>
<h3 id="_35">以太网的发展<a class="headerlink" href="#_35" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-87.png" data-desc-position="bottom"><img alt="img" src="../assets/3-87.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-115.png" data-desc-position="bottom"><img alt="img" src="../assets/3-115.png"></a></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>在上述标准中，10指标准的速率为10Mb/s;Base指基带以太网；早期标准Base之后的5或2指单段最大传输距离不超过500m或185m,Base之后的T指双绞线，F指光纤。</p>
</div>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-108.png" data-desc-position="bottom"><img alt="img" src="../assets/3-108.png"></a></p>
<details class="note">
<summary>王道的总结</summary>
<p>(1)100BASE-T以太网</p>
<p>100BASE-T是在双绞线上传送100Mb/s基带信号的星形拓扑以太网，它仍然使用CSMA/CD协议，也称快速以太网。100BASE-T既支持全双工方式，又支持半双工方式，可在全双工方式下工作而无冲突发生，因此在全双工方式下不使用CSMA/CD协议。</p>
<p>100BASE-T的MAC帧格式仍然是802.3标准规定的帧格式。保持最短帧长不变，但将一个网段的最大长度减小到100m。帧间最小间隔从原来的9.6μs改为0.96μs。</p>
<p>(2)吉比特以太网</p>
<p>吉比特以太网也称千兆以太网，允许在1Gb/s速率下以全双工和半双工两种方式工作。使用802.3协议规定的帧格式。使用双绞线或光纤作为传输介质。在半双工方式下使用CSMA/CD协议，而在全双工方式不使用CSMA/CD协议。与10BASE-T和100BASE-T技术向后兼容。</p>
<p>(3)10吉比特以太网</p>
<p>10吉比特以太网的帧格式与10Mb7s、100Mb/s和IGb/s以太网的帧格式完全相同，还保留了802.3标准规定的以太网最小帧长和最大帧长，以便升级和向后兼容。10吉比特以太网只工作在全双工方式，不存在争用问题，当然也不使用CSMA/CD协议。</p>
<p>以太网从10Mb/s到10Gb/s的演进证明了以太网是可扩展的(从10Mb/s到10Gb/s)、灵活的(多种传输介质、全/半双工、共享/交换),且易于安装，稳健性好。</p>
</details>
<hr>
<h4 id="100base-t">100BASE-T以太网<a class="headerlink" href="#100base-t" title="Permanent link">¶</a></h4>
<p>100BASE-T以太网是指在双绞线上传输基带信号的速率为100Mb/s的以太网，也称为快速以太网（Fast Ethernet）。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-88.png" data-desc-position="bottom"><img alt="img" src="../assets/3-88.png"></a></p>
<p>100BASE-T以太网与10Mb/s标准以太网（传统以太网）一样，<strong>仍然使用IEEE 802.3的帧格式和CSMA/CD协议</strong>。</p>
<p>100BASE-T以太网为了与10Mb/s标准以太网保持兼容，需要以太网<strong>最小帧长保持不变</strong>，即仍为<strong>64字节</strong>。</p>
<ul>
<li>网段的最大电缆长度从1000m减小到100m</li>
<li>争用期缩短为5.12 <span class="arithmatex">\(\mu\)</span> s</li>
<li>帧间最小间隔缩短为0.96 <span class="arithmatex">\(\mu\)</span> s</li>
</ul>
<p>100BASE-T以太网还可以使用以太网交换机来提供比集线器更好的服务质量，即在全双工方式下无碰撞工作。因此，使用交换机的100BASE-T以太网，工作在全双工方式下，并不使用CSMA/CD协议。</p>
<p>1995年，IEEE的802委员会正式批准100BASE-T以太网的标准为802.3u。实际上，IEEE 802.3u只是对原有IEEE 802.3标准的补充。</p>
<p>除100BASE-T以太网外，百兆以太网有多种不同的物理层标准：</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-89.png" data-desc-position="bottom"><img alt="img" src="../assets/3-89.png"></a></p>
<hr>
<h4 id="_36">吉比特以太网<a class="headerlink" href="#_36" title="Permanent link">¶</a></h4>
<p><strong>吉比特以太网</strong>也称为<strong>千兆以太网</strong>（Gigabit Ethernet）。1998年，千兆以太网的标准802.3z成为正式标准。</p>
<p>近几年来，千兆以太网已迅速占领市场，成为了以太网的主流产品。</p>
<p>IEEE 802.3z千兆以太网的主要特点有：</p>
<ul>
<li>速率为1000Mb/s（1Gb/s）</li>
<li>使用IEEE 802.3的帧格式（与10Mb/s和100Mb/s以太网相同）</li>
<li>支持半双工方式（使用CSMA/CD协议）和全双工方式（不使用CSMA/CD协议）</li>
<li>兼容10BASE-T和100BASE-T技术</li>
</ul>
<p>当千兆以太网工作在半双工方式时，需要使用CSMA/CD协议。由于速率已经提高到了1000Mb/s，因此只有减小网段最大长度或增大最小帧长，才能使以太网的参数a(<span class="arithmatex">\(\frac{\tau}{T_0}\)</span>)保持为较小的数值。</p>
<ul>
<li>若将网段最大长度减小到10m，则网络基本失去了应用价值。</li>
<li>若将最小帧长增大到640字节，则当上层交付的待封装的协议数据单元PDU很短时，开销就会太大。</li>
</ul>
<p>千兆以太网的网段最大长度仍保持为100m，最小帧长仍保持为64字节（与10BASE-T和100BASE-T兼容）。</p>
<p>这就需要使用<strong>载波延伸</strong>（Carrier Extension）的办法，将<strong>争用期增大为512字节的发送时间而保持最小帧长仍为64字节</strong>。</p>
<ul>
<li>只要发送的MAC帧的长度不足512字节时，就在MAC帧尾部填充一些特殊字符，使MAC帧的长度增大到512字节。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-90.png" data-desc-position="bottom"><img alt="img" src="../assets/3-90.png"></a></p>
<p>在使用载波延伸的机制下，如果原本<strong>发送的是大量的64字节长的短帧</strong>，则<strong>每一个短帧都会被填充448字节</strong>的特殊字符，这样会<strong>造成很大的开销</strong>。</p>
<p>因此，千兆以太网还使用了<strong>分组突发</strong>（Packet Bursting）功能。也就是当有<strong>很多短帧要连续发送</strong>时，<strong>只将第一个短帧用载波延伸的方法进行填充</strong>，而其后面的一系列短帧不用填充就可一个接一个地发送，它们之间只需空开必要的帧间最小间隔即可。</p>
<ul>
<li>这样就形成了一连串分组的突发，当累积发送1500字节或稍多一些为止。</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>当千兆以太网工作在全双工方式时，不使用CSMA/CD协议，因为在全双工模式中，发送和接收使用不同的物理线路，碰撞根本不可能发生。所以也不会使用载波延伸和分组突发。</p>
</div>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-91.png" data-desc-position="bottom"><img alt="img" src="../assets/3-91.png"></a></p>
<p>千兆以太网有多种不同的物理层标准：</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-92.png" data-desc-position="bottom"><img alt="img" src="../assets/3-92.png"></a></p>
<hr>
<h4 id="10">10吉比特以太网<a class="headerlink" href="#10" title="Permanent link">¶</a></h4>
<p>2002年6月，IEEE 802.3ae委员会通过<strong>10吉比特以太网</strong>（10GE）的正式标准，10GE也称为<strong>万兆以太网</strong>。</p>
<p>万兆以太网并不是将千兆以太网的速率简单地提高了10倍。万兆以太网的目标是将以太网从<strong>局域网范围</strong>（校园网或企业网）<strong>扩展到城域网与广域网</strong>，成为城域网和广域网的主干网的主流技术之一。</p>
<p>IEEE 802.3ae万兆以太网的主要特点有：</p>
<ul>
<li>速率为10Gb/s</li>
<li>使用IEEE 802.3标准的帧格式（与10Mb/s、100Mb/s和1Gb/s以太网相同）</li>
<li>保留IEEE 802.3标准对以太网最小帧长和最大帧长的规定。这是为了用户升级以太网时，仍能和较低速率的以太网方便地通信。</li>
<li>只工作在全双工方式而不存在争用媒体的问题，因此不需要使用CSMA/CD协议，这样传输距离就不再受碰撞检测的限制。</li>
<li>增加了支持城域网和广域网的物理层标准</li>
</ul>
<p>万兆以太网交换机常作为千兆以太网的<strong>汇聚层交换机</strong>，与千兆以太网交换机相连，还可以连接对传输速率要求极高的视频服务器、文件服务器等设备。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-93.png" data-desc-position="bottom"><img alt="img" src="../assets/3-93.png"></a></p>
<p>万兆以太网有多种不同的物理层标准：</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-94.png" data-desc-position="bottom"><img alt="img" src="../assets/3-94.png"></a></p>
<hr>
<h4 id="40100">40/100吉比特以太网<a class="headerlink" href="#40100" title="Permanent link">¶</a></h4>
<p>2010年，IEEE发布了<strong>40吉比特/100吉比特以太网</strong>（40GE/100GE）的IEEE 802.3ba标准，40GE/100GE也称为<strong>四万兆/十万兆以太网</strong>。</p>
<p>为了使<strong>以太网</strong>能够更高效、更经济地满足<strong>局域网、城域网和广域网</strong>的不同应用需求，IEEE 802.3ba标准定义了两种速率类型：</p>
<ul>
<li>40Gb/s主要用于<strong>计算应用</strong></li>
<li>100Gb/s主要用于<strong>汇聚应用</strong></li>
</ul>
<p>IEEE 802.3ba标准<strong>只工作在全双工方式</strong>（不使用CSMA/CD协议），但仍<strong>使用IEEE 802.3标准的帧格式</strong>并<strong>遵守最小帧长和最大帧长的规定</strong>。</p>
<p>IEEE 802.3ba标准的两种速率各有4种不同的传输媒体:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-95.png" data-desc-position="bottom"><img alt="img" src="../assets/3-95.png"></a></p>
<details class="example" open="open">
<summary>question</summary>
<p>下列关于用集线器连接的共享式以太网的说法中，正确的是()。</p>
<p>A.以太网的物理拓扑是总线形结构</p>
<p>B.以太网提供有确认的无连接服务</p>
<p>C.以太网参考模型一般只包括物理层和数据链路层</p>
<p>D.以太网不一定使用CSMA/CD协议</p>
</details>
<details class="note">
<summary>answer</summary>
<p>C</p>
<p>用集线器连接的以太网逻辑上是总线形结构，物理上是星形结构，选项A错误。</p>
<p>以太网设计的原则是简化通信，因此采用的是无确认、无连接的服务，选项B错误。</p>
<p>以太网属于局域网的一种设计标准，只包括物理层和数据链路层，比如在物理层以太网规定采用曼彻斯特编码，在数据链路层规定采用 CSMA/CD 协议,选项C正确。</p>
<p>用集线器连接的以太网一定工作在半双工方式下因此一定要采用 CSMA/CD 协议，选项 D 错误。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>下列关于广播式网络的说法中，错误的是()。</p>
<p>A.共享广播信道</p>
<p>B.不存在路由选择问题</p>
<p>C.可以不要网络层</p>
<p>D.不需要服务接入点</p>
</details>
<details class="note">
<summary>answer</summary>
<p>D</p>
<p>广播式网络使用共享的广播信道进行通信，通常是局域网的一种通信方式(局域网工作在数据链路层)，因此可以不需要网络层，也就不存在路由选择问题。但数据链路层使用物理层的服务必须通过服务接入点，数据链路层向高层提供服务也必须通过服务接入点。</p>
</details>
<hr>
<h2 id="80211">802.11无线局域网<a class="headerlink" href="#80211" title="Permanent link">¶</a></h2>
<h3 id="80211_1">802.11无线局域网的组成<a class="headerlink" href="#80211_1" title="Permanent link">¶</a></h3>
<p>随着移动通信技术的发展，<strong>无线局域网</strong>（Wireless Local Area Network，WLAN）自20世纪80年代末以来逐步进入市场。</p>
<p>IEEE于1997年制定出了无线局域网的协议标准802.11，<strong>802.11无线局域网</strong>是目前应用最广泛的无线局域网之一，人们更多地将其简称为<strong>Wi-Fi</strong>（Wireless Fidelity，无线保真度）。</p>
<p>802.11无线局域网可分为以下两类：</p>
<ul>
<li>有固定基础设施的</li>
<li>无固定基础设施的</li>
</ul>
<p><strong>固定基础设施</strong>是指预先建立的、能够覆盖一定地理范围的、多个固定的<strong>通信基站</strong>。</p>
<p>802.11无线局域网使用最多的是它的固定基础设施的组网方式。</p>
<hr>
<h4 id="80211_2">有固定基础设施的802.11无线局域网<a class="headerlink" href="#80211_2" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-96.png" data-desc-position="bottom"><img alt="img" src="../assets/3-96.png"></a></p>
<ul>
<li>本BSS内各站点之间的通信以及与本BSS外的站点之间的通信，都必须经过本BSS内的AP进行转发。</li>
<li>网络管理员需要为AP分配一个最大32字节的服务集标识符（Service Set Identifier，SSID）和一个无线通信信道，SSID实际上就是使用该AP的802.11无线局域网的名字。</li>
<li>基本服务区BSA的直径小于100m</li>
<li>基本服务集可以是孤立的，也可通过AP连接到一个分配系统(Distribution System,DS),然后连接到另一个基本服务集，构成一个扩展的服务集(Extended Service Set,ESS)。分配系统的作用是使扩展的服务集对上层的表现就像一个基本服务集。ESS还可通过一种称为Portal(门户)的设备为无线用户提供到有线连接的以太网接入。门户的作用相当于网桥。在图3.26中，移动站A若要和另一个基本服务集中的移动站B通信，则必须经过两个接入点AP1和AP2,即A→AP1→AP2→B,注意AP1到AP2的通信是使用有线传输的。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-97.png" data-desc-position="bottom"><img alt="img" src="../assets/3-97.png"></a></p>
<p>802.11标准并没有定义实现漫游的具体方法，仅定义了以下一些基本服务。</p>
<ol>
<li>关联（Association）服务</li>
</ol>
<p>移动站与接入点AP建立关联的方法有以下两种：</p>
<ul>
<li>被动扫描</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-98.png" data-desc-position="bottom"><img alt="img" src="../assets/3-98.png"></a></p>
<ul>
<li>主动扫描</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-99.png" data-desc-position="bottom"><img alt="img" src="../assets/3-99.png"></a></p>
<ol start="2">
<li>重建关联（Reassociation）服务和分离（Dissociation）服务</li>
</ol>
<p>如果一个移动站要把与某个接入点AP的关联转移到另一个AP，就可以使用重建关联服务；若要终止关联服务，就应使用分离服务。</p>
<hr>
<h4 id="80211_3">无固定基础设施的802.11无线局域网<a class="headerlink" href="#80211_3" title="Permanent link">¶</a></h4>
<p>自组织网络（ad hoc Network）</p>
<ul>
<li>转发站需要具备路由功能</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-100.png" data-desc-position="bottom"><img alt="img" src="../assets/3-100.png"></a></p>
<p>自组织网络组网方便，不需要基站，并且具有非常好的生存性，这使得自组织网络在<strong>军用</strong>和<strong>民用</strong>领域都有很好的应用前景。</p>
<p>802.11无线局域网的ad hoc模式允许网络中的各站点在其通信范围内直接通信，也就是支持<strong>站点间的单跳通信</strong>，而标准中<strong>并没有包括多跳路由功能</strong>。因此，802.11无线局域网的ad hoc模式应用较少。</p>
<hr>
<h3 id="80211_4">802.11无线局域网的物理层<a class="headerlink" href="#80211_4" title="Permanent link">¶</a></h3>
<p>802.11无线局域网的物理层非常复杂，依据<strong>工作频段</strong>、<strong>调制方式</strong>、<strong>传输速率</strong>等，可将其分为多种物理层标准：</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-101.png" data-desc-position="bottom"><img alt="img" src="../assets/3-101.png"></a></p>
<p>802.11无线网卡一般会被做成<strong>多模</strong>的，以便能适应多种不同的物理层标准，例如支持802.11b/g/n。</p>
<p>无线局域网最初还使用红外技术（infrared，IR）和跳频扩频（Frequency Hopping Spread Spectrum，FHSS）技术，但目前已经很少使用了。</p>
<p>最近几年，802.11无线局域网又有一些新的物理层标准陆续推出：</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-102.png" data-desc-position="bottom"><img alt="img" src="../assets/3-102.png"></a></p>
<hr>
<h3 id="80211csmaca">802.11无线局域网使用CSMA/CA协议的原因<a class="headerlink" href="#80211csmaca" title="Permanent link">¶</a></h3>
<p>对于802.11无线局域网，其使用无线信道传输数据，这与共享总线以太网使用有线传输介质不同。因此，802.11无线局域网不能简单照搬共享总线以太网使用的CSMA/CD协议。</p>
<p>802.11无线局域网采用了CSMA/CA的协议，也就是载波监听多址接入/碰撞避免（Carrier Sense Multiple Access/Collision Avoidance，CSMA/CA）。CSMA/CA协议仍然采用“先听后说”的方式来减少碰撞的发生，但是将“碰撞检测CD”改为了“碰撞避免CA”。</p>
<p>802.11无线局域网不采用“碰撞检测CD”的原因如下：</p>
<ol>
<li>由于<strong>无线信道的传输环境复杂</strong>且信号强度的动态范围非常大，在802.11无线网卡上<strong>接收到的信号强度一般都远远小于发送信号的强度</strong>，信号强度甚至相差百万倍。因此，<strong>如果要在802.11无线网卡上实现碰撞检测</strong>，<strong>对硬件的要求非常高</strong>。</li>
<li>即使能够在硬件上实现碰撞检测功能，但由于无线电波传播的特殊性（<strong>存在隐蔽站问题</strong>），还<strong>会出现无法检测到碰撞的情况</strong>，因此实现碰撞检测并没有意义。</li>
</ol>
<hr>
<h4 id="hidden-station-problem">无线局域网的隐蔽站问题（Hidden Station Problem）<a class="headerlink" href="#hidden-station-problem" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-103.png" data-desc-position="bottom"><img alt="img" src="../assets/3-103.png"></a></p>
<hr>
<h3 id="csmaca">CSMA/CA协议的基本工作原理<a class="headerlink" href="#csmaca" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-104.png" data-desc-position="bottom"><img alt="img" src="../assets/3-104.png"></a></p>
<ul>
<li><code>DCF</code> 帧间间隔 <strong><code>DIFS</code></strong> 的长度为 128 <span class="arithmatex">\(\mu \ s\)</span>，在 <code>DCF</code> 方式中， <code>DIFS</code> 用来发送数据帧和管理帧。</li>
<li>DCF是分布式协调功能（Distributed Coordination Function，DCF）的英文缩写词。在DCF方式下，没有中心控制站点，每个站点使用 <code>CSMA/CA</code> 协议通过争用信道来获取发送权。DCF方式是802.11定义的默认方式（必须实现）。</li>
<li>等待 <code>DIFS</code> 间隔是考虑到可能有其他的站有高优先级的帧要发送。</li>
<li>帧首部中的“持续时间”字段的值指出了源站要占用信道的时间（包括目的站发回确认帧所需的时间）。</li>
<li>当某个站检测到正在信道中传送的帧首部中的“持续时间”字段时，就调整自己的网络分配向量（Network Allocation Vector，NAV）。NAV指出了完成这次帧的传送且信道转入空闲状态所需的时间。</li>
<li>短帧间间隔（Short Interframe Space，SIFS）的长度为28 <span class="arithmatex">\(\mu \ s\)</span>，它是最短的帧间间隔，用来分隔开<strong>属于一次对话的各帧</strong>。一个站点应当能够在这段时间内从发送方式切换到接收方式(从发送确认帧到转换成接收下一个帧的模式)。使用SIFS的帧类型有ACK帧、CTS帧等。</li>
<li>由于无线信道的误码率较高， <code>CSMA/CA</code> 协议还需要使用<strong>停止-等待的确认机制</strong>来实现可靠传输，这与使用CSMA/CD协议的共享式以太网不同。</li>
<li>当某个站在发送帧时，很可能有多个站都在监听信道并等待发送帧，一旦信道空闲，这些站几乎同时发送帧而产生碰撞。</li>
<li>为了避免上述情况，所有要发送帧的站检测到信道从忙转为空闲后，都要执行退避算法。这样不仅可以减少发生碰撞的概率，还可避免某个站长时间占用无线信道。</li>
</ul>
<p>当某个站要发送数据帧时，仅在这种情况下才不使用退避算法：检测到信道空闲，并且该数据帧不是成功发送完上一个数据帧之后立即连续发送的数据帧。除此之外的以下情况，都必须使用退避算法：</p>
<ol>
<li>在发送帧之前检测到信道处于忙态</li>
<li>在每一次重传一个帧时</li>
<li>在每一次成功发送帧后要连续发送下一个帧时</li>
</ol>
<p><strong>总结</strong>CSMA/CA协议的退避算法：</p>
<p>在执行退避算法时，站点为退避计时器设置一个随机的退避时间：</p>
<ul>
<li>当退避计时器的时间减小到零时，就开始发送数据；</li>
<li>当退避计时器的时间还未减小到零时而信道又转变为忙状态，这时就冻结退避计时器的数值，重新等待信道变为空闲，再经过帧间间隔DIFS后，继续启动退避计时器。</li>
</ul>
<p>在进行第 <span class="arithmatex">\(i\)</span> 次退避时，退避时间在时隙编号{𝟎，𝟏，… ，<span class="arithmatex">\(𝟐^{𝟐+𝒊}−𝟏\)</span> }中随机选择一个，然后乘以基本退避时间（也就是一个时隙的长度）就可以得到随机的退避时间。当时隙编号达到255时（对应于第6次退避）就不再增加了。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-105.png" data-desc-position="bottom"><img alt="img" src="../assets/3-105.png"></a></p>
<p>为了进一步降低发生碰撞的概率，802.11无线局域网允许源站对信道进行预约。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-106.png" data-desc-position="bottom"><img alt="img" src="../assets/3-106.png"></a></p>
<ul>
<li>RTS（Request To Send）帧是短的控制帧，它包括源地址、目的地址和<strong>本次通信</strong>（包括目的站发回确认帧所需的时间）<strong>所需的持续时间</strong>。</li>
<li>CTS（Clear To Send）帧是短的响应控制帧，它<strong>也包括本次通信所需的持续时间</strong>（从RTS帧中将此持续时间复制到CTS帧中）。</li>
<li>除源站和目的站的其他各站，在收到CTS帧或数据帧后就推迟访问信道。这样就确保了源站和目的站之间的通信不会受到其他站的干扰。</li>
<li>若RTS帧发生碰撞，源站就不可能收到CTS帧，源站会<strong>执行退避算法</strong>重传RTS帧。</li>
<li>使用RTS帧和CTS帧进行信道预约会带来额外的开销。但由于RTS帧和CTS帧都很短，发生碰撞的概率、碰撞产生的开销以及本身的开销都很小。对于一般的数据帧，其发送时延往往远大于传播时延（因为是局域网），碰撞的概率很大，且一旦发生碰撞而导致数据帧重发，则浪费的时间就很多，因此用很小的代价对信道进行预约往往是值得的。</li>
</ul>
<p>尽管如此，802.11无线局域网仍为用户提供了以下三种选择：</p>
<ol>
<li>使用RTS帧和CTS帧。</li>
<li>只有当数据帧的长度超过某个数值时才使用RTS帧和CTS帧。</li>
<li>不使用RTS帧和CTS帧。</li>
</ol>
<p>由于RTS帧和CTS帧都会携带通信需要持续的时间，这与之前介绍过的数据帧可以携带通信所需持续时间的虚拟载波监听机制是一样的，因此使用RTS帧和CTS帧进行信道预约，也属于虚拟载波监听机制。</p>
<p>利用虚拟载波监听机制，站点只要监听到数据帧、RTS帧或CTS帧中的任何一个，就能知道信道将被占用的持续时间，而不需要真正监听到信道上的信号，因此虚拟载波监听机制能减少隐蔽站带来的碰撞问题。</p>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-107.png" data-desc-position="bottom"><img alt="img" src="../assets/3-107.png"></a></p>
</details>
<hr>
<h3 id="80211mac">802.11无线局域网的MAC帧<a class="headerlink" href="#80211mac" title="Permanent link">¶</a></h3>
<ol>
<li>数据帧</li>
</ol>
<ul>
<li>用于在站点间传输数据</li>
</ul>
<ol start="2">
<li>控制帧</li>
</ol>
<ul>
<li>通常与数据帧搭配使用</li>
<li>负责区域的清空、虚拟载波监听的维护以及信道的接入，并于收到数据帧时予以确认。</li>
<li>ACK帧、RTS帧以及CTS帧等都属于控制帧。</li>
</ul>
<ol start="3">
<li>管理帧</li>
</ol>
<ul>
<li>用于加入或退出无线网络，以及处理AP之间连接的转移事宜。</li>
<li>信标帧、关联请求帧以及身份认证帧等都属于管理帧。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-109.png" data-desc-position="bottom"><img alt="img" src="../assets/3-109.png"></a></p>
<ul>
<li>持续期: 用于实现CSMA/CA的虚拟载波监听和信道预约机制。在数据帧、RTS帧和CTS帧中用该字段指出将要持续占用信道的时长。</li>
<li>序号控制: 用来实现802.11的可靠传输，对数据帧进行编号。</li>
<li>帧控制/地址字段: 取决于帧控制字段中的“去往DS”（到分配系统）和“来自DS”（分配系统）这两个字段的值。</li>
</ul>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-110.png" data-desc-position="bottom"><img alt="img" src="../assets/3-110.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-111.png" data-desc-position="bottom"><img alt="img" src="../assets/3-111.png"></a></p>
<p>对这三个地址的理解方法如下：地址1和地址2分别是无线通信中信道两端的接收地址和发送地址。当主机发往AP时，接收地址不是实际的目的地址，因此用地址3来存放实际的目的地址；当AP发往主机时，发送地址不是实际的源地址，因此用地址3来存放实际的源地址。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-112.png" data-desc-position="bottom"><img alt="img" src="../assets/3-112.png"></a></p>
<p>下面讨论一种更复杂的情况。两个AP有线连接到路由器，现在路由器要向A站发送数据。路由器是网络层设备，它看不见链路层的AP,只认识A站的IP地址。而AP是链路层设备，它只认识MAC地址，而不认识IP地址。</p>
<ol>
<li>路由器从IP数据报获知A站的IP地址，并用ARP获取A站的MAC地址。获取A站的MAC地址后，路由器接口R1将该IP数据报封装成802.3帧(802.3帧只有两个地址),该帧的源地址字段是R1的MAC地址，目的地址字段是A站的MAC地址。</li>
<li>AP收到该802.3帧后，将该802.3帧转换为802.11帧，在帧控制字段中，“去往AP=0”而“来自AP=1”;地址1是A站的MAC地址，地址2是AP的MAC地址，地址3是R1的MAC地址。这样，A站就可以确定(从地址3)将数据报发送到子网中的路由器接口的MAC地址。</li>
</ol>
<details class="note">
<summary>difference between 802.3 and 802.11 frames</summary>
<p>802.3帧：以太网帧，只有源MAC地址和目的MAC地址两个地址字段。</p>
<p>802.11帧：无线帧，最多有四个地址字段（如源地址、目的地址、BSSID等），以适应无线转发和漫游等复杂场景。</p>
</details>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-113.png" data-desc-position="bottom"><img alt="img" src="../assets/3-113.png"></a></p>
<p>现在考虑从A站向路由器接口R1发送数据的情况。</p>
<ol>
<li>A站生成一个802.11帧，在帧控制字段中，“去往AP=1”而“来自AP=0”;地址1是AP的MAC地址，地址2是A站的MAC地址，地址3是R1的MAC地址。</li>
<li>AP收到该802.11帧后，将其转换为802.3帧。该帧的源地址字段是A站的MAC地址，目的地址字段是R1的MAC地址。</li>
</ol>
<details class="note">
<summary>PPT 例题</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-114.png" data-desc-position="bottom"><img alt="img" src="../assets/3-114.png"></a></p>
</details>
<hr>
<details class="example" open="open">
<summary>question</summary>
<p>下列关于用光纤连接的以太网和用双绞线连接的以太网的说法中，错误的是()。</p>
<p>A.用集线器连接的双绞线以太网一定工作在半双工状态</p>
<p>B.用交换机连接的双绞线以太网可以工作在全双工状态</p>
<p>C.光纤以太网主要用于支持点对点通信，目的是扩大以太网的覆盖范围</p>
<p>D.光纤以太网也可以选用CSMA/CD协议</p>
</details>
<details class="note">
<summary>answer</summary>
<p>D</p>
<p>用集线器连接的以太网一定工作在半双工状态，用交换机连接的以太网既可以工作在半双工状态，又可以工作在全双工状态，选项 A、B 正确。光纤主要是为了扩大以太网的覆盖范围，用于支持点对点通信(中继设备之间的传输)，通常不会直接连接终端设备，选项C 正确。一根光纤线内部至少包含两条光纤，用以实现全双工通信，因此用光纤连接的以太网不采用 CSMA/CD协议，选项 D 错误。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>IEEE 802.3标准规定，若采用同轴电缆作为传输介质，在无中继的情况下，传输介质的最大长度不能超过()。</p>
<p>A.500m</p>
<p>B.200m</p>
<p>C.100m</p>
<p>D.50m</p>
</details>
<details class="note">
<summary>answer</summary>
<p>A</p>
<p>以太网常用的传输介质有 4 种:粗缆、细缆、双绞线和光纤。同轴电缆分 50Q 基带电缆和75Ω 宽带电缆两类。基带电缆又分细同轴电缆和粗同轴电缆。</p>
<p>10Base5:粗缆以太网，数据率为 10Mb/s，每段电缆最大长度为 500m:使用特殊的收发器连接到电缆上，收发器完成载波监听和冲突检测的功能。</p>
<p>10Base2:细缆以太网，数据率为 10Mb/s，每段电缆最大长度为 185m;使用 BNC 连接器形成T形连接，无源部件。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>IEEE 802局域网标准对应OSI参考模型的()。</p>
<p>A.数据链路层和网络层</p>
<p>B.物理层和数据链路层</p>
<p>C.物理层</p>
<p>D.数据链路层</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B</p>
<p>IEEE 802 为局域网制定的标准相当于 OSI参考模型的数据链路层和物理层,其中的数据链路层又被进一步分为逻辑链路控制(LLC)和介质访问控制(MAC)两个子层。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>下列关于吉比特以太网的说法中，错误的是()。</p>
<p>A.支持流量控制机制</p>
<p>B.采用曼彻斯特编码，利用光纤进行数据传输</p>
<p>C.数据的传输时间主要受线路传输延迟的制约</p>
<p>D.同时支持全双工模式和半双工模式</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B</p>
<p>吉比特以太网的物理层有两个标准:IEEE 802.3z和 IEEE 802.3ab，前者采用光纤通道，后者采用 4 对 UTP5 类线。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>下列选项中，()不是虚拟局域网(VLAN)的优点。</p>
<p>A.有效共享网络资源</p>
<p>B.简化网络管理</p>
<p>C.链路聚合</p>
<p>D.提高网络安全性</p>
</details>
<details class="note">
<summary>answer</summary>
<p>C</p>
<p>带“虚拟”两个字的基本上都有一个优点，即有效共享资源。通过虚拟局域网，可将一个较大的局域网分割成一些较小的与地理位置无关的逻辑上的虚拟局域网，而每个虚拟局域网都是一个较小的局域网，因此简化了网络管理，提高了信息的保密性和网络的安全性。链路聚合是解决交换机之间的宽带瓶颈问题的技术，而不是虚拟局域网的技术。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-117.png" data-desc-position="bottom"><img alt="img" src="../assets/3-117.png"></a></p>
</details>
<details class="note">
<summary>answer</summary>
<p>D</p>
<ul>
<li>
<p><strong>IP 地址（逻辑地址）：</strong> 始终指向最终的<strong>源头 (H1)</strong> 和<strong>目的地 (H2)</strong>。在整个过程中，IP 包头中的源 IP (192.168.3.2) 和目的 IP (192.168.4.2) <strong>保持不变</strong>。</p>
</li>
<li>
<p><strong>MAC 地址（物理地址）：</strong> 用于在<strong>同一个局域网（网段）</strong> 内部传递数据。当数据包跨越一个路由器时，MAC 地址会发生变化。它只在“一跳”（hop）内有效。</p>
</li>
</ul>
<ol>
<li>H1 → R (第一跳)</li>
</ol>
<p>这是数据包离开 H1，穿过 S1，到达路由器 R 的过程。</p>
<ol>
<li>
<p><strong>H1 的判断：</strong> H1 准备向 H2 (192.168.4.2) 发送 IP 包 (P)。H1 会比较自己的 IP (192.168.3.2) 和 H2 的 IP。</p>
</li>
<li>
<p><strong>发现异地：</strong> H1 发现 H2 (192.168.4.2) 与自己 (192.168.3.2) 不在同一个网段（子网）。</p>
</li>
<li>
<p><strong>寻找网关：</strong> 因为 H2 不在本地网络，H1 必须将这个 IP 包发给它的<strong>默认网关 (Default Gateway)</strong>，由网关来负责转发。H1 的默认网关就是路由器 R 在它这个网段的接口，即 IP 地址为 <code>192.168.3.1</code> 的接口。</p>
</li>
<li>
<p><strong>封装帧 1：</strong> H1 会将 IP 包 (P) 封装成一个以太网帧（我们称之为“帧 1”）。</p>
</li>
</ol>
<ul>
<li>
<p><strong>源 IP：</strong> <code>192.168.3.2</code> (H1)</p>
</li>
<li>
<p><strong>目的 IP：</strong> <code>192.168.4.2</code> (H2)</p>
</li>
<li>
<p><strong>源 MAC：</strong> <code>00-1a-2b-3c-4d-52</code> (H1 的 MAC)</p>
</li>
<li>
<p><strong>目的 MAC：</strong> H1 会使用 ARP 协议查询 <code>192.168.3.1</code>（默认网关）的 MAC 地址。根据图示，这个地址是 <strong><code>00-1a-2b-3c-4d-51</code></strong> (R 的左侧接口 MAC)。</p>
</li>
</ul>
<blockquote>
<p>H1 发出的封装 P 的以太网帧的<strong>目的 MAC 地址</strong>是其默认网关 R 的 MAC 地址，即 <strong><code>00-1a-2b-3c-4d-51</code></strong>。</p>
<p>（交换机 S1 只会根据这个目的 MAC 地址将帧 1 转发给 R，不会修改它。）</p>
</blockquote>
<ol start="2">
<li>R → H2 (第二跳)</li>
</ol>
<p>这是路由器 R 收到“帧 1”后，将其转发给 H2 的过程。</p>
<ol>
<li>
<p><strong>R 的处理：</strong> R 在 <code>192.168.3.1</code> 接口收到“帧 1”。它看到目的 MAC 是自己，于是“解开”帧 1，取出里面的 IP 包 (P)。</p>
</li>
<li>
<p><strong>R 的路由：</strong> R 查看 IP 包 (P) 的<strong>目的 IP 地址</strong>是 <code>192.168.4.2</code>。</p>
</li>
<li>
<p><strong>查询路由表：</strong> R 检查自己的路由表，发现 <code>192.168.4.0</code> 网段是连接在自己的另一个接口 <code>192.168.4.1</code> 上的。</p>
</li>
<li>
<p><strong>封装帧 2：</strong> R 决定将 IP 包 (P) 从 <code>192.168.4.1</code> 接口发出。它必须<strong>重新封装一个全新的以太网帧</strong>（我们称之为“帧 2”）。</p>
</li>
</ol>
<ul>
<li>
<p><strong>源 IP：</strong> <code>192.168.3.2</code> (H1) - <em>不变</em></p>
</li>
<li>
<p><strong>目的 IP：</strong> <code>192.168.4.2</code> (H2) - <em>不变</em></p>
</li>
<li>
<p><strong>源 MAC：</strong> <strong><code>00-a1-b2-c3-d4-61</code></strong> (R 的<strong>右侧</strong>接口 MAC，即它发出数据包的那个接口)</p>
</li>
<li>
<p><strong>目的 MAC：</strong> R 会使用 ARP 协议查询 <code>192.168.4.2</code> (H2) 的 MAC 地址。根据图示，这个地址是 <code>00-a1-b2-c3-d4-62</code>。</p>
</li>
</ul>
<ol start="5">
<li><strong>H2 接收：</strong> 这个“帧 2” 穿过 S2 到达 H2。H2 收到它，看到目的 MAC 是自己，就解开它，取出 IP 包 (P)。</li>
</ol>
<blockquote>
<p>H2 收到的那个帧（帧 2），是 R 发过来的。因此，这个帧的<strong>源 MAC 地址</strong>是 R 的右侧接口 MAC，即 <strong><code>00-a1-b2-c3-d4-61</code></strong>。</p>
</blockquote>
</details>
<details class="example" open="open">
<summary>question</summary>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-118.png" data-desc-position="bottom"><img alt="img" src="../assets/3-118.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/3-119.png" data-desc-position="bottom"><img alt="img" src="../assets/3-119.png"></a></p>
</details>
<details class="note">
<summary>answer</summary>
<p>A</p>
<p>这个问题的核心是理解 802.11 协议中不同类型的<strong>帧间间隔 (Inter-Frame Space, IFS)</strong>。IFS 是指主机或 AP 在发送数据帧之前，必须等待的一小段“安静”时间，以确保信道是空闲的。</p>
<p>设置不同长度的 IFS 是为了<strong>实现接入优先级</strong>。基本原则是：</p>
<blockquote>
<p><strong>等待时间越短 = 优先级越高</strong></p>
</blockquote>
<p>在 802.11 协议中，与此图相关的两种主要 IFS 是：</p>
<ol>
<li><strong>DIFS (Distributed IFS - 分布式帧间间隔):</strong></li>
</ol>
<ul>
<li>
<p><strong>用途：</strong> 用于<strong>发起一个全新的传输</strong>（如发送数据或 RTS）。</p>
</li>
<li>
<p><strong>优先级：</strong> 较低。这是主机在试图“抢占”信道开始新通信时，必须等待的“标准”时长。</p>
</li>
</ul>
<ol start="2">
<li><strong>SIFS (Short IFS - 短帧间间隔):</strong></li>
</ol>
<ul>
<li>
<p><strong>用途：</strong> 用于一个<strong>正在进行</strong>的“原子操作”序列中的<strong>即时响应</strong>。</p>
</li>
<li>
<p><strong>优先级：</strong> 最高。这包括（但不限于）：</p>
<ul>
<li>
<p>用 CTS 帧回应 RTS 帧。</p>
</li>
<li>
<p>用 DATA 帧回应 CTS 帧。</p>
</li>
<li>
<p>用 ACK 帧回应 DATA 帧。</p>
</li>
</ul>
</li>
<li>
<p>它之所以最短，是为了确保这个（RTS → CTS → DATA → ACK）交换过程一旦开始，就不会被其他试图发起新传输（等待 DIFS）的主机所打断。</p>
</li>
</ul>
<p>现在我们来分析图中的四个 IFS：</p>
<p><strong>IFS1 (答案 A):</strong></p>
<ul>
<li>
<p><strong>情景：</strong> 主机 H 想要<strong>发起一次全新的通信</strong>。它首先要发送一个 RTS (Request to Send) 帧。</p>
</li>
<li>
<p><strong>类型：</strong> 在发起新通信之前，H 必须侦听信道，并等待一个 <strong>DIFS</strong> 的时长。</p>
</li>
<li>
<p><strong>因此：IFS1 = DIFS</strong></p>
</li>
</ul>
<p><strong>IFS2 (选项 B):</strong></p>
<ul>
<li>
<p><strong>情景：</strong> AP 刚刚收到了 H 发来的 RTS。它需要<strong>立即回应</strong>一个 CTS (Clear to Send) 帧。</p>
</li>
<li>
<p><strong>类型：</strong> 这是一个正在进行的“原子操作”中的即时响应。</p>
</li>
<li>
<p><strong>因此：IFS2 = SIFS</strong></p>
</li>
</ul>
<p><strong>IFS3 (选项 C):</strong></p>
<ul>
<li>
<p><strong>情景：</strong> H 刚刚收到了 AP 发来的 CTS。它需要<strong>立即回应</strong>（发送）它真正的 DATA 帧。</p>
</li>
<li>
<p><strong>类型：</strong> 这同样是“原子操作”中的一个即时响应。</p>
</li>
<li>
<p><strong>因此：IFS3 = SIFS</strong></p>
</li>
</ul>
<p><strong>IFS4 (选项 D):</strong></p>
<ul>
<li>
<p><strong>情景：</strong> AP 刚刚收到了 H 发来的 DATA 帧。它需要<strong>立即回应</strong>一个 ACK (Acknowledgment) 帧来确认收到。</p>
</li>
<li>
<p><strong>类型：</strong> 这也是“原子操作”中的一个即时响应。</p>
</li>
<li>
<p><strong>因此：IFS4 = SIFS</strong></p>
</li>
</ul>
<p>通过以上分析，我们得到：</p>
<ul>
<li>
<p>IFS1 = <strong>DIFS</strong></p>
</li>
<li>
<p>IFS2 = <strong>SIFS</strong></p>
</li>
<li>
<p>IFS3 = <strong>SIFS</strong></p>
</li>
<li>
<p>IFS4 = <strong>SIFS</strong></p>
</li>
</ul>
<p>在 802.11 协议中，DIFS 的时长<strong>必定大于</strong> SIFS 的时长。</p>
<p><strong>DIFS &gt; SIFS</strong></p>
<p>因此，在这四个选项中，<strong>IFS1 (DIFS)</strong> 是最长的时间间隔。</p>
</details>
<hr>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年12月1日 16:30:35 CST">2025年12月1日 16:30:35</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年10月27日 09:41:30 CST">2025年10月27日 09:41:30</span>
  </span>

    
    
    
  </aside>


  




  <h2 id="__comments">评论</h2>
  <script src="https://giscus.app/client.js" data-repo="Melody12020831/Notebook" data-repo-id="R_kgDONR_9AA" data-category="Announcements" data-category-id="DIC_kwDONR_9AM4CkboN" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin="anonymous" async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2024 <a href="https://github.com/Melody12020831" target="_blank" rel="noopener">Melody</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Melody12020831/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.copy", "content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "navigation.path", "toc.follow", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../../css/javascripts/tablesort.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>