<!DOCTYPE html><html lang="zh" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="央央的笔记本">
      
      
      
        <link rel="canonical" href="https://melody12020831.github.io/Notebook/Computer_Science/OS/Chapter7/">
      
      
        <link rel="prev" href="../Chapter6/">
      
      
        <link rel="next" href="../Chapter8/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/icon.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Chapter 7 | Deadlocks - 央央's Notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen GB Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
      <link rel="stylesheet" href="../../../css/card.css">
    
      <link rel="stylesheet" href="../../../css/tasklist.css">
    
      <link rel="stylesheet" href="../../../css/flink.css">
    
      <link rel="stylesheet" href="../../../css/more_changelog.css">
    
      <link rel="stylesheet" href="../../../css/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../../css/fold_toc.css">
    
      <link rel="stylesheet" href="../../../css/sidebar.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-002T22X4FB"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-002T22X4FB",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-002T22X4FB",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapter-7-deadlocks" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="央央's Notebook" class="md-header__button md-logo" aria-label="央央's Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            央央's Notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 7 | Deadlocks
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="light-blue" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Melody12020831/Notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    Melody
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Computer Science

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Math/" class="md-tabs__link">
          
  
  
    
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Miscellaneous/" class="md-tabs__link">
          
  
  
    
  
  Misccelleanous

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="央央's Notebook" class="md-nav__button md-logo" aria-label="央央's Notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 4v6l-2-2-2 2V4H9v16h10V4zM3 7V5h2V4a2 2 0 0 1 2-2h12c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"></path></svg>

    </a>
    央央's Notebook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Melody12020831/Notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    Melody
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Computer Science
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Computer Science
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ADS/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    ADS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ADS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/Homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/organisedproblems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Organisedproblems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CO/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CO
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    CO
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    chapter 5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/Chapter%206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/COhomework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CO homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/PPT_download/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PPT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DB/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    DB
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    DB
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | Introduction to the Relational Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | Introduction to SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Intermediate SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | Advanced SQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 | Entity-Relationship Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 | Relational Database Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 | Complex Data Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 12 | Physical Storage Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 13 | Data Storage Structures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 14 | Indexing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 15 | Query Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 16 | Query Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 17 | Transactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 18 | Concurrency Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/Chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 19 | Recovery System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../OOP/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    OOP
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    OOP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | A tour of cpp
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | STL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Memory Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | Class
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 | Ctor/Dtor &amp;&amp; Composition &amp; Inheritance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 | Polymorphism
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 | Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 9 | Copy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 10 | Operator Overloading &amp;&amp; Streams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 11 | templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 12 | Iterators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 13 | Exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 14 | Smart Pointers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/Chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 15 | Miscellaneous Topics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/test_from_wk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WK's 课前小测
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/105_STL_Algorithmsin_Less_Than_an_Hour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    105 STL Algorithmsin Less Than an Hour
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CA/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CA
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    CA
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch1 | Fundamentals of Computer Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ch2 | Memory Hierarchy Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/homework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/CA_review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CA review
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../TOC/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    TOC
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    TOC
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | Simple Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | Context-free Language and Pushdown Automata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Turing Machine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TOC/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | Undecidability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    OS
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    OS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | Operating-System Structures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 | Processes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | Threads
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | CPU Scheduling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 | Process Synchronization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 | Deadlocks
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 | Deadlocks
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-deadlock-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Deadlock Problem
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Deadlock Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bridge-crossing-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bridge Crossing Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-characterization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Characterization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deadlock Characterization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-allocation-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource-Allocation Graph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Resource-Allocation Graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-facts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Facts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods-for-handling-deadlocks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Methods for Handling Deadlocks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-prevention" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Prevention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-avoidance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Avoidance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deadlock Avoidance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#safe-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safe State
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Safe State">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-facts_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Facts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoidance-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Avoidance algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Avoidance algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-allocation-graph-scheme" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource-Allocation Graph Scheme
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bankers-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Banker's Algorithm
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Detection
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deadlock Detection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-instance-of-each-resource-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single Instance of Each Resource Type
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single Instance of Each Resource Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-allocation-graph-and-wait-for-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource-Allocation Graph and Wait-for Graph
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#several-instances-of-a-resource-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Several Instances of a Resource Type
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detection-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detection Algorithm
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-detection-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example of Detection Algorithm
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detection-algorithm-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detection-Algorithm Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recovery-from-deadlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery from Deadlock
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recovery from Deadlock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recovery-from-deadlock-process-termination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery from Deadlock: Process Termination
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-from-deadlock-resource-preemption" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery from Deadlock: Resource Preemption
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 | Main Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 9 | Virtual Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 10 | File-System Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 11 | File System Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 12 | Mass-Storage Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 13 | I/O Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CN/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CN
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    CN
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 | 概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 | 物理层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 数据链路层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 | 网络层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 | 运输层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 | 应用层
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/Chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 | 网络安全
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CN/quiz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    quiz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10">
        
          
          <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Visualization
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Visualization
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Visualization/note/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据可视化笔记
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11">
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    编程语言
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    编程语言
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming_Language/python/CS50P_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming_Language/python/python100days/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python-100-Days
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12">
        
          
          <label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tools/Git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tools/reveal-md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    使用 reveal-md 制作 PPT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Math/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Math
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Math
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    概率论与数理统计
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    概率论与数理统计
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1 概率论的基本概念
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2 随机变量及其分布
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3 多元随机变量及其分布
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4 随机变量的数字特征
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5 大数定律和中心极限定理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6 数理统计的基本概念
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 7 参数估计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/Chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 8 假设检验
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/PPT_download/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PPT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_11">
        
          
          <label class="md-nav__link" for="__nav_3_2_11" id="__nav_3_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Homework
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/Homework_index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Homework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW1(习题一)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW2(习题一)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW3(习题一、二)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW4(习题二)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW5(习题二、三)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW6(习题三)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW7(习题三)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW8(习题四)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW9(习题四、五)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW10(习题五、六)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW11(习题六、七(只计算矩估计))
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW12(习题七)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW13(习题七)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Math/Probability_Theory_and_Mathematical_Statistics/HW/HW14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HW14(习题八)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Miscellaneous/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Misccelleanous
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Misccelleanous
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/prompt/prompt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prompt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/mermaid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mermaid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4">
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    UBC
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    UBC
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/UBC/block%20chain%20DAY%208/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    block chain DAY 8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Miscellaneous/cs231n/cs231n_note.md.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    None
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-deadlock-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Deadlock Problem
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Deadlock Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bridge-crossing-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Bridge Crossing Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-characterization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Characterization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deadlock Characterization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-allocation-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource-Allocation Graph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Resource-Allocation Graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-facts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Facts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods-for-handling-deadlocks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Methods for Handling Deadlocks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-prevention" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Prevention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-avoidance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Avoidance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deadlock Avoidance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#safe-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safe State
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Safe State">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-facts_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Facts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoidance-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Avoidance algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Avoidance algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-allocation-graph-scheme" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource-Allocation Graph Scheme
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bankers-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Banker's Algorithm
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deadlock-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deadlock Detection
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deadlock Detection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-instance-of-each-resource-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single Instance of Each Resource Type
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single Instance of Each Resource Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-allocation-graph-and-wait-for-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource-Allocation Graph and Wait-for Graph
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#several-instances-of-a-resource-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        Several Instances of a Resource Type
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detection-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detection Algorithm
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-detection-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example of Detection Algorithm
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detection-algorithm-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detection-Algorithm Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recovery-from-deadlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery from Deadlock
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recovery from Deadlock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recovery-from-deadlock-process-termination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery from Deadlock: Process Termination
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-from-deadlock-resource-preemption" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery from Deadlock: Resource Preemption
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="导航栏">
    <ol class="md-path__list">
      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Computer Science
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    OS
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="chapter-7-deadlocks">Chapter 7 | Deadlocks<a class="headerlink" href="#chapter-7-deadlocks" title="Permanent link">¶</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约 5701 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"></path></svg></span> 18 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间 29 分钟</p>
</div>
<h2 id="the-deadlock-problem">The Deadlock Problem<a class="headerlink" href="#the-deadlock-problem" title="Permanent link">¶</a></h2>
<p>A set of blocked processes each holding a resource and waiting to acquire a resource held by another process in the set.</p>
<p>死锁是指一组被阻塞的进程，每个进程都持有某个资源，同时又在等待被其他进程持有的资源。由于大家都在等待别人释放资源，导致所有进程都无法继续执行。</p>
<p>Example</p>
<ul>
<li>System has 2 disk drives.</li>
<li><span class="arithmatex">\(P_1\)</span> and <span class="arithmatex">\(P_2\)</span> each hold one disk drive and each needs another one.</li>
</ul>
<p>系统有2个磁盘驱动器。进程 <span class="arithmatex">\(P_1\)</span> 和 <span class="arithmatex">\(P_2\)</span> 各自持有一个磁盘驱动器，并且都需要另一个磁盘驱动器才能继续。结果，两个进程都在等待对方释放资源，导致死锁。</p>
<p>Example</p>
<p>semaphores A and B, initialized to 1</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-1.png" data-desc-position="bottom"><img alt="img" src="../assets/7-1.png"></a></p>
<hr>
<h3 id="bridge-crossing-example">Bridge Crossing Example<a class="headerlink" href="#bridge-crossing-example" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-2.png" data-desc-position="bottom"><img alt="img" src="../assets/7-2.png"></a></p>
<p>Traffic only in one direction.</p>
<p>Each section of a bridge can be viewed as a resource.</p>
<p>桥的每一段可以看作一个资源。</p>
<p>If a deadlock occurs, it can be resolved if one car backs up (preempt resources and rollback).</p>
<p>如果桥上车辆只允许单向通行，多个车辆同时进入不同段，互相等待对方让路，就会死锁。</p>
<p>Several cars may have to be backed up if a deadlock occurs.</p>
<p>解决方法：让某些车倒退（资源抢占和回滚）。</p>
<p>Starvation is possible.</p>
<p>但可能出现饥饿（某些车长期无法过桥）。</p>
<hr>
<h2 id="system-model">System Model<a class="headerlink" href="#system-model" title="Permanent link">¶</a></h2>
<p>Resource types <span class="arithmatex">\(R_1, R_2, \ldots, R_m\)</span></p>
<p>系统有多种资源类型， <span class="arithmatex">\(R_1, R_2, \ldots, R_m\)</span> 。</p>
<ul>
<li><em>CPU cycles, memory space, I/O devices</em></li>
</ul>
<p>Each resource type <span class="arithmatex">\(R_i\)</span> has <span class="arithmatex">\(W_i\)</span> instances.</p>
<p>Each process utilizes a resource as follows:</p>
<ul>
<li>request</li>
<li>use</li>
<li>release</li>
</ul>
<p>进程对资源的操作分为三步：</p>
<ul>
<li>请求（request）</li>
<li>使用（use）</li>
<li>释放（release）</li>
</ul>
<hr>
<h2 id="deadlock-characterization">Deadlock Characterization<a class="headerlink" href="#deadlock-characterization" title="Permanent link">¶</a></h2>
<p>Deadlock can arise if four conditions hold <strong>simultaneously</strong>.</p>
<ul>
<li><strong>Mutual exclusion</strong>: only one process at a time can use a resource.</li>
<li><strong>互斥</strong>: 每次只能有一个进程占用某个资源，其他进程不能同时使用该资源。</li>
<li><strong>Hold and wait</strong>: a process holding at least one resource is waiting to acquire additional resources held by other processes.</li>
<li><strong>占有并等待</strong>: 一个进程至少持有一个资源，同时又在等待其他进程持有的资源。</li>
<li><strong>No preemption</strong>: a resource can be released only voluntarily by the process holding it, after that process has completed its task.</li>
<li><strong>不可剥夺</strong>: 资源只能由持有它的进程主动释放，不能被其他进程强制剥夺。</li>
<li><strong>Circular wait</strong>: there exists a set { <span class="arithmatex">\(P_0\)</span> , <span class="arithmatex">\(P_1, …, P_n\)</span> } of waiting processes such that <span class="arithmatex">\(P_0\)</span> is waiting for a resource that is held by <span class="arithmatex">\(P_1\)</span>, <span class="arithmatex">\(P_1\)</span> is waiting for a resource that is held by <span class="arithmatex">\(P_2\)</span> , … , <span class="arithmatex">\(P_{n-1}\)</span> is waiting for a resource that is held by <span class="arithmatex">\(P_n\)</span> , and <span class="arithmatex">\(P_n\)</span> is waiting for a resource that is held by <span class="arithmatex">\(P_0\)</span>.</li>
<li><strong>循环等待</strong>: 存在一个进程集合 { <span class="arithmatex">\(P_0\)</span> , <span class="arithmatex">\(P_1, …, P_n\)</span> } ，其中 <span class="arithmatex">\(P_0\)</span> 正在等待 <span class="arithmatex">\(P_1\)</span> 持有的资源，<span class="arithmatex">\(P_1\)</span> 正在等待 <span class="arithmatex">\(P_2\)</span> 持有的资源，…，<span class="arithmatex">\(P_{n-1}\)</span> 正在等待 <span class="arithmatex">\(P_n\)</span> 持有的资源，而 <span class="arithmatex">\(P_n\)</span> 正在等待 <span class="arithmatex">\(P_0\)</span> 持有的资源。</li>
</ul>
<hr>
<h3 id="resource-allocation-graph">Resource-Allocation Graph<a class="headerlink" href="#resource-allocation-graph" title="Permanent link">¶</a></h3>
<p>A set of vertices V and a set of edges E.</p>
<p>V is partitioned into two types:</p>
<ul>
<li>P = { <span class="arithmatex">\(P_1, P_2, …, P_n\)</span> } , the set consisting of all the processes in the system.</li>
<li>R = { <span class="arithmatex">\(R_1, R_2, …, R_m\)</span> } , the set consisting of all resource types in the system.</li>
</ul>
<p>request edge – directed edge <span class="arithmatex">\((P_i \to R_j)\)</span></p>
<p>assignment edge – directed edge <span class="arithmatex">\((R_j \to P_i)\)</span></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-3.png" data-desc-position="bottom"><img alt="img" src="../assets/7-3.png"></a></p>
<p><strong>Example of a Resource Allocation Graph</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-4.png" data-desc-position="bottom"><img alt="img" src="../assets/7-4.png"></a></p>
<p><strong>资源状态</strong>：</p>
<ul>
<li><span class="arithmatex">\(R_1\)</span>：1 个实例。</li>
<li><span class="arithmatex">\(R_2\)</span>：2 个实例。</li>
<li><span class="arithmatex">\(R_3\)</span>：1 个实例。</li>
<li><span class="arithmatex">\(R_4\)</span>：3 个实例。</li>
</ul>
<p><strong>当前分配与请求情况</strong>：</p>
<ul>
<li><strong><span class="arithmatex">\(P_1\)</span></strong>：持有 <span class="arithmatex">\(R_2\)</span> 的一个实例，正在请求 <span class="arithmatex">\(R_1\)</span>。</li>
<li><strong><span class="arithmatex">\(P_2\)</span></strong>：持有 <span class="arithmatex">\(R_1\)</span> 和 <span class="arithmatex">\(R_2\)</span> 各一个实例，正在请求 <span class="arithmatex">\(R_3\)</span>。</li>
<li><strong><span class="arithmatex">\(P_3\)</span></strong>：持有 <span class="arithmatex">\(R_3\)</span> 的一个实例，无其他请求。</li>
</ul>
<p><strong>分析</strong>：</p>
<ul>
<li>我们可以看到图中<strong>不存在环路 (Cycle)</strong>。</li>
<li><span class="arithmatex">\(P_3\)</span> 拥有它需要的所有资源，可以运行直至结束并释放 <span class="arithmatex">\(R_3\)</span>。</li>
<li>一旦 <span class="arithmatex">\(R_3\)</span> 释放，它可以被分配给 <span class="arithmatex">\(P_2\)</span>，从而让 <span class="arithmatex">\(P_2\)</span> 完成运行并释放 <span class="arithmatex">\(R_1\)</span> 和 <span class="arithmatex">\(R_2\)</span>。</li>
<li>最后，<span class="arithmatex">\(P_1\)</span> 可以获得 <span class="arithmatex">\(R_1\)</span> 并完成运行。</li>
<li><strong>结论</strong>：因为图中没有环路，所以系统处于安全状态，<strong>不存在死锁</strong>。</li>
</ul>
<p><strong>Resource Allocation Graph With A Deadlock</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-5.png" data-desc-position="bottom"><img alt="img" src="../assets/7-5.png"></a></p>
<p><strong>主要变化</strong>：</p>
<ul>
<li>增加了一条从 <strong><span class="arithmatex">\(P_3\)</span> 指向 <span class="arithmatex">\(R_2\)</span></strong> 的请求边 (<span class="arithmatex">\(P_3 \to R_2\)</span>)。这意味着 <span class="arithmatex">\(P_3\)</span> 不再能直接完成，它现在需要 <span class="arithmatex">\(R_2\)</span> 才能继续。</li>
</ul>
<p><strong>分析</strong>：</p>
<ul>
<li>这导致图中出现了<strong>环路</strong>。具体的环路有两条：</li>
</ul>
<ol>
<li><span class="arithmatex">\(P_1 \to R_1 \to P_2 \to R_3 \to P_3 \to R_2 \to P_1\)</span></li>
<li><span class="arithmatex">\(P_2 \to R_3 \to P_3 \to R_2 \to P_2\)</span></li>
</ol>
<p><strong>为什么这是死锁？</strong></p>
<ul>
<li><span class="arithmatex">\(P_1\)</span> 在等待 <span class="arithmatex">\(R_1\)</span>（被 <span class="arithmatex">\(P_2\)</span> 占用）。</li>
<li><span class="arithmatex">\(P_2\)</span> 在等待 <span class="arithmatex">\(R_3\)</span>（被 <span class="arithmatex">\(P_3\)</span> 占用）。</li>
<li><span class="arithmatex">\(P_3\)</span> 在等待 <span class="arithmatex">\(R_2\)</span>（被 <span class="arithmatex">\(P_1\)</span> 和 <span class="arithmatex">\(P_2\)</span> 占用）。</li>
<li>
<p>所有涉及的资源（<span class="arithmatex">\(R_1, R_3\)</span>）或者是单实例的，或者（如 <span class="arithmatex">\(R_2\)</span>）其实例已经被环路内的进程完全占用。</p>
</li>
<li>
<p><strong>结论</strong>：进程 <span class="arithmatex">\(P_1, P_2, P_3\)</span> 陷入了循环等待，且没有任何外力能打破这个循环，因此系统处于<strong>死锁状态</strong>。</p>
</li>
</ul>
<p><strong>Graph With A Cycle But No Deadlock</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-6.png" data-desc-position="bottom"><img alt="img" src="../assets/7-6.png"></a></p>
<p><strong>资源状态</strong>：</p>
<ul>
<li><span class="arithmatex">\(R_1\)</span>：2 个实例。</li>
<li><span class="arithmatex">\(R_2\)</span>：2 个实例。</li>
</ul>
<p><strong>当前分配与请求情况</strong>：</p>
<ul>
<li><span class="arithmatex">\(P_1\)</span> 请求 <span class="arithmatex">\(R_1\)</span>。</li>
<li><span class="arithmatex">\(P_3\)</span> 请求 <span class="arithmatex">\(R_2\)</span>。</li>
<li><span class="arithmatex">\(R_1\)</span> 分配给了 <span class="arithmatex">\(P_2\)</span> 和 <span class="arithmatex">\(P_3\)</span>。</li>
<li><span class="arithmatex">\(R_2\)</span> 分配给了 <span class="arithmatex">\(P_1\)</span> 和 <span class="arithmatex">\(P_4\)</span>。</li>
</ul>
<p><strong>分析</strong>：</p>
<ul>
<li><strong>存在环路</strong>：<span class="arithmatex">\(P_1 \to R_1 \to P_3 \to R_2 \to P_1\)</span>。</li>
<li>尽管有环路，但我们需要观察参与环路之外的进程（<span class="arithmatex">\(P_2\)</span> 和 <span class="arithmatex">\(P_4\)</span>）：</li>
</ul>
<ol>
<li><strong><span class="arithmatex">\(P_2\)</span></strong> 持有 <span class="arithmatex">\(R_1\)</span> 的一个实例，且没有请求其他资源。它大概率会运行结束并释放 <span class="arithmatex">\(R_1\)</span>。</li>
<li><strong><span class="arithmatex">\(P_4\)</span></strong> 持有 <span class="arithmatex">\(R_2\)</span> 的一个实例，且没有请求其他资源。它大概率会运行结束并释放 <span class="arithmatex">\(R_2\)</span>。</li>
</ol>
<ul>
<li>一旦 <span class="arithmatex">\(P_4\)</span> 完成并释放 <span class="arithmatex">\(R_2\)</span>，该资源就可以分配给 <span class="arithmatex">\(P_3\)</span>，打破了 <span class="arithmatex">\(P_3\)</span> 的等待。<span class="arithmatex">\(P_3\)</span> 完成后释放 <span class="arithmatex">\(R_1\)</span>，进而满足 <span class="arithmatex">\(P_1\)</span> 的需求。</li>
<li><strong>结论</strong>：虽然存在环路，但由于资源有多个实例，且有环路外的进程（<span class="arithmatex">\(P_2, P_4\)</span>）能够释放资源打破循环，所以系统<strong>没有死锁</strong>。</li>
</ul>
<details class="example" open="open">
<summary>questioin</summary>
<p>系统的资源分配图在下列情况下，无法判断是否处于死锁状态的有()。</p>
<p>I.出现了环路 Ⅱ.没有环路 Ⅲ.每种资源只有一个，并出现环路 IV.每个进程节点至少有一条请求边</p>
<p>A.I、Ⅱ、Ⅲ、IV    B.I、Ⅲ、IV    C.I、IV    D.以上答案都不正确</p>
</details>
<details class="note">
<summary>answer</summary>
<p><strong>I. 出现了环路</strong></p>
<ul>
<li>
<p><strong>分析</strong>：仅仅知道“出现了环路”这一信息，我们无法确定每种资源的实例数量（是单实例还是多实例）。</p>
</li>
<li>
<p><strong>结论</strong>：因为信息不足（不知道资源实例数），所以<strong>无法判断</strong>是否处于死锁状态。</p>
</li>
</ul>
<p><strong>II. 没有环路</strong></p>
<ul>
<li>
<p><strong>分析</strong>：根据基本定理，只要资源分配图中不存在环路，系统就绝对不会发生死锁。</p>
</li>
<li>
<p><strong>结论</strong>：我们可以<strong>确定</strong>系统<strong>不处于</strong>死锁状态。</p>
</li>
</ul>
<p><strong>III. 每种资源只有一个，并出现环路</strong></p>
<ul>
<li>
<p><strong>分析</strong>：这是死锁的充分条件。在单实例资源的情况下，环路的存在意味着循环等待链已经形成，且没有额外的资源实例来打破这个循环。</p>
</li>
<li>
<p><strong>结论</strong>：我们可以<strong>确定</strong>系统<strong>处于</strong>死锁状态。</p>
</li>
</ul>
<p><strong>IV. 每个进程节点至少有一条请求边</strong></p>
<ul>
<li>
<p><strong>分析</strong>：这只说明每个进程都在请求资源（都在“想要”东西）。</p>
</li>
<li>
<p>情况 A：进程 <span class="arithmatex">\(P_1\)</span> 请求资源 <span class="arithmatex">\(R_1\)</span>，而 <span class="arithmatex">\(R_1\)</span> 是空闲的。这很正常，不是死锁。</p>
</li>
<li>
<p>情况 B：进程 <span class="arithmatex">\(P_1\)</span> 请求 <span class="arithmatex">\(R_1\)</span>（被 <span class="arithmatex">\(P_2\)</span> 占），<span class="arithmatex">\(P_2\)</span> 请求 <span class="arithmatex">\(R_2\)</span>（被 <span class="arithmatex">\(P_1\)</span> 占）。这是死锁。</p>
</li>
<li>
<p>仅仅知道“有请求边”并不能告诉我们图中是否形成了<strong>环路</strong>，也不能告诉我们资源是否足够分配。</p>
</li>
<li>
<p><strong>结论</strong>：信息严重不足，<strong>无法判断</strong>是否处于死锁状态。</p>
</li>
</ul>
</details>
<hr>
<h4 id="basic-facts">Basic Facts<a class="headerlink" href="#basic-facts" title="Permanent link">¶</a></h4>
<p>If graph contains no cycles <span class="arithmatex">\(\Rightarrow\)</span> no deadlock</p>
<p>如果图中没有环路，则一定没有死锁。</p>
<p>If graph contains a cycle <span class="arithmatex">\(\Rightarrow\)</span></p>
<ul>
<li>if only one instance per resource type, then deadlock. 每种资源只有一个实例时，有环路则一定死锁。</li>
<li>if several instances per resource type, possibility of deadlock. 每种资源有多个实例时，有环路则可能死锁。</li>
</ul>
<hr>
<h4 id="methods-for-handling-deadlocks">Methods for Handling Deadlocks<a class="headerlink" href="#methods-for-handling-deadlocks" title="Permanent link">¶</a></h4>
<p>Ensure that the system will <strong>never</strong> enter a deadlock state.</p>
<p>保证系统永远不会进入死锁状态。</p>
<p>Allow the system to enter a deadlock state and then recover.</p>
<p>允许系统进入死锁状态，然后进行恢复</p>
<p>Ignore the problem and pretend that deadlocks never occur in the system; used by most operating systems, including UNIX.</p>
<p>忽略死锁问题，假装死锁不会发生。因为一旦发生死锁，相关进程会永久阻塞，此时就会有人工干预（如重启进程或系统）解决。</p>
<hr>
<h2 id="deadlock-prevention">Deadlock Prevention<a class="headerlink" href="#deadlock-prevention" title="Permanent link">¶</a></h2>
<p>Restrain the ways request can be made.</p>
<p>通过破坏死锁的四个必要条件之一，让系统永远不会进入死锁状态。</p>
<ol>
<li><strong>Mutual Exclusion</strong> – not required for sharable resources; must hold for nonsharable resources.</li>
</ol>
<p>尽量减少互斥资源的数量，但对于本质上不可共享的资源，互斥条件无法避免。</p>
<ol start="2">
<li><strong>Hold and Wait</strong> – must guarantee that whenever a process requests a resource, it does not hold any other resources.</li>
</ol>
<ul>
<li>Require process to request and be allocated all its resources before it begins execution, or allow process to request resources only when the process has none (release all current resources before requesting any additional ones).</li>
<li>要么要求进程在开始执行前一次性申请并获得所有需要的资源；要么要求进程在申请新资源前，先释放已持有的所有资源。</li>
<li>Low resource utilization; starvation possible. (example: copy data from DVD drive to a disk file, sorts the file, then prints the results to a printer.)</li>
<li>这样做会导致资源利用率低，进程可能长期等待，甚至出现饥饿。例如：一个进程需要先从DVD读数据，再写到磁盘，最后打印结果，如果必须一次性申请所有资源，可能导致资源长时间被占用但未充分利用。</li>
</ul>
<ol start="3">
<li><strong>No Preemption</strong> –</li>
</ol>
<ul>
<li>If a process that is holding some resources requests another resource that cannot be immediately allocated to it, then all resources currently being held are released.</li>
<li>如果进程持有资源并请求新资源时，新资源无法立即分配，则强制收回该进程已持有的所有资源。</li>
<li>Preempted resources are added to the list of resources for which the process is waiting.</li>
<li>被收回的资源加入进程等待队列。</li>
<li>Process will be restarted only when it can regain its old resources, as well as the new ones that it is requesting.</li>
<li>进程只有在能一次性获得所有资源时才会被重新启动。</li>
</ul>
<p>这样可以打破不可剥夺条件，但实现复杂，可能影响进程执行的连续性。</p>
<ol start="4">
<li><strong>Circular Wait</strong> – impose a <strong>total ordering</strong> of all resource types, and require that each process requests resources in an increasing order of enumeration.</li>
</ol>
<ul>
<li>F(tape drive)=1</li>
<li>F(disk drive)=5</li>
<li>F(printer)=12</li>
</ul>
<p>给所有资源类型规定一个全局顺序（如磁带机=1，磁盘=5，打印机=12）。要求进程只能按顺序递增的方式申请资源，即只能先申请编号小的资源，再申请编号大的资源。</p>
<p>这样可以避免形成环路，从而防止死锁。</p>
<hr>
<h2 id="deadlock-avoidance">Deadlock Avoidance<a class="headerlink" href="#deadlock-avoidance" title="Permanent link">¶</a></h2>
<p>Requires that the system has some additional a <strong>priori</strong> information available.</p>
<p>死锁避免不是一开始就禁止所有可能导致死锁的行为，而是在资源分配过程中动态判断，只要有可能导致死锁的分配就拒绝，保证系统始终处于“安全状态”。</p>
<p>系统需要提前获得一些额外信息（a priori information），比如每个进程可能需要的最大资源数量。</p>
<ul>
<li>Simplest and most useful model requires that each process declares the <strong>maximum number</strong> of resources of each type that it may need.</li>
<li>每个进程在开始时，必须声明自己可能需要的每种资源的最大数量。</li>
<li>The deadlock-avoidance algorithm <strong>dynamically</strong> examines the resource-allocation state to ensure that there can never be a circular-wait condition.</li>
<li>每当有进程请求资源时，系统会动态检查当前资源分配状态（包括可用资源、已分配资源、各进程最大需求）。判断如果满足该请求后，系统是否还处于“安全状态”——即所有进程最终都能获得所需资源并顺利完成。</li>
<li>Resource-allocation <strong>state</strong> is defined by the number of available and allocated resources, and the maximum demands of the processes.</li>
<li>死锁避免算法会确保不会出现循环等待（即不会形成死锁的环路）。如果某次资源分配会导致系统进入不安全状态（可能死锁），则拒绝该分配请求。</li>
</ul>
<hr>
<h3 id="safe-state">Safe State<a class="headerlink" href="#safe-state" title="Permanent link">¶</a></h3>
<p>When a process requests an available resource, system must decide if immediate allocation leaves the system in a safe state.</p>
<p>当一个进程请求资源时，系统必须判断：如果立即分配这些资源，系统是否还处于安全状态？</p>
<p>安全状态的定义：存在一个进程执行顺序，使得每个进程都能最终获得所需资源并顺利完成，不会发生死锁。</p>
<p>System is in <strong>safe state</strong> if there exists a sequence &lt; <span class="arithmatex">\(P_1, P_2, …, P_n\)</span> &gt; of all the processes such that for each <span class="arithmatex">\(P_i\)</span>, the resources that <span class="arithmatex">\(P_i\)</span> can still request can be satisfied by the currently available resources plus the resources held by all the <span class="arithmatex">\(P_j\)</span> , with <span class="arithmatex">\(j &lt; i\)</span>.</p>
<p>假设系统有 <span class="arithmatex">\(n\)</span> 个进程，存在一个序列 &lt; <span class="arithmatex">\(P_1\)</span> , <span class="arithmatex">\(P_2\)</span> , ..., <span class="arithmatex">\(P_n\)</span> &gt;，满足：</p>
<ul>
<li>对于每个 <span class="arithmatex">\(P_i\)</span>，它还可能请求的资源数量，可以由当前可用资源 + 所有已完成进程释放的资源来满足。</li>
<li>换句话说， <span class="arithmatex">\(P_i\)</span> 即使暂时得不到资源，也可以等前面的进程 <span class="arithmatex">\(P_j\)</span> (<span class="arithmatex">\(j &lt; i\)</span>) 完成并释放资源后，最终获得所需资源。</li>
</ul>
<p>That is:</p>
<ul>
<li>If <span class="arithmatex">\(P_i\)</span> resource needs are not immediately available, then <span class="arithmatex">\(P_i\)</span> can wait until all <span class="arithmatex">\(P_j\)</span> have finished.</li>
<li>When <span class="arithmatex">\(P_j\)</span> is finished, <span class="arithmatex">\(P_i\)</span> can obtain needed resources, execute, return allocated resources, and terminate.</li>
<li>When <span class="arithmatex">\(P_i\)</span> terminates, <span class="arithmatex">\(P_{i+1}\)</span> can obtain its needed resources, and so on.</li>
</ul>
<ol>
<li>假设当前有一组进程和资源分配情况。</li>
<li>找到一个进程 <span class="arithmatex">\(P_j\)</span> ，它所需的资源不超过当前可用资源，分配资源给它，让它执行并释放资源。</li>
<li>更新可用资源，再找下一个满足条件的进程，重复上述过程。</li>
<li>如果所有进程都能按某种顺序完成，则系统处于安全状态。</li>
</ol>
<details class="example" open="open">
<summary>question</summary>
<p>下列关于死锁的说法中，正确的有()。</p>
<p>I.死锁状态一定是不安全状态</p>
<p>II.产生死锁的根本原因是系统资源分配不足和进程推进顺序非法</p>
<p>Ⅲ.资源的有序分配策略可以破坏死锁的循环等待条件</p>
<p>IV.采用资源剥夺法可以解除死锁，还可以采用撤销进程方法解除死锁</p>
<p>A.I、Ⅲ   B.Ⅱ   C.IV   D.四个说法都对</p>
</details>
<details class="note">
<summary>answer</summary>
<p>D</p>
<p>选项 I 正确。</p>
<p>选项 II 正确:这是产生死锁的两大原因。</p>
<p>选项 Ⅲ 正确:在对资源进行有序分配时，进程间不可能出现环形链，即不会出现循环等待。</p>
<p>选项 IV 正确:资源剥夺法允许一个进程强行剥夺其他进程占有的系统资源。而撤销进程强行释放一个进程已占有的系统资源，与资源剥夺法同理，都通过破坏死锁的“请求和保持”条件来解除死锁，所以选择选项 D。</p>
</details>
<hr>
<h4 id="basic-facts_1">Basic Facts<a class="headerlink" href="#basic-facts_1" title="Permanent link">¶</a></h4>
<p>If a system is in safe state <span class="arithmatex">\(\Rightarrow\)</span> no deadlock</p>
<p>如果系统处于安全状态 <span class="arithmatex">\(\Rightarrow\)</span> 不会发生死锁</p>
<p>If a system is in unsafe state <span class="arithmatex">\(\Rightarrow\)</span> possibility of deadlock</p>
<p>如果系统处于不安全状态 <span class="arithmatex">\(\Rightarrow\)</span> 可能发生死锁</p>
<p>Avoidance <span class="arithmatex">\(\Rightarrow\)</span> ensure that system will never enter an unsafe state</p>
<p>通过动态资源分配算法，确保系统永远不会进入不安全状态，从而避免死锁的发生。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-7.png" data-desc-position="bottom"><img alt="img" src="../assets/7-7.png"></a></p>
<hr>
<h3 id="avoidance-algorithms">Avoidance algorithms<a class="headerlink" href="#avoidance-algorithms" title="Permanent link">¶</a></h3>
<p>Single instance of a resource type. Use a resource-allocation graph</p>
<p>单实例资源类型用<strong>资源分配图</strong>（Resource-Allocation Graph）检测是否有环路，避免死锁。</p>
<p>Multiple instances of a resource type. Use the banker’s algorithm</p>
<p>多实例资源类型用<strong>银行家算法</strong>（Banker's Algorithm）检测系统是否处于安全状态，避免死锁。</p>
<hr>
<h4 id="resource-allocation-graph-scheme">Resource-Allocation Graph Scheme<a class="headerlink" href="#resource-allocation-graph-scheme" title="Permanent link">¶</a></h4>
<p>Claim edge <span class="arithmatex">\(P_i \Rightarrow R_j\)</span> indicated that process <span class="arithmatex">\(P_j\)</span> may request resource <span class="arithmatex">\(R_j\)</span>; represented by a dashed line.</p>
<p>虚线（dashed line）表示进程 <span class="arithmatex">\(P_i\)</span> 可能将来会请求资源 <span class="arithmatex">\(R_j\)</span> ，但当前还没有实际请求。用于提前声明潜在的资源需求，系统可以据此判断未来的资源分配是否安全。</p>
<p><strong>Claim edge</strong> converts to <strong>request edge</strong> when a process requests a resource.</p>
<p>当进程 <span class="arithmatex">\(P_i\)</span> 实际请求资源 <span class="arithmatex">\(R_j\)</span> 时，声明边变为请求边（实线，<span class="arithmatex">\(P_i \Rightarrow R_j\)</span>）。表示进程正在等待资源分配。</p>
<p><strong>Request edge</strong> converted to an <strong>assignment edge</strong> when the resource is allocated to the process.</p>
<p>当资源 <span class="arithmatex">\(R_j\)</span> 分配给进程 <span class="arithmatex">\(P_i\)</span> 时，请求边变为分配边（实线，<span class="arithmatex">\(R_j \Rightarrow P_i\)</span>）。表示资源已经被进程占用。</p>
<p>When a resource is released by a process, <strong>assignment edge</strong> reconverts to a <strong>claim edge</strong>.</p>
<p>分配边变回声明边（虚线，<span class="arithmatex">\(P_i \Rightarrow R_j\)</span>）。进程释放资源后，表示将来还可能再次请求。 </p>
<p>Resources must be claimed a <strong>priori</strong> in the system.</p>
<p>所有进程必须在系统中提前声明自己可能会请求哪些资源。这样系统才能在资源分配时动态判断是否安全，避免死锁。</p>
<p><strong>Resource-Allocation Graph</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-11.png" data-desc-position="bottom"><img alt="img" src="../assets/7-11.png"></a></p>
<p><strong>Unsafe State In Resource-Allocation Graph</strong></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-12.png" data-desc-position="bottom"><img alt="img" src="../assets/7-12.png"></a></p>
<ul>
<li>如果把 <span class="arithmatex">\(P_2\)</span> 和 <span class="arithmatex">\(R_1\)</span> 之间的分配边变为请求边，系统依然是不安全状态，因为此时还是会形成环路（例如 <span class="arithmatex">\(P_2\)</span> 和 <span class="arithmatex">\(P_1\)</span> 同时发出请求）。</li>
<li>所以只要有环路，那么就是不安全状态。</li>
</ul>
<hr>
<h5 id="resource-allocation-graph-algorithm">Resource-Allocation Graph Algorithm<a class="headerlink" href="#resource-allocation-graph-algorithm" title="Permanent link">¶</a></h5>
<p>Suppose that process <span class="arithmatex">\(P_i\)</span> requests a resource <span class="arithmatex">\(R_j\)</span></p>
<p>将请求边（ <span class="arithmatex">\(P_i \Rightarrow R_j\)</span> ）转换为分配边（ <span class="arithmatex">\(R_j \Rightarrow P_i\)</span> ）, 即假设资源分配成功。</p>
<p>The request can be granted only if converting the request edge to an assignment edge does not result in the formation of a cycle in the resource allocation graph</p>
<p>检查资源分配图是否形成环路：</p>
<ul>
<li>如果没有环路，说明分配后系统仍处于安全状态，可以满足所有进程的需求，允许分配。</li>
<li>如果出现环路，说明分配后可能导致死锁，拒绝本次分配请求。</li>
</ul>
<hr>
<h4 id="bankers-algorithm">Banker's Algorithm<a class="headerlink" href="#bankers-algorithm" title="Permanent link">¶</a></h4>
<p>Assumptions</p>
<ul>
<li>Multiple instances. 资源有多个实例（如多个打印机、磁盘等）。</li>
<li>Each process must a priori claim maximum use. 每个进程必须提前声明最大资源需求（a priori claim）。</li>
<li>When a process requests a resource it may have to wait. 进程请求资源时可能需要等待（如果暂时没有足够资源）。</li>
<li>When a process gets all its resources it must return them in a finite amount of time. 进程获得所有资源后，必须在有限时间内归还资源（即最终会释放）。</li>
</ul>
<hr>
<h5 id="data-structures-for-the-bankers-algorithm">Data Structures for the Banker's Algorithm<a class="headerlink" href="#data-structures-for-the-bankers-algorithm" title="Permanent link">¶</a></h5>
<p>Let n = number of processes, and m = number of resources types.</p>
<p>假设有 n 个进程，m 种资源类型：</p>
<ul>
<li><strong>Available</strong>: Vector of length m. If available [j] = k, there are k instances of resource type <span class="arithmatex">\(R_j\)</span> available.</li>
<li>Available：长度为 m 的向量。Available[j]=k 表示资源 <span class="arithmatex">\(R_j\)</span> 还有 k 个可用实例。</li>
<li><strong>Max</strong>: <span class="arithmatex">\(n \times m\)</span> matrix. If Max [i,j] = k, then process <span class="arithmatex">\(P_i\)</span> may request at most k instances of resource type <span class="arithmatex">\(R_j\)</span>.</li>
<li>Max：n 行 m 列的矩阵。Max[i,j]=k 表示进程 <span class="arithmatex">\(P_i\)</span> 最多可能请求 k 个 <span class="arithmatex">\(R_j\)</span> 资源实例。</li>
<li><strong>Allocation</strong>: <span class="arithmatex">\(n \times m\)</span> matrix. If Allocation[i,j] = k then <span class="arithmatex">\(P_i\)</span> is currently allocated k instances of <span class="arithmatex">\(R_j\)</span>.</li>
<li>Allocation：n 行 m 列的矩阵。Allocation[i,j]=k 表示进程 <span class="arithmatex">\(P_i\)</span> 当前已经分配了 k 个 <span class="arithmatex">\(R_j\)</span> 资源实例。</li>
<li><strong>Need</strong>: <span class="arithmatex">\(n \times m\)</span> matrix. If Need[i,j] = k, then <span class="arithmatex">\(P_i\)</span> may need k more instances of <span class="arithmatex">\(R_j\)</span> to complete its task.</li>
<li>Need：n 行 m 列的矩阵。Need[i,j]=k 表示进程 <span class="arithmatex">\(P_i\)</span> 还可能需要 k 个 <span class="arithmatex">\(R_j\)</span> 资源实例才能完成任务。</li>
</ul>
<p>Need [i,j] = Max[i,j] – Allocation [i,j].</p>
<hr>
<h5 id="safety-algorithm">Safety Algorithm<a class="headerlink" href="#safety-algorithm" title="Permanent link">¶</a></h5>
<p>这个算法是给 OS 用的，用来判断系统是否处于安全状态。</p>
<ol>
<li>Let Work and Finish be vectors of length m and n, respectively. Initialize:</li>
</ol>
<p>初始化：</p>
<p>Work = Available （当前可用资源）</p>
<p>Finish [i] = false for i = 0, 1, …, n- 1. （每个进程是否已完成）</p>
<ol start="2">
<li>Find an i such that both:</li>
</ol>
<p>在所有未完成的进程中，寻找一个 <span class="arithmatex">\(P_i\)</span> ，满足：</p>
<p>(a) Finish [i] = false </p>
<p>(b) <span class="arithmatex">\(Need_i \leq\)</span> Work. （即 <span class="arithmatex">\(P_i\)</span> 所需资源不超过当前可用资源）</p>
<p>(c) If no such i exists, go to step 4. （如果找不到这样的进程，跳到步骤4）</p>
<ol start="3">
<li>如果找到这样的 <span class="arithmatex">\(P_i\)</span> ：</li>
</ol>
<p>Work = Work + <span class="arithmatex">\(Allocation_i\)</span></p>
<p>模拟 <span class="arithmatex">\(P_i\)</span> 运行完释放资源</p>
<p>Finish[i] = true</p>
<p>go to step 2.</p>
<p>回到步骤2，继续寻找下一个进程</p>
<ol start="4">
<li>If Finish [i] == true for all i, then the system is in a safe state.</li>
</ol>
<p>如果所有进程 Finish[i] == true，则系统安全；否则不安全。</p>
<hr>
<h5 id="resource-request-algorithm-for-process-p_i">Resource-Request Algorithm for Process <span class="arithmatex">\(P_i\)</span><a class="headerlink" href="#resource-request-algorithm-for-process-p_i" title="Permanent link">¶</a></h5>
<p>当进程 <span class="arithmatex">\(P_i\)</span> 请求资源时，系统如何判断是否可以分配：</p>
<p>Request = request vector for process <span class="arithmatex">\(P_i\)</span>. If Request[i] [j] = k then process <span class="arithmatex">\(P_i\)</span> wants k instances of resource type <span class="arithmatex">\(R_j\)</span>.</p>
<ol>
<li>If <span class="arithmatex">\(Request_i \leq Need_i\)</span> go to step 2. Otherwise, raise error condition, since process has exceeded its maximum claim.</li>
<li>If <span class="arithmatex">\(Request_i \leq Available\)</span>, go to step 3. Otherwise <span class="arithmatex">\(P_i\)</span> must wait, since resources are not available.</li>
<li>Pretend to allocate requested resources to <span class="arithmatex">\(P_i\)</span> by modifying the state as follows:</li>
</ol>
<ul>
<li>Available = Available – Request;</li>
<li><span class="arithmatex">\(Allocation_i\)</span> = <span class="arithmatex">\(Allocation_i\)</span> + <span class="arithmatex">\(Request_i\)</span>;</li>
<li><span class="arithmatex">\(Need_i\)</span> = <span class="arithmatex">\(Need_i\)</span> – <span class="arithmatex">\(Request_i\)</span>;</li>
</ul>
<p>If safe <span class="arithmatex">\(\Rightarrow\)</span> the resources are allocated to <span class="arithmatex">\(P_i\)</span></p>
<p>If unsafe <span class="arithmatex">\(\Rightarrow\)</span> <span class="arithmatex">\(P_i\)</span> must wait, and the old resource-allocation state is restored</p>
<ol>
<li>检查请求是否合法：</li>
</ol>
<ul>
<li>如果 <code>Request[i] &gt; Need[i]</code> ，报错（请求超出最大声明）。</li>
</ul>
<ol start="2">
<li>检查资源是否足够：</li>
</ol>
<ul>
<li>如果 <code>Request[i] &gt; Available</code> ，进程必须等待（资源不足）。</li>
</ul>
<ol start="3">
<li>假设分配（试探性分配）：</li>
</ol>
<ul>
<li><code>Available = Available – Request[i];</code></li>
<li><code>Allocation[i] = Allocation[i] + Request[i];</code></li>
<li><code>Need[i] = Need[i] – Request[i];</code></li>
</ul>
<ol start="4">
<li>用安全性算法判断分配后系统是否安全：</li>
</ol>
<ul>
<li>如果安全，正式分配资源给进程 <span class="arithmatex">\(P_i\)</span> 。</li>
<li>如果不安全，撤销分配，恢复原状态，进程 <span class="arithmatex">\(P_i\)</span> 必须等待。</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>等着的时候应该是进入阻塞状态，等待资源变得可用。</p>
<p>如果所有的进程都进入等待状态，那么系统就会进入死锁状态。</p>
<p>每次进程发出 request 请求时，系统都会调用资源请求算法，判断是否可以分配资源。</p>
</div>
<hr>
<h5 id="example-of-bankers-algorithm">Example of Banker's Algorithm<a class="headerlink" href="#example-of-bankers-algorithm" title="Permanent link">¶</a></h5>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-13.png" data-desc-position="bottom"><img alt="img" src="../assets/7-13.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-14.png" data-desc-position="bottom"><img alt="img" src="../assets/7-14.png"></a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-15.png" data-desc-position="bottom"><img alt="img" src="../assets/7-15.png"></a></p>
<p><span class="arithmatex">\(P_4\)</span> 能否被授予 (3,3,0) 的请求？</p>
<ol>
<li>检查请求是否合法： (3,3,0) ≤ (4,3,2) 合法。</li>
<li>检查资源是否足够： (3,3,0) <span class="arithmatex">\(\ge\)</span> (2,3,0) 不足够。</li>
</ol>
<p><span class="arithmatex">\(P_4\)</span> 的请求 (3,3,0) 不能被立即满足，必须等待。</p>
<p><span class="arithmatex">\(P_0\)</span> 能否被授予 (0,2,0) 的请求？</p>
<ol>
<li>检查请求是否合法： (0,2,0) ≤ (7,5,3) 合法。</li>
<li>检查资源是否足够： (0,2,0) ≤ (2,3,0) 足够。</li>
<li>假设分配：</li>
</ol>
<ul>
<li>Available = (2,3,0) – (0,2,0) = (2,1,0)</li>
<li>Allocation[0] = (0,1,0) + (0,2,0) = (0,3,0), Need[0] = (7,5,3) – (0,3,0) = (7,2,3)</li>
</ul>
<ol start="4">
<li>用安全性算法判断分配后系统是否安全：</li>
</ol>
<ul>
<li>选择 <span class="arithmatex">\(P_1\)</span>：Need[1] = (0,2,0) ≤ Available = (2,1,0) 不满足。</li>
<li>选择 <span class="arithmatex">\(P_2\)</span>：Need[2] = (6,0,0) ≤ Available = (2,1,0) 不满足。</li>
<li>选择 <span class="arithmatex">\(P_3\)</span>：Need[3] = (0,1,1) ≤ Available = (2,1,0) 不满足。</li>
<li>选择 <span class="arithmatex">\(P_4\)</span>：Need[4] = (4,3,1) ≤ Available = (2,1,0) 不满足。</li>
</ul>
<p>无法找到任何进程满足条件，系统不安全。所以 <span class="arithmatex">\(P_0\)</span> 的请求 (0,2,0) 不能被满足，必须等待。</p>
<hr>
<h2 id="deadlock-detection">Deadlock Detection<a class="headerlink" href="#deadlock-detection" title="Permanent link">¶</a></h2>
<p>Allow system to enter deadlock state</p>
<p>Detection algorithm</p>
<p>Recovery scheme</p>
<p>死锁检测允许系统进入死锁状态，然后通过算法检测死锁，再采取恢复措施。</p>
<p>检测算法分为两类：单实例资源和多实例资源。</p>
<hr>
<h3 id="single-instance-of-each-resource-type">Single Instance of Each Resource Type<a class="headerlink" href="#single-instance-of-each-resource-type" title="Permanent link">¶</a></h3>
<p>Maintain <strong>wait-for</strong> graph</p>
<p>等待图（Wait-for Graph）</p>
<ul>
<li>Nodes are processes. 每个进程是一个节点。</li>
<li><span class="arithmatex">\(P_i \to P_j\)</span> if <span class="arithmatex">\(P_i\)</span> is waiting for <span class="arithmatex">\(P_j\)</span>. 如果 <span class="arithmatex">\(P_i\)</span> 正在等待 <span class="arithmatex">\(P_j\)</span> 释放资源，则有一条 <span class="arithmatex">\(P_i \Rightarrow P_j\)</span> 的有向边。</li>
</ul>
<p>Periodically invoke an algorithm that searches for a cycle in the graph. If there is a cycle, there exists a deadlock.</p>
<p>检测方法：周期性地检查等待图中是否有环路（cycle）。</p>
<ul>
<li>有环路 <span class="arithmatex">\(\Rightarrow\)</span> 存在死锁。</li>
<li>无环路 <span class="arithmatex">\(\Rightarrow\)</span> 无死锁。</li>
</ul>
<p>An algorithm to detect a cycle in a graph requires an order of <span class="arithmatex">\(n^2\)</span> operations, where n is the number of vertices in the graph.</p>
<p>复杂度：检测环路的算法复杂度为 <span class="arithmatex">\(O(n^2)\)</span> ， n 是进程数。</p>
<hr>
<h4 id="resource-allocation-graph-and-wait-for-graph">Resource-Allocation Graph and Wait-for Graph<a class="headerlink" href="#resource-allocation-graph-and-wait-for-graph" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-16.png" data-desc-position="bottom"><img alt="img" src="../assets/7-16.png"></a></p>
<p>(a) Resource-Allocation Graph </p>
<p>(b) Corresponding wait-for graph</p>
<hr>
<h3 id="several-instances-of-a-resource-type">Several Instances of a Resource Type<a class="headerlink" href="#several-instances-of-a-resource-type" title="Permanent link">¶</a></h3>
<p>Available: A vector of length m indicates the number of available resources of each type.</p>
<p>Available：长度为 m 的向量，表示每种资源当前可用实例数。</p>
<p>Allocation: An <span class="arithmatex">\(n \times m\)</span> matrix defines the number of resources of each type currently allocated to each process.</p>
<p>Allocation：n 行 m 列的矩阵，表示每个进程当前已分配的每种资源实例数。</p>
<p>Request: An <span class="arithmatex">\(n \times m\)</span> matrix indicates the current request of each process. If Request [<span class="arithmatex">\(i_j\)</span>] = k, then process <span class="arithmatex">\(P_i\)</span> is requesting k more instances of resource type. <span class="arithmatex">\(R_j\)</span>.</p>
<p>Request：n 行 m 列的矩阵，表示每个进程当前请求的每种资源实例数。</p>
<hr>
<h3 id="detection-algorithm">Detection Algorithm<a class="headerlink" href="#detection-algorithm" title="Permanent link">¶</a></h3>
<ol>
<li>Let Work and Finish be vectors of length m and n, respectively Initialize:</li>
</ol>
<p>初始化：</p>
<ul>
<li>Work = Available</li>
<li>For i = 1,2, …, n, if <span class="arithmatex">\(Allocation_i \neq\)</span> 0, then Finish[i] = false; otherwise, Finish[i] = true.</li>
</ul>
<p>对每个进程 i，如果 <span class="arithmatex">\(Allocation_i \neq 0\)</span> ，则 Finish[i]=false；否则 Finish[i]=true。</p>
<ol start="2">
<li>Find an index i such that both:</li>
</ol>
<ul>
<li>Finish[i] = false</li>
<li><span class="arithmatex">\(Request_i \leq\)</span> Work</li>
</ul>
<p>找到一个 i，使得 Finish[i] = false 且 <span class="arithmatex">\(Request_i \leq\)</span> Work。</p>
<p>If no such i exists, go to step 4.</p>
<p>如果找不到，跳到步骤4。</p>
<ol start="3">
<li></li>
</ol>
<ul>
<li>Work = Work + <span class="arithmatex">\(Allocation_i\)</span>; </li>
<li>Finish[i] = true; </li>
<li>go to step 2.</li>
</ul>
<p>模拟进程 i 运行完释放资源，更新 Work 和 Finish，然后回到步骤2。</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>这里 Finish[i] = true 并不意味着进程结束了，因为这个进程后续可能还会继续运行并请求资源。</p>
</div>
<ol start="4">
<li>If Finish[i] == false, for some i, 1 <span class="arithmatex">\(\leq i \leq n\)</span>, then the system is in deadlock state. Moreover, if Finish[i] == false, then <span class="arithmatex">\(P_i\)</span> is deadlocked.</li>
</ol>
<p>如果存在某个 i 使得 Finish[i] == false，则系统处于死锁状态，进程 <span class="arithmatex">\(P_i\)</span> 也处于死锁状态。</p>
<p>Algorithm requires an order of O(<span class="arithmatex">\(m \times n^2\)</span>) operations to detect whether the system is in deadlocked state.</p>
<p>复杂度：检测死锁的算法复杂度为 <span class="arithmatex">\(O(m \times n^2)\)</span> ， m 是资源类型数， n 是进程数。</p>
<hr>
<h3 id="example-of-detection-algorithm">Example of Detection Algorithm<a class="headerlink" href="#example-of-detection-algorithm" title="Permanent link">¶</a></h3>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-17.png" data-desc-position="bottom"><img alt="img" src="../assets/7-17.png"></a></p>
<p>系统安全，无死锁，存在安全序列。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-18.png" data-desc-position="bottom"><img alt="img" src="../assets/7-18.png"></a></p>
<p><span class="arithmatex">\(P_2\)</span> 请求一个额外的 C 型资源后，系统进入死锁状态。<span class="arithmatex">\(P_1\)</span> , <span class="arithmatex">\(P_2\)</span> , <span class="arithmatex">\(P_3\)</span> , <span class="arithmatex">\(P_4\)</span> 均无法完成。</p>
<hr>
<h3 id="detection-algorithm-usage">Detection-Algorithm Usage<a class="headerlink" href="#detection-algorithm-usage" title="Permanent link">¶</a></h3>
<p>When, and how often, to invoke depends on:</p>
<p>何时、多久检测一次死锁？</p>
<ul>
<li>How often a deadlock is likely to occur? 死锁发生的可能性有多大？</li>
<li>How many processes will need to be rolled back? one for each disjoint cycle 一旦发生死锁，需要回滚多少进程？（每个独立环路都要回滚一个进程）</li>
</ul>
<p>If detection algorithm is invoked arbitrarily, there may be many cycles in the resource graph and so we would not be able to tell which of the many deadlocked processes “caused” the deadlock.</p>
<p>如果随意调用检测算法，可能会有多个环路（多个死锁组），这时很难判断到底是哪些进程“引起”了死锁。</p>
<hr>
<h2 id="recovery-from-deadlock">Recovery from Deadlock<a class="headerlink" href="#recovery-from-deadlock" title="Permanent link">¶</a></h2>
<h3 id="recovery-from-deadlock-process-termination">Recovery from Deadlock: Process Termination<a class="headerlink" href="#recovery-from-deadlock-process-termination" title="Permanent link">¶</a></h3>
<p>Abort <strong>all</strong> deadlocked processes.</p>
<p>终止所有死锁进程：简单粗暴，代价大，所有相关进程的工作都丢失。</p>
<p>Abort <strong>one</strong> process at a time until the deadlock cycle is eliminated.</p>
<p>逐个终止进程，直到死锁消除：每次终止一个进程，检测死锁是否解除，直到系统恢复正常。</p>
<p>In which order should we choose to abort?</p>
<p>选择终止哪个进程的考虑因素：</p>
<ul>
<li>Priority of the process. 进程优先级</li>
<li>How long process has computed, and how much longer to completion. 进程已运行时间和剩余时间</li>
<li>Resources the process has used. 进程已使用的资源量</li>
<li>Resources process needs to complete.进程还需使用的资源量</li>
<li>How many processes will need to be terminated. 需要终止的进程数量</li>
<li>Is process interactive or batch? 进程类型（交互式/批处理）</li>
</ul>
<hr>
<h3 id="recovery-from-deadlock-resource-preemption">Recovery from Deadlock: Resource Preemption<a class="headerlink" href="#recovery-from-deadlock-resource-preemption" title="Permanent link">¶</a></h3>
<p>Selecting a victim – minimize cost.</p>
<p>选择“受害者”进程，强制回收其资源，分配给其他进程，解除死锁。最小化代价。</p>
<p>Rollback – return to some safe state, restart process for that state.</p>
<p>回滚（Rollback）：将被抢占的进程回退到某个安全状态，重新运行。</p>
<p>Starvation – same process may always be picked as victim, include number of rollback in cost factor.</p>
<p>防止饥饿：同一个进程不能总是被选为受害者，通常会统计回滚次数，避免某进程长期得不到资源。</p>
<hr>
<details class="example" open="open">
<summary>question</summary>
<p>下面是并发进程的程序代码，正确的是()。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-8.png" data-desc-position="bottom"><img alt="img" src="../assets/7-8.png"></a></p>
<p>A.进程不会死锁，也不会“饥饿”</p>
<p>B.进程不会死锁，但是会“饥饿”</p>
<p>C.进程会死锁，但是不会“饥饿”</p>
<p>D.进程会死锁，也会“饥饿”</p>
</details>
<details class="note">
<summary>answer</summary>
<p>B</p>
<p>遇到这种问题时千万不要慌张，下面我们来慢慢分析，给读者一个清晰的解题过程:仔细考察程序代码，可以看出这是一个扩展的单行线问题。也就是说，某单行线只允许单方向的车辆通过，在单行线的入口设置信号量 y，在告示牌上显示某一时刻各方向来车的数量 c1 和c2，要修改告示牌上的车辆数量必须互斥进行，为此设置信号量 x1 和 x2。若某方向的车辆需要通过时，则首先要将该方向来车数量 c1或 c2增加 1，并查看自己是否是第一个进入单行线的车辆，若是，则获取单行线的信号量 y，并进入单行线。通过此路段以后出单行线时，将该方向的车辆数 c1 或 c2 减 1(当然是利用 x1 或x2 来互斥修改)，并査看自己是否是最后一辆车，若是,则释放单行线的互斥量 y，否则保留信号量 y，让后继车辆继续通过。双方的操作如出一辙。考虑出现一个极端情况，即当某方向的车辆首先占据单行线并后来者络绎不绝时，另一个方向的车辆就再没有机会通过该单行线了。而这种现象是由于算法本身的缺陷造成的，不属于因为特殊序列造成的饥饿，所以它是真正的饥饿现象。因为有信号量的控制，所以死锁的可能性没有了(双方同时进入单行线，在中间相遇，造成双方均无法通过的情景)。</p>
<p>① 假设 <span class="arithmatex">\(P_1\)</span> 进程稍快， <span class="arithmatex">\(P_2\)</span> 进程稍慢，同时运行;</p>
<p>② <span class="arithmatex">\(P_1\)</span> 进程首先进入 if 条件语句，因此获得了 y 的互斥访问权， <span class="arithmatex">\(P_2\)</span> 被阻塞;</p>
<p>③在第一个 <span class="arithmatex">\(P_1\)</span> 进程未释放 y 之前，又有另一个 <span class="arithmatex">\(P_1\)</span> 进入，c1 的值变成 2,当第一个 <span class="arithmatex">\(P_1\)</span> 离开时， <span class="arithmatex">\(P_2\)</span> 仍然被阻塞，这种情形不断发生;</p>
<p>④在这种情况下会发生什么事? <span class="arithmatex">\(P_1\)</span> 顺利执行， <span class="arithmatex">\(P_2\)</span> 很郁闷，长期被阻塞。</p>
<p>综上所述，不会发生死锁，但会出现饥饿现象。因此选 B。</p>
</details>
<details class="example" open="open">
<summary>question</summary>
<p>有两个并发进程，对于如下这段程序的运行，正确的说法是()。</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-9.png" data-desc-position="bottom"><img alt="img" src="../assets/7-9.png"></a></p>
<p>A.程序能正确运行，结果唯一</p>
<p>B.程序不能正确运行，可能有两种结果</p>
<p>C.程序不能正确运行，结果不确定</p>
<p>D.程序不能正确运行，可能死锁</p>
</details>
<details class="note">
<summary>answer</summary>
<p>C</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../assets/7-10.png" data-desc-position="bottom"><img alt="img" src="../assets/7-10.png"></a></p>
</details>
<hr>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年12月22日 13:23:23 CST">2025年12月22日 13:23:23</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2025年12月22日 13:23:23 CST">2025年12月22日 13:23:23</span>
  </span>

    
    
    
  </aside>


  




  <h2 id="__comments">评论</h2>
  <script src="https://giscus.app/client.js" data-repo="Melody12020831/Notebook" data-repo-id="R_kgDONR_9AA" data-category="Announcements" data-category-id="DIC_kwDONR_9AM4CkboN" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin="anonymous" async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2024 <a href="https://github.com/Melody12020831" target="_blank" rel="noopener">Melody</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Melody12020831/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.copy", "content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "navigation.path", "toc.follow", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../../css/javascripts/tablesort.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>