---
statistics: True
comments: true
---

# Chapter 3 | Context-free Language and Pushdown Automata

## Context-Free Grammars

**Definition**: Context-Free Grammar, CFG

A CFG is a 4-tuple $G=(V,\Sigma,R,S)$, where:

- $V$ is an alphabet.
- $\Sigma\subseteq V$ is a set of terminal symbols.
- $S\in V-\Sigma$ is the start symbol.
- $R$ is a finite set of rules, which is a subset of $(V-\Sigma)\times V^{*}$.

**Remarks**:

$(V - \Sigma) \times V^*$ is a relation and can be written as $(V - \Sigma, V^*)$ or $V - \Sigma \rightarrow V^*$

- $V - \Sigma$: ä»æ€»å­—æ¯è¡¨ä¸­æ’é™¤ç»ˆç»“ç¬¦ï¼Œå‰©ä¸‹çš„å°±æ˜¯ éç»ˆç»“ç¬¦ (non-terminal symbols) çš„é›†åˆã€‚
- $V^*$: ç”± $V$ ä¸­æ‰€æœ‰ç¬¦å·ç»„æˆçš„æ‰€æœ‰å¯èƒ½å­—ç¬¦ä¸²çš„é›†åˆï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦ä¸² $\epsilon$ï¼‰ã€‚

ä¾‹å¦‚ï¼Œè§„åˆ™ $S \rightarrow aSb$ åœ¨æ•°å­¦ä¸Šå°±æ˜¯ä¸€ä¸ªæœ‰åºå¯¹ $(S, aSb)$ï¼Œè¿™ä¸ªæœ‰åºå¯¹æ˜¯é›†åˆ $(V - \Sigma) \times V^*$ çš„ä¸€ä¸ªæˆå‘˜ã€‚

**Generalized Grammar**: 

$R$ is the set of rules, a finite subset of $V^+ \times V^*$

åœ¨å¹¿ä¹‰æ–‡æ³• (Generalized Grammar) ä¸­ï¼Œè§„åˆ™é›† R æ˜¯ $V^+ \times V^*$ çš„ä¸€ä¸ªæœ‰é™å­é›†ã€‚

**ä¸æ­£è§„è¡¨è¾¾å¼çš„å…³ç³»**

ä¸¤è€…éƒ½æ˜¯æ­£åˆ™è¯­è¨€çš„ç”Ÿæˆè®¾å¤‡ (generation device)ã€‚å¦‚æœä¸€ä¸ªè¯­è¨€Læ˜¯æ­£åˆ™è¯­è¨€ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ $\alpha$ ä½¿å¾— $L=L(\alpha)$ã€‚å¦‚æœä¸€ä¸ªè¯­è¨€Læ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ (Context-Free Language, CFL)ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨ä¸€ä¸ªCFG G ä½¿å¾— $L=L(G)$ã€‚

---

### éç»ˆç»“ç¬¦ (Nonterminals)

The member of $V - \Sigma$ are called nonterminals, and for any $A \in V - \Sigma$ and $u \in V^*$, we have $A \rightarrow_G u \Leftrightarrow (A, u) \in R$.

éç»ˆç»“ç¬¦æ˜¯æ–‡æ³•ä¸­çš„â€œå˜é‡â€æˆ–â€œå ä½ç¬¦â€ï¼Œå®ƒä»¬æ˜¯æ¨å¯¼è¿‡ç¨‹ä¸­çš„ä¸­é—´ç¬¦å·ï¼Œæœ€ç»ˆå¿…é¡»è¢«æ›¿æ¢æ‰ã€‚å®ƒä»¬æ˜¯é›†åˆ $V$ (æ€»å­—æ¯è¡¨) ä¸­æ’é™¤äº† $\Sigma$ (ç»ˆç»“ç¬¦) çš„é‚£éƒ¨åˆ†ã€‚

For any strings $u, v \in V^*$, we have

$u \Rightarrow_G v \Leftrightarrow \exists x,y \in V^*$ and $A \in V - \Sigma$, such that $u = xAy$, $v = xv'y$, and $A \rightarrow_G v'$

**è§£é‡Š**:

å•æ­¥æ¨å¯¼ ($\Rightarrow_G$): è¿™ä¸ªç¬¦å·è¡¨ç¤ºâ€œä¸€æ­¥æ¨å¯¼å‡ºâ€ã€‚å®ƒç²¾ç¡®åœ°å®šä¹‰äº†å¦‚ä½•ä»ä¸€ä¸ªå­—ç¬¦ä¸² u å¾—åˆ°å¦ä¸€ä¸ªå­—ç¬¦ä¸² vã€‚è¿™éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼š

1. å­—ç¬¦ä¸² u å¯ä»¥è¢«çœ‹ä½œä¸‰éƒ¨åˆ†çš„æ‹¼æ¥ï¼šx + A + yï¼Œå…¶ä¸­ A æ˜¯ä¸€ä¸ªéç»ˆç»“ç¬¦ã€‚
2. å­˜åœ¨ä¸€æ¡è§„åˆ™ $A \rightarrow v'$ã€‚
3. å°† u ä¸­çš„ A æ›¿æ¢ä¸º $v'$ï¼Œå°±å¾—åˆ°äº† vï¼Œå³ $v = xv'y$ã€‚

ä¾‹å­: å‡è®¾æœ‰è§„åˆ™ $S \rightarrow aSb$ï¼Œå¯¹äºå­—ç¬¦ä¸² $u = aSba$ï¼Œæˆ‘ä»¬å¯ä»¥ä»¤ $x=a$, $A=S$, $y=ba$ã€‚åº”ç”¨è§„åˆ™ $S \rightarrow aSb$ï¼Œæˆ‘ä»¬å¾—åˆ° $v' = aSb$ã€‚é‚£ä¹ˆ $v = x v' y = a (aSb) ba = a^{2}Sb^{2}a$ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡º $aSba \Rightarrow_G a^{2}Sb^{2}a$ã€‚

$\Rightarrow_G^*$ is the reflexive, transitive closure of $\Rightarrow_G$

**è§£é‡Š**:

- å¤šæ­¥æ¨å¯¼ ($\Rightarrow_G^*$): è¿™ä¸ªç¬¦å·è¡¨ç¤ºâ€œé›¶æ­¥æˆ–å¤šæ­¥æ¨å¯¼å‡ºâ€ã€‚å®ƒæ˜¯å•æ­¥æ¨å¯¼å…³ç³»çš„è‡ªåä¼ é€’é—­åŒ… (reflexive, transitive closure)ã€‚
- è‡ªå (Reflexive): ä»»ä½•å­—ç¬¦ä¸²éƒ½å¯ä»¥é›¶æ­¥æ¨å¯¼å‡ºå®ƒè‡ªå·±ï¼Œå³ $u \Rightarrow_G^* u$ã€‚
- ä¼ é€’ (Transitive): å¦‚æœ $u \Rightarrow_G^* v$ ä¸” $v \Rightarrow_G^* w$ï¼Œé‚£ä¹ˆ $u \Rightarrow_G^* w$ã€‚

ç®€å•æ¥è¯´ï¼Œ$u \Rightarrow_G^* w$ æ„å‘³ç€ä» $u$ å¼€å§‹ï¼Œç»è¿‡ä¸€ç³»åˆ—ï¼ˆå¯èƒ½ä¸ºé›¶æ¬¡ï¼‰çš„å•æ­¥æ¨å¯¼ï¼Œæœ€ç»ˆå¯ä»¥å¾—åˆ° $w$ã€‚

A derivation in G of $w_n$ from $w_0$: $w_0 \Rightarrow_G w_1 \Rightarrow_G ... \Rightarrow_G w_n$.

- $n$ is the length of the derivation.

ä¸€ä¸ªå®Œæ•´çš„æ¨å¯¼è¿‡ç¨‹ (derivation) å°±æ˜¯ä¸€ä¸ªå•æ­¥æ¨å¯¼çš„åºåˆ—ã€‚å®ƒå±•ç¤ºäº†å¦‚ä½•ä»ä¸€ä¸ªåˆå§‹å­—ç¬¦ä¸² $w_0$ ä¸€æ­¥æ­¥åœ°å˜æˆæœ€ç»ˆå­—ç¬¦ä¸² $w_n$ã€‚è¿™ä¸ªè¿‡ç¨‹çš„é•¿åº¦ (length) æŒ‡çš„æ˜¯æ‰€ä½¿ç”¨çš„å•æ­¥æ¨å¯¼çš„æ¬¡æ•°ï¼Œå³ç®­å¤´çš„æ•°é‡ $n$ã€‚

The language generated by $G$: $L(G) = \{w \in \Sigma^* : S \Rightarrow_G^* w \}$.

è¿™æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æœ€ç»ˆçš„ç›®æ ‡ï¼šå®šä¹‰ä¸€ä¸ªè¯­è¨€ã€‚ä¸€ä¸ªæ–‡æ³• $G$ æ‰€ç”Ÿæˆçš„è¯­è¨€ $L(G)$ æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„é›†åˆã€‚è¿™ä¸ªé›†åˆé‡Œçš„æ¯ä¸ªå­—ç¬¦ä¸² $w$ å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š

1. $w \in \Sigma^*$ : $w$ å¿…é¡»å®Œå…¨ç”±ç»ˆç»“ç¬¦æ„æˆã€‚å®ƒä¸èƒ½åŒ…å«ä»»ä½•éç»ˆç»“ç¬¦ã€‚
2. $S \Rightarrow_G^* w$ : $w$ å¿…é¡»èƒ½ä»æ–‡æ³•çš„èµ·å§‹ç¬¦å· (Start Symbol) $S$ ç»è¿‡é›¶æ­¥æˆ–å¤šæ­¥æ¨å¯¼å¾—åˆ°ã€‚

æ¢å¥è¯è¯´ï¼Œè¯­è¨€ $L(G)$ å°±æ˜¯æˆ‘ä»¬ä»èµ·å§‹ç¬¦å· $S$ å¼€å§‹ï¼Œé€šè¿‡åå¤åº”ç”¨è§„åˆ™ï¼Œæ‰€æœ‰å¯èƒ½ç”Ÿæˆçš„ç»ˆç»“ç¬¦å­—ç¬¦ä¸²çš„æ€»å’Œã€‚

!!! info
    The set of non-terminals is always nonempty.

    The set of terminals is always nonempty. $\rightarrow$ False

    For $L(G) = \{w \in V^* : S \Rightarrow_G^* w\}$, G is CFG $\Rightarrow$ False å› ä¸ºæ–‡æ³•ç”Ÿæˆçš„è¯­è¨€æˆå‘˜å¿…é¡»æ˜¯å®Œå…¨ç”±ç»ˆç»“ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œå³ $w$ å¿…é¡»å±äº $\Sigma^*$ã€‚è€Œ $V^*$ ä¸­åŒ…å«äº†éç»ˆç»“ç¬¦ï¼Œè¿™äº›å¸¦æœ‰éç»ˆç»“ç¬¦çš„å­—ç¬¦ä¸²åªæ˜¯æ¨å¯¼è¿‡ç¨‹ä¸­çš„ä¸­é—´å½¢å¼ï¼Œè€Œä¸æ˜¯è¯­è¨€çš„æœ€ç»ˆæˆå‘˜ã€‚

    Language L is CFL iff $L=L(G)$ $\rightarrow$ False å› ä¸ºç¼ºå°‘å¯¹ G ç±»å‹çš„é™å®šã€‚å¿…é¡»æ˜ç¡®æŒ‡å‡º G æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³• (CFG)ï¼Œæ‰èƒ½ç¡®ä¿ L æ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ (CFL)ã€‚

    Language L if CFL iff it is accepted by a CFG. $\rightarrow$ False è¿™ä¸ªé™ˆè¿°æ··æ·†äº†ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šç”Ÿæˆ (generate) å’Œ æ¥å— (accept)ã€‚å› æ­¤ï¼Œæ­£ç¡®çš„è¯´æ³•æ˜¯ï¼šä¸€ä¸ªè¯­è¨€æ˜¯CFLï¼Œå½“ä¸”ä»…å½“å®ƒèƒ½è¢«ä¸€ä¸ªCFG ç”Ÿæˆ

---

#### show the CFG ğº and Language ğ¿ is **equal**

Consider $L = \{w \in \{a, b\}^* : w \text{ equal number of ğ‘â€²s and ğ‘â€²s}\}$ the CFG ğº is

- ğ‘† = ğ‘†, Î£ = {ğ‘, ğ‘}, ğ‘‰ = {ğ‘, ğ‘, ğ‘†}
- ğ‘… = ğ‘† â†’ {ğ‘†ğ‘†|ğ‘ğ‘†ğ‘|ğ‘ğ‘†ğ‘|e}

##### è¯æ˜ $w \in L(G) \Rightarrow w \in L$

Proof by induction on **length of derivation**

1. **åŸºç¡€æƒ…å†µ (Base Case):** æ¨å¯¼é•¿åº¦ä¸º1ã€‚

* å”¯ä¸€çš„å¯èƒ½æ˜¯æ¨å¯¼ $S \Rightarrow_G e$ã€‚
* ç”Ÿæˆçš„å­—ç¬¦ä¸²æ˜¯ $w=e$ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œå…¶ä¸­æœ‰0ä¸ª`a`å’Œ0ä¸ª`b`ï¼Œæ•°é‡ç›¸ç­‰ã€‚ç»“è®ºæˆç«‹ã€‚

2. **å½’çº³å‡è®¾ (Inductive Hypothesis):** å‡è®¾æ‰€æœ‰é•¿åº¦å°äºç­‰äº $n$ çš„æ¨å¯¼æ‰€ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œå…¶`a`å’Œ`b`çš„æ•°é‡éƒ½ç›¸ç­‰ã€‚

3. **å½’çº³æ­¥éª¤ (Inductive Step):** è€ƒè™‘ä¸€ä¸ªé•¿åº¦ä¸º $n+1$ çš„æ¨å¯¼ã€‚æˆ‘ä»¬åˆ†æå®ƒçš„ç¬¬ä¸€æ­¥ï¼š

* **æƒ…å†µ 1: $S \Rightarrow_G SS \Rightarrow_G^* xy = w$**ã€‚

$S \Rightarrow_G^* x$ å’Œ $S \Rightarrow_G^* y$ è¿™ä¸¤ä¸ªå­æ¨å¯¼çš„é•¿åº¦éƒ½å°äº $n+1$ã€‚æ ¹æ®å½’çº³å‡è®¾ï¼Œ$x$ å’Œ $y$ ä¸­`a`,`b`æ•°é‡å„è‡ªç›¸ç­‰ã€‚å› æ­¤ï¼Œå®ƒä»¬çš„æ‹¼æ¥ $w=xy$ ä¸­`a`,`b`çš„æ€»æ•°ä¹Ÿå¿…ç„¶ç›¸ç­‰ã€‚

* **æƒ…å†µ 2: $S \Rightarrow_G aSb \Rightarrow_G^* axb = w$**

$S \Rightarrow_G^* x$ è¿™ä¸ªå­æ¨å¯¼çš„é•¿åº¦å°äº $n+1$ã€‚æ ¹æ®å½’çº³å‡è®¾ï¼Œ$x$ ä¸­`a`,`b`æ•°é‡ç›¸ç­‰ã€‚å­—ç¬¦ä¸² $w$ æ˜¯åœ¨ $x$ çš„åŸºç¡€ä¸Šï¼Œåœ¨å¤–é¢åŒ…è£¹äº†ä¸€å¯¹`a`å’Œ`b`ã€‚å› æ­¤ï¼Œ$w$ ä¸­`a`,`b`çš„æ•°é‡ä¾ç„¶ç›¸ç­‰ã€‚

* **æƒ…å†µ 3: $S \Rightarrow_G bSa \Rightarrow_G^* bxa = w$**

ä¸æƒ…å†µ2åŒç†ï¼Œç»“è®ºæˆç«‹ã€‚

**ç»“è®ºï¼š** è¯æ˜å®Œæˆã€‚ä»»ä½•ç”±Gç”Ÿæˆçš„å­—ç¬¦ä¸²éƒ½å±äºLã€‚

---

##### è¯æ˜ $w \in L \Rightarrow w \in L(G)$

Proof by induction on **length of string**

1. **åŸºç¡€æƒ…å†µ (Base Case):** é•¿åº¦ä¸º0ï¼Œ$w=e$ã€‚

å› ä¸ºæ–‡æ³•ä¸­æœ‰è§„åˆ™ $S \rightarrow_G e$ï¼Œæ‰€ä»¥ $S \Rightarrow_G^* e$ã€‚ç»“è®ºæˆç«‹ã€‚

2.  **å½’çº³å‡è®¾ (Inductive Hypothesis):** å‡è®¾å¯¹äºLä¸­æ‰€æœ‰é•¿åº¦å°äºç­‰äº $k$ çš„å­—ç¬¦ä¸² $w$ï¼Œéƒ½æœ‰ $S \Rightarrow_G^* w$ã€‚

3.  **å½’çº³æ­¥éª¤ (Inductive Step):** è€ƒè™‘Lä¸­ä¸€ä¸ªé•¿åº¦ä¸º $k+2$ çš„å­—ç¬¦ä¸² $x$ã€‚ï¼ˆæ³¨æ„ï¼šé•¿åº¦å¿…é¡»æ˜¯å¶æ•°ï¼‰ã€‚æˆ‘ä»¬æ ¹æ® $x$ çš„é¦–å°¾å­—ç¬¦åˆ†ä¸ºå››ç§æƒ…å†µï¼š

* **æƒ…å†µ 1: $x = awb$**

ç”±äº $x$ ä¸­`a`,`b`æ€»æ•°ç›¸ç­‰ï¼Œå»æ‰é¦–å°¾çš„`a`å’Œ`b`åï¼Œä¸­é—´çš„å­—ç¬¦ä¸² $w$ çš„`a`,`b`æ•°é‡ä¹Ÿå¿…å®šç›¸ç­‰ã€‚$|w| = k$ï¼Œæ»¡è¶³å½’çº³å‡è®¾çš„æ¡ä»¶ã€‚å› æ­¤å­˜åœ¨æ¨å¯¼ $S \Rightarrow_G^* w$ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„é€ å‡º $x$ çš„æ¨å¯¼ï¼š$S \Rightarrow_G aSb \Rightarrow_G^* awb = x$ã€‚

* **æƒ…å†µ 2: $x = bwa$**

ä¸æƒ…å†µ1ç±»ä¼¼ï¼Œæ¨å¯¼ä¸º $S \Rightarrow_G bSa \Rightarrow_G^* bwa = x$ã€‚

* **æƒ…å†µ 3: $x = awa$** (ä»¥åŠæƒ…å†µ4: $x=bwb$)

è¿™ç§æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œå®ƒæ­ç¤ºäº†ä¸ºä»€ä¹ˆè§„åˆ™ $S \rightarrow_G SS$ æ˜¯**å¿…éœ€çš„**ã€‚å¦‚æœ $x=awa$ï¼Œé‚£ä¹ˆ $w$ ä¸­çš„`b`ä¼šæ¯”`a`å¤šä¸¤ä¸ªã€‚

**å…³é”®æ€æƒ³**æ˜¯ï¼šå¯ä»¥è¯æ˜ $w$ ä¸€å®šèƒ½è¢«æ‹†åˆ†æˆä¸¤ä¸ªå­ä¸² $u$ å’Œ $v$ï¼ˆå³ $w=uv$ï¼‰ï¼Œä½¿å¾— $au$ å’Œ $va$ è¿™ä¸¤ä¸ªæ›´çŸ­çš„å­—ç¬¦ä¸²éƒ½å±äºè¯­è¨€Lï¼ˆå³å®ƒä»¬å†…éƒ¨`a`,`b`æ•°é‡ç›¸ç­‰ï¼‰ã€‚

å› ä¸º $|au| < |x|$ ä¸” $|va| < |x|$ï¼Œå®ƒä»¬éƒ½æ»¡è¶³å½’çº³å‡è®¾ã€‚æ‰€ä»¥å­˜åœ¨æ¨å¯¼ $S \Rightarrow_G^* au$ å’Œ $S \Rightarrow_G^* va$ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ å‡º $x$ çš„æ¨å¯¼ï¼š$S \Rightarrow_G SS \Rightarrow_G^* auva = x$ ã€‚

**ä¾‹å­:** å­—ç¬¦ä¸² `abba`ã€‚å®ƒä¸ç¬¦åˆæƒ…å†µ1æˆ–2ã€‚å®ƒé¦–å°¾éƒ½æ˜¯`a`ã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶æ‹†åˆ†ä¸º `au = ab` å’Œ `va = ba`ã€‚æ˜¾ç„¶ `ab` å’Œ `ba` éƒ½å±äºLï¼Œä¸”å¯ä»¥ç”±Gç”Ÿæˆ ($S \Rightarrow_G aSb \Rightarrow_G ab$ å’Œ $S \Rightarrow_G bSa \Rightarrow_G ba$)ã€‚å› æ­¤ï¼Œ`abba` çš„æ¨å¯¼å°±æ˜¯ $S \Rightarrow_G SS \Rightarrow_G^* (ab)(ba)$ã€‚å¦‚æœæ²¡æœ‰ $S \rightarrow_G SS$ è§„åˆ™ï¼Œå°±æ— æ³•ç”Ÿæˆè¿™ç±»å­—ç¬¦ä¸²ã€‚

**ç»“è®ºï¼š** è¯æ˜å®Œæˆã€‚Lä¸­çš„ä»»ä½•å­—ç¬¦ä¸²éƒ½å¯ä»¥ç”±Gç”Ÿæˆã€‚

---

#### å…¶ä»–ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ç¤ºä¾‹

1.  **$L_1 = \{ww^R \mid w \in \{a,b\}^*\}$ (å¶æ•°é•¿åº¦çš„å›æ–‡ä¸²)**

* $w^R$ è¡¨ç¤ºå­—ç¬¦ä¸² $w$ çš„åè½¬ã€‚
* **æ–‡æ³•:** $S \rightarrow aSa \mid bSb \mid e$
* **å·¥ä½œåŸç†:** è¿™ä¸ªæ–‡æ³•ä»â€œä¸­å¿ƒâ€å‘â€œä¸¤ä¾§â€æ„å»ºå­—ç¬¦ä¸²ã€‚è§„åˆ™ $aSa$ å’Œ $bSb$ ä¿è¯äº†æ¯æ¬¡éƒ½åœ¨ä¸¤ç«¯åŠ ä¸Šä¸€å¯¹åŒ¹é…çš„å­—ç¬¦ã€‚æœ€åä½¿ç”¨ $S \rightarrow e$ ç»“æŸï¼Œç¡®ä¿äº†æ€»é•¿åº¦ä¸ºå¶æ•°ã€‚

2.  **$L_2 = \{w \in \{a,b\}^* \mid w = w^R\}$ (æ‰€æœ‰å›æ–‡ä¸²ï¼ŒåŒ…æ‹¬å¥‡æ•°å’Œå¶æ•°é•¿åº¦)**

* ä¾‹å¦‚ `aba`, `a`, `abba`ã€‚
* **æ–‡æ³•:** $S \rightarrow aSa \mid bSb \mid a \mid b \mid e$
* **å·¥ä½œåŸç†:** å®ƒåœ¨ $L_1$ çš„æ–‡æ³•åŸºç¡€ä¸Šå¢åŠ äº†ä¸¤ä¸ªè§„åˆ™ï¼š$S \rightarrow a$ å’Œ $S \rightarrow b$ã€‚è¿™ä¸¤ä¸ªè§„åˆ™æ˜¯å¥‡æ•°é•¿åº¦å›æ–‡ä¸²çš„ç»ˆæ­¢æ¡ä»¶ã€‚å½“æ¨å¯¼åˆ°æœ€ä¸­å¿ƒçš„å•ä¸ªå­—ç¬¦æ—¶ï¼Œå°±ç”¨è¿™ä¸¤ä¸ªè§„åˆ™æ¥æ›¿æ¢ $S$ã€‚
* **ä¸¤ç§è¯­è¨€çš„å…³ç³»:** $L_2 = L_1 \cup xax^R \cup xbx^R$ã€‚

---

## Parse Tree

**Definition** : A derivation of a CFG $G=(S, V, \Sigma, R)$, can be represented with a parse tree.

ä¸€ä¸ªä¸Šä¸‹æ–‡æ— å…³æ–‡æ³• G çš„æ¨å¯¼è¿‡ç¨‹ï¼Œå¯ä»¥ç”¨ä¸€æ£µåˆ†ææ ‘æ¥è¡¨ç¤ºã€‚åˆ†ææ ‘æ˜¯æ¨å¯¼è¿‡ç¨‹çš„å›¾å½¢åŒ–è¡¨ç¤ºã€‚å®ƒå±•ç¤ºäº†å¦‚ä½•ä»èµ·å§‹ç¬¦å¼€å§‹ï¼Œé€šè¿‡åº”ç”¨ä¸€ç³»åˆ—è§„åˆ™ï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªç”±ç»ˆç»“ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ã€‚å®ƒå…³æ³¨çš„æ˜¯æœ€ç»ˆçš„ç»“æ„ï¼Œè€Œä¸æ˜¯æ¨å¯¼çš„é¡ºåºã€‚

**åˆ†ææ ‘çš„æ„æˆ**

- Leaves: terminal symbols (å¶å­èŠ‚ç‚¹æ˜¯ç»ˆç»“ç¬¦)æ ‘æœ€åº•å±‚çš„èŠ‚ç‚¹å¿…é¡»æ˜¯ç»ˆç»“ç¬¦ ($\in \Sigma$) æˆ–ç©ºä¸² ($\epsilon$)ã€‚
- Root: Start Symbol (æ ¹èŠ‚ç‚¹æ˜¯èµ·å§‹ç¬¦)æ ‘çš„æœ€é«˜ç‚¹å¿…é¡»æ˜¯æ–‡æ³•çš„èµ·å§‹ç¬¦ $S$ã€‚
- Node: element in V (å†…éƒ¨èŠ‚ç‚¹æ˜¯éç»ˆç»“ç¬¦)æ‰€æœ‰æ—¢ä¸æ˜¯æ ¹èŠ‚ç‚¹ä¹Ÿä¸æ˜¯å¶å­èŠ‚ç‚¹çš„å†…éƒ¨èŠ‚ç‚¹ï¼Œéƒ½å¿…é¡»æ˜¯éç»ˆç»“ç¬¦ ($\in V-\Sigma$)ã€‚

**Remark**

- The leaves constitute the yield of the tree.

å°†æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹ä»å·¦åˆ°å³ä¾æ¬¡è¿æ¥èµ·æ¥ï¼Œå¾—åˆ°çš„å­—ç¬¦ä¸²å°±æ˜¯è¿™æ£µåˆ†ææ ‘æ‰€ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²è¢«ç§°ä¸ºæ ‘çš„äº§å‡º (yield)ã€‚

- Terminal symbols can occur only at the leaves (ç»ˆç»“ç¬¦åªèƒ½å‡ºç°åœ¨å¶å­èŠ‚ç‚¹).

è¿™æ˜¯åˆ†ææ ‘çš„ä¸¥æ ¼è§„åˆ™ã€‚ç»ˆç»“ç¬¦ä»£è¡¨æ¨å¯¼çš„ç»ˆç‚¹ï¼Œä¸èƒ½å†ç»§ç»­å±•å¼€ï¼Œæ‰€ä»¥å®ƒä»¬å¿…ç„¶åœ¨æ ‘çš„æœ«ç«¯ã€‚

- Variables can occur only at the internal nodes (å˜é‡/éç»ˆç»“ç¬¦åªèƒ½å‡ºç°åœ¨å†…éƒ¨èŠ‚ç‚¹).

â€œVariablesâ€ åœ¨è¿™é‡Œå°±æ˜¯æŒ‡éç»ˆç»“ç¬¦ (non-terminals)ã€‚å› ä¸ºå†…éƒ¨èŠ‚ç‚¹ä»£è¡¨äº†æ¨å¯¼è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªä¸­é—´æ­¥éª¤ï¼Œå®ƒè¿˜éœ€è¦è¢«è§„åˆ™æ›¿æ¢ï¼Œæ‰€ä»¥å®ƒå¿…é¡»æ˜¯éç»ˆç»“ç¬¦ã€‚

- The terminals concatenated from left to right give the string (ä»å·¦åˆ°å³è¿æ¥ç»ˆç»“ç¬¦å¾—åˆ°å­—ç¬¦ä¸²).

è¿™å†æ¬¡å¼ºè°ƒäº†å¦‚ä½•ä»åˆ†ææ ‘å¾—åˆ°å®ƒæ‰€ä»£è¡¨çš„å­—ç¬¦ä¸²ã€‚

??? note "ç¤ºä¾‹ï¼šç”Ÿæˆ $a^4b^4$ çš„åˆ†ææ ‘"
    ![img](./assets/3-1.png)

    å›¾ä¸­ä¸ºè¯­è¨€ $L = \{a^n b^n \mid n \ge 0\}$ (æ–‡æ³•è§„åˆ™ä¸º $S \rightarrow aSb \mid \epsilon$) ç”Ÿæˆå­—ç¬¦ä¸² $a^4b^4$ çš„åˆ†ææ ‘ã€‚

    æ ¹èŠ‚ç‚¹æ˜¯ Sã€‚

    æ¨å¯¼è¿‡ç¨‹çš„å¯è§†åŒ–:

    ç¬¬ä¸€æ¬¡åº”ç”¨ $S \rightarrow aSb$ï¼Œæ ¹èŠ‚ç‚¹ S ç”Ÿå‡ºä¸‰ä¸ªåˆ†æ”¯ï¼šaï¼ŒSï¼Œbã€‚

    å¯¹ä¸­é—´çš„ S å†æ¬¡åº”ç”¨ $S \rightarrow aSb$ï¼Œåˆç”Ÿå‡º a, S, bã€‚

    é‡å¤è¿™ä¸ªè¿‡ç¨‹4æ¬¡ã€‚

    æœ€åï¼Œå¯¹æœ€ä¸­é—´çš„ S åº”ç”¨ $S \rightarrow \epsilon$ï¼Œæ¨å¯¼ç»“æŸã€‚

    äº§å‡º (Yield): å°†æ‰€æœ‰å¶å­èŠ‚ç‚¹ä»å·¦åˆ°å³è¿æ¥èµ·æ¥ï¼Œå¾—åˆ° a a a a $\epsilon$ b b b bï¼Œå³ aâ´bâ´ã€‚

---