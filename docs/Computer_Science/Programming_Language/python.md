---
statistics: True
comments: true
---

# Python

!!! Abstract
    è¿™æ˜¯æˆ‘åœ¨å­¦ä¹  "CS50P Introduction to Programming with Python" æ—¶æ‰€åšçš„ç¬”è®° ([è¿™é‡ŒæŒ‡è·¯Bç«™é“¾æ¥ğŸ”—](https://www.bilibili.com/video/BV1z5411X7wX/?vd_source=5c63e6e26ff6071f4e69839b18529555)) ï¼Œéš¾å…ä¸å…¨ã€‚ç¬”è€…ä¹‹åæœ‰è®¡åˆ’ç»§ç»­è¿›ä¸€æ­¥å­¦ä¹ pythonï¼Œå› æ­¤ä»ä¼šæ›´æ–°ã€‚

## print and main
```python
print(*objects, sep=' ', end='\n', file=sys.stdout, flush=False)
```

- printå‡½æ•°ï¼šè¾“å‡ºå¤šä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰åˆ†éš”ç¬¦ã€ç»“æŸç¬¦ç­‰

```python
print(f"Hello, your name is {name}!")
```

- æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼šå°†å˜é‡æ’å…¥å­—ç¬¦ä¸²ä¸­ï¼Œä½¿ç”¨få¼€å¤´ï¼Œå¤§æ‹¬å·ä¸­æ’å…¥å˜é‡å

```python
if __name__ == "__main__":
```

- åˆ¤æ–­å½“å‰è„šæœ¬æ˜¯å¦ä¸ºä¸»ç¨‹åºæ‰§è¡Œ

---

## change string

```python
str.strip([chars])

#e.g.
name = name.strip()
```

- charsï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šè¦ç§»é™¤çš„å­—ç¬¦é›†ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ç§»é™¤ç©ºç™½å­—ç¬¦ã€‚

```python
name = name.capitalize()
```

- å°†å­—ç¬¦ä¸²çš„é¦–å­—æ¯å¤§å†™

```python
name = name.upper()
```

- å°†å­—ç¬¦ä¸²å…¨éƒ¨è½¬æ¢ä¸ºå¤§å†™

```python
name = name.lower()
```

- å°†å­—ç¬¦ä¸²å…¨éƒ¨è½¬æ¢ä¸ºå°å†™

```python
name = name.title()
```
- å°†å­—ç¬¦ä¸²çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™

```python
str.split(separator, maxsplit)

# e.g.
name = name.split('')
```

- æŒ‰æŒ‡å®šå­—ç¬¦æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨ã€‚

- separatorï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šåˆ†éš”ç¬¦ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œä»»ä½•ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼‰éƒ½ä¼šè¢«è§†ä¸ºåˆ†éš”ç¬¦ã€‚

- maxsplitï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šæœ€å¤§æ‹†åˆ†æ¬¡æ•°ï¼Œåˆ†å‰²åçš„å­å­—ç¬¦ä¸²æ•°é‡ä¸ä¼šè¶…è¿‡ maxsplitã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™åˆ†å‰²æ‰€æœ‰å¯èƒ½çš„åœ°æ–¹ã€‚

## print numbers

```python
print(f"{z:,}")
```

- æ ¼å¼åŒ–è¾“å‡ºæ•°å­—ï¼Œæ·»åŠ åƒä½åˆ†éš”ç¬¦ã€‚

- ä¾‹å¦‚ï¼Œå¦‚æœzçš„å€¼æ˜¯1234567ï¼Œé‚£ä¹ˆæ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²å°†æ˜¯"1,234,567"ã€‚

```python
print(f"{z:.2f}")
```

- æ ¼å¼åŒ–è¾“å‡ºæ•°å­—ï¼Œä¿ç•™ä¸¤ä½å°æ•°

```python
print(f"{z:,.2f}")
```

- æ ¼å¼åŒ–è¾“å‡ºæ•°å­—ï¼Œæ·»åŠ åƒä½åˆ†éš”ç¬¦å¹¶ä¿ç•™ä¸¤ä½å°æ•°

```python
round(number[, ndigits])
```

- å¯¹æ•°å­—è¿›è¡Œå››èˆäº”å…¥ã€‚

- numberï¼šéœ€è¦å››èˆäº”å…¥çš„æ•°å­—ã€‚

- ndigitsï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šå°æ•°ç‚¹åä¿ç•™çš„ä½æ•°ã€‚å¦‚æœä¸æä¾›è¿™ä¸ªå‚æ•°ï¼Œå‡½æ•°å°†è¿”å›æœ€æ¥è¿‘çš„æ•´æ•°ã€‚

---

## match

```python
match name:
    case "Alice":
        print("Hello, Alice!")
    case "Bob":
        print("Hello, Bob!")
    case _:
        print("Hello, stranger!")
```

- æœ‰ç‚¹ç±»ä¼¼ C é‡Œé¢çš„ `switch-case` è¯­å¥

---

## random

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import random`

```python
number = random.randint(1, 10)
```

- ç”Ÿæˆä¸€ä¸ª1åˆ°10ä¹‹é—´çš„éšæœºæ•´æ•°

```python
number = random.random()
```

- ç”Ÿæˆä¸€ä¸ª0åˆ°1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°

```python
number = random.uniform(1, 10)
```

- ç”Ÿæˆä¸€ä¸ª1åˆ°10ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°

```python
choice = random.choice(["apple", "banana", "cherry"])
```

- ä»åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ 

```python
random.shuffle(my_list)
```

- éšæœºæ‰“ä¹±åˆ—è¡¨ä¸­çš„å…ƒç´ 

---

## statistics

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import statistics`

```python
mean = statistics.mean(my_list)
```

- è®¡ç®—åˆ—è¡¨ä¸­å…ƒç´ çš„å‡å€¼

```python
median = statistics.median(my_list)
```

- è®¡ç®—åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸­ä½æ•°

```python
mode = statistics.mode(my_list)
```

- è®¡ç®—åˆ—è¡¨ä¸­å…ƒç´ çš„ä¼—æ•°

```python
std_dev = statistics.stdev(my_list)
```

- è®¡ç®—åˆ—è¡¨ä¸­å…ƒç´ çš„æ ‡å‡†å·®

---

## sys

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import sys`

- `sys`ï¼šç”¨äºä¸Pythonè§£é‡Šå™¨äº¤äº’ï¼Œæä¾›å‘½ä»¤è¡Œå‚æ•°å¤„ç†ã€ç¨‹åºé€€å‡ºç­‰åŠŸèƒ½ã€‚

```python
print(sys.argv)
```

- è¾“å‡ºå‘½ä»¤è¡Œå‚æ•°

```python
print(sys.argv[0])
```

- è¾“å‡ºç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼Œé€šå¸¸æ˜¯è„šæœ¬åç§°

```python
print(sys.argv[1:-1])
```

- è¾“å‡ºå‘½ä»¤è¡Œå‚æ•°ä¸­çš„ä¸­é—´éƒ¨åˆ†

```python
sys.exit("Exiting the program")
```

- é€€å‡ºç¨‹åºï¼Œå¹¶è¾“å‡ºæŒ‡å®šçš„æ¶ˆæ¯

---

## cowsay

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import cowsay`

```python
cowsay.cow("Hello, world!")
```

- ä½¿ç”¨cowsayæ‰“å°ä¸€ä¸ªç‰›è¯´çš„â€œHello, world!â€

```python
cowsay.trex("Hello, world!")
```

- ä½¿ç”¨cowsayæ‰“å°ä¸€ä¸ªæé¾™è¯´çš„â€œHello, world!â€

---

## requests and json

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import requests` å’Œ `import json`

```python
response = requests.get("https://www.google.com")
```

- requests.get æ–¹æ³•é€šè¿‡æ„é€ ä¸€ä¸ª HTTP GET è¯·æ±‚ï¼Œå‘æŒ‡å®šçš„ URL å‘é€è¯·æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ª Response å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«äº†æœåŠ¡å™¨å“åº”çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¦‚çŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“ç­‰ã€‚

```python
print(response.status_code)
```

- æ‰“å°å“åº”çš„çŠ¶æ€ç 

!!! note
    åœ¨HTTPåè®®ä¸­ï¼ŒçŠ¶æ€ç æ˜¯ä¸€ä¸ªä¸‰ä½æ•°çš„æ•´æ•°ï¼Œç”¨äºè¡¨ç¤ºæœåŠ¡å™¨å¯¹è¯·æ±‚çš„å¤„ç†ç»“æœã€‚çŠ¶æ€ç åˆ†ä¸ºäº”å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š

    1. 1xxï¼ˆä¿¡æ¯æ€§çŠ¶æ€ç ï¼‰ï¼šè¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†ã€‚

    2. 2xxï¼ˆæˆåŠŸçŠ¶æ€ç ï¼‰ï¼šè¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸæ¥æ”¶ã€ç†è§£å’Œæ¥å—ã€‚

    3. 3xxï¼ˆé‡å®šå‘çŠ¶æ€ç ï¼‰ï¼šè¡¨ç¤ºéœ€è¦å®¢æˆ·ç«¯é‡‡å–è¿›ä¸€æ­¥æ“ä½œæ‰èƒ½å®Œæˆè¯·æ±‚ã€‚

    4. 4xxï¼ˆå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼‰ï¼šè¡¨ç¤ºè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•è¢«æ‰§è¡Œã€‚

    5. 5xxï¼ˆæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼‰ï¼šè¡¨ç¤ºæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ã€‚

```python
print(response.content)
```

- æ‰“å°å“åº”çš„å†…å®¹ã€‚ä¸Šè¿°çš„ `response.content` æ˜¯HTTPå“åº”å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒåŒ…å«äº†æœåŠ¡å™¨è¿”å›çš„å®é™…å†…å®¹ã€‚è¿™ä¸ªå†…å®¹æ˜¯ä»¥å­—èŠ‚å½¢å¼å­˜å‚¨çš„ã€‚

```python
print(response.headers)
```

- æ‰“å°å“åº”çš„å¤´éƒ¨ä¿¡æ¯ã€‚ä¸Šè¿°çš„ `response.headers` æ˜¯HTTPå“åº”å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒåŒ…å«äº†æœåŠ¡å™¨è¿”å›çš„æ‰€æœ‰å¤´éƒ¨ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯æ˜¯ä»¥å­—å…¸å½¢å¼å­˜å‚¨çš„ï¼Œå¯ä»¥é€šè¿‡é”®å€¼å¯¹çš„æ–¹å¼è®¿é—®ã€‚

!!! note
    HTTPå¤´éƒ¨ä¿¡æ¯æ˜¯HTTPåè®®çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’é¢å¤–çš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯åŒ…æ‹¬è¯·æ±‚å’Œå“åº”çš„å…ƒæ•°æ®ï¼Œå¦‚å†…å®¹ç±»å‹ã€å†…å®¹é•¿åº¦ã€æœåŠ¡å™¨ç±»å‹ç­‰ã€‚

```python
print(response.json())
```

- æ‰“å°å“åº”çš„JSONæ•°æ®ï¼Œ`.json()` æ–¹æ³•å°†å“åº”çš„å†…å®¹è§£æä¸ºPythonçš„å­—å…¸æˆ–åˆ—è¡¨ï¼Œå…·ä½“å–å†³äºJSONæ•°æ®çš„ç»“æ„ã€‚

```python
print(json.dumps(response.json(), indent=4))
```

- `json.dumps` å‡½æ•°å°†Pythonå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚

- `indent=4` å‚æ•°æŒ‡å®šäº†è¾“å‡ºçš„å­—ç¬¦ä¸²åº”è¯¥ä½¿ç”¨4ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›ï¼Œä½¿å¾—è¾“å‡ºçš„JSONå­—ç¬¦ä¸²æ›´åŠ æ˜“è¯»ã€‚

---

## assert

```python
assert 1 == 2, "1 is not equal to 2"
```

- æ–­è¨€1ç­‰äº2ï¼Œå¦‚æœä¸ç­‰åˆ™æŠ›å‡ºå¼‚å¸¸å¹¶æ‰“å°æ¶ˆæ¯ã€‚

!!! Info
    `assert` è¯­å¥é€šå¸¸ç”¨äºå¼€å‘å’Œæµ‹è¯•é˜¶æ®µï¼Œç”¨äºæ£€æŸ¥ä»£ç ä¸­çš„å‡è®¾æ˜¯å¦æˆç«‹ã€‚å¦‚æœå‡è®¾ä¸æˆç«‹ï¼Œç¨‹åºä¼šç«‹å³åœæ­¢æ‰§è¡Œï¼Œå¹¶ç»™å‡ºé”™è¯¯ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½é—®é¢˜ã€‚

---

## file I/O

```python
with open("file.txt", "w") as f:
    f.write("Hello, world!")
```

- å†™å…¥æ–‡ä»¶ï¼ˆä¼šè¦†ç›–åŸæ–‡ä»¶å†…å®¹ï¼‰

```python
with open("file.txt", "a") as f:
    f.write("Hello, world!")

    # or
    name = input("Enter your name: ")
    f.write(f"{name}\n")
```

- å†™å…¥æ–‡ä»¶ï¼ˆä¼šè¿½åŠ å†…å®¹åˆ°æ–‡ä»¶æœ«å°¾ï¼‰

```python
with open("file.txt", "r") as f:
    content = f.readlines()

    # or
    for line in f:
        print(line, end="")

        # or å»é™¤æ¯è¡Œæœ«å°¾çš„æ¢è¡Œç¬¦
        print(line,rstrip())

```

- è¯»å–æ–‡ä»¶å†…å®¹

```python
with open("file.txt") as f:
    for line in sorted(f):
        print(line, end="")
```

- æ’åºæ–‡ä»¶ä¸­çš„å†…å®¹

- `sorted(iterable, key=None, reverse=False)`
    - `iterable` ï¼šè¦æ’åºçš„å¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ç­‰ã€‚
    - `key`ï¼šä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºä»æ¯ä¸ªå…ƒç´ ä¸­æå–æ¯”è¾ƒé”®ã€‚é»˜è®¤ä¸º Noneï¼Œè¡¨ç¤ºç›´æ¥å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚
    - `reverse`ï¼šå¦‚æœè®¾ç½®ä¸º True ï¼Œåˆ™é™åºæ’åºã€‚å¦‚æœè®¾ç½®ä¸º  False ï¼Œåˆ™åˆ—è¡¨å…ƒç´ å°†è¢«å‡åºæ’åºã€‚é»˜è®¤ä¸º False ã€‚

!!! note "further for key"
    `key` å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ã€‚å¦‚æœ `key` æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå°†è¢«åº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”¨äºæ’åºçš„é”®ã€‚å¦‚æœ `key` æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå°†è¢«åº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”¨äºæ’åºçš„é”®ã€‚

    - å¦‚æœ `key` æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå°†è¢«åº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”¨äºæ’åºçš„é”®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ `key` æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œé‚£ä¹ˆ `sorted` å‡½æ•°å°†æ ¹æ®å­—ç¬¦ä¸²çš„é•¿åº¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ’åºã€‚

    - å¦‚æœ `key` æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå°†è¢«åº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”¨äºæ’åºçš„é”®ã€‚ä¾‹å¦‚ï¼Œ`sorted_people = sorted(people, key=lambda person: person["age"])` å°†æ ¹æ®æ¯ä¸ªäººçš„å¹´é¾„å¯¹ `people` åˆ—è¡¨è¿›è¡Œæ’åºã€‚

    è¿™ä¸ª `lambda` å‡½æ•°æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ `lambda arguments: expression` ã€‚

        - `arguments` : æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œç”¨é€—å·åˆ†éš”ã€‚
        - `expression` : å‡½æ•°çš„è¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„ç»“æœå°±æ˜¯å‡½æ•°çš„è¿”å›å€¼ã€‚

!!! note
    `with` è¯­å¥ç”¨äºç®¡ç†æ–‡ä»¶çš„ä¸Šä¸‹æ–‡ï¼Œå½“ `with` è¯­å¥å—ç»“æŸæ—¶ï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œæ–‡ä»¶å¯¹è±¡éƒ½ä¼šè¢«æ­£ç¡®å…³é—­ã€‚

---

## csv

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import csv` ã€‚

!!! note
    `csv` æ¨¡å—ç”¨äºè¯»å†™ CSVï¼ˆComma-Separated Valuesï¼Œé€—å·åˆ†éš”å€¼ï¼‰æ–‡ä»¶ã€‚CSV æ–‡ä»¶æ˜¯ä¸€ç§å¸¸è§çš„æ–‡æœ¬æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºå­˜å‚¨è¡¨æ ¼æ•°æ®ã€‚æ¯è¡Œæ•°æ®ç”±å¤šä¸ªå­—æ®µç»„æˆï¼Œå­—æ®µä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚

```python
with open("file.csv", "r") as f:
    reader = csv.reader(f)
    for row in reader:
        print(row[0])
```

- è¯»å–CSVæ–‡ä»¶ï¼Œè‡ªåŠ¨è¯†åˆ«åˆ†éš”ç¬¦

```python
reader = csv.DictReader(f)
for row in reader:
    print(row["name"])
```

- è¯»å–CSVæ–‡ä»¶ï¼Œç¬¬ä¸€è¡Œæ˜¯åˆ—å

```python
with open("file.csv", "a", newline="") as f:
    writer = csv.writer(f)
    writer.writerow(["Name", "Age", "City"])
```

- å†™å…¥CSVæ–‡ä»¶ï¼ŒæŒ‡å®šåˆ—å

## re

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import re` ã€‚

!!! note
    `re` æ¨¡å—ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­æœç´¢å’Œæ›¿æ¢æ¨¡å¼ã€‚å®ƒæä¾›äº†æ­£åˆ™è¡¨è¾¾å¼æ“ä½œçš„å„ç§å‡½æ•°ï¼Œå¦‚æœç´¢ã€åŒ¹é…ã€æ›¿æ¢ç­‰ã€‚

```python
re.search(pattern, string, flags=0)
```

- ç”¨äºåœ¨ç»™å®šçš„å­—ç¬¦ä¸²ä¸­æœç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›ä¸€ä¸ªåŒ¹é…å¯¹è±¡ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› Noneã€‚

- `pattern` : æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼Œç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­çš„å†…å®¹ã€‚

- `string` : è¦æœç´¢çš„å­—ç¬¦ä¸²ã€‚

- `flags` : å¯é€‰å‚æ•°ï¼Œç”¨äºä¿®æ”¹æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è¡Œä¸ºã€‚é»˜è®¤å€¼ä¸º 0ï¼Œè¡¨ç¤ºä¸ä½¿ç”¨ä»»ä½•æ ‡å¿—ã€‚

??? note "about pattern"
    "." åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦
    "^" åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´
    "$" åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾
    "*" åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡
    "+" åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡
    "?" åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡
    "{n}" åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼næ¬¡
    "{n,}" åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼è‡³å°‘næ¬¡
    "{n,m}" åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼è‡³å°‘næ¬¡,è‡³å¤šmæ¬¡
    "[...]" åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦
    "[^...]" åŒ¹é…ä¸åœ¨æ–¹æ‹¬å·å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦
    "\d" åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦
    "\D" åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦
    "\s" åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦
    "\S" åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦
    "\w" åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—å­—ç¬¦
    "\W" åŒ¹é…ä¸€ä¸ªéå­—æ¯æˆ–æ•°å­—å­—ç¬¦
    "(A|B)" åŒ¹é…Aæˆ–B
    "()" åŒ¹é…æ‹¬å·å†…çš„è¡¨è¾¾å¼

??? note "about flags"
    `re.I` | `re.IGNORECASE` å¿½ç•¥å¤§å°å†™
    
    `re.M` | `re.MULTILINE` å¤šè¡Œæ¨¡å¼,æ”¹å˜ `^` å’Œ `$` çš„è¡Œä¸º, `^` å’Œ `$` å¯ä»¥åŒ¹é…æ¯è¡Œçš„å¼€å§‹å’Œç»“æŸï¼‰
    
    `re.S` é»˜è®¤æƒ…å†µä¸‹ï¼Œ`.` å­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»ä½•å­—ç¬¦ã€‚ä½¿ç”¨ `re.S` | `re.DOTALL` å¯ä½¿ `.` å­—ç¬¦å°†åŒ¹é…ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œç¬¦ã€‚

### example

```python
    email = input("Enter your email: ").strip()
    re.research(r".+@.+\.edu",email)
```

- `r` è¡¨ç¤ºå­—ç¬¦ä¸²æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œä¸ä¼šå¯¹åæ–œæ è¿›è¡Œè½¬ä¹‰ï¼Œä¹Ÿå³ä¸éœ€è¦è§£é‡Šå™¨å†æ¬¡è¿›è¡Œè½¬ä¹‰ã€‚

- `\.edu` è¡¨ç¤ºåŒ¹é…å­—ç¬¦ `.edu` ã€‚ç”±äº `.` åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œè¡¨ç¤ºä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦ç”¨ `\` è¿›è¡Œè½¬ä¹‰ï¼Œè¡¨ç¤ºåŒ¹é…å­—ç¬¦ `.` ã€‚

- è¿™æ®µä»£ç çš„ç”¨é€”æ˜¯æ£€æŸ¥ä¸€ä¸ªç»™å®šçš„ç”µå­é‚®ä»¶åœ°å€æ˜¯å¦åŒ…å« `@` ç¬¦å·ï¼Œå¹¶ä¸”åŸŸåéƒ¨åˆ†æ˜¯å¦ä»¥ `.edu` ç»“å°¾ã€‚

---

```python
matches = re.research(r"^(.+), (.+)$", name)
if matches:
    last, first = matches.groups()
print(f"Last name: {last}, First name: {first}")

# or
if matches:
    last = matches.group(1) 
    first = matches.group(2)
print(f"Last name: {last}, First name: {first}")
```

- `^` åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®

- `(.+)` åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼Œå¹¶å°†å…¶æ•è·ä¸ºä¸€ä¸ªç»„

- `, ` åŒ¹é…ä¸€ä¸ªé€—å·å’Œä¸€ä¸ªç©ºæ ¼

- `(.+)` åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ï¼Œå¹¶å°†å…¶æ•è·ä¸ºå¦ä¸€ä¸ªç»„

- `$` åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®

- `matches.groups()` è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•è·ç»„çš„å…ƒç»„ï¼Œå…ƒç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¯¹åº”äºä¸€ä¸ªæ•è·ç»„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`matches.groups()` è¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ `last`ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯ `first`ã€‚

---

```python
url = input("Enter URL: ").strip()

username = url.replace("http://", "")
# or
username = url.removeprefix("http://")

username = re.sub(r"^(https?://)?(www\.)?twitter\.com/", "", url)

# attention: group(0) is the whole match and group(1) is the first group (www\.)
matches = re.search(r"https?://(www\.)?twitter\.com/(.+)", url,re.IGNORECASE).group(2)
```

- æ‰¾å‡º `url` ä¸­çš„ `twitter` ç”¨æˆ·åï¼Œå¿½ç•¥å¤§å°å†™

!!! note
    `re.sub(pattern, repl, string, count=0, flags=0)`

    - `pattern` ï¼šæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼Œç”¨äºåŒ¹é…è¦æ›¿æ¢çš„å­ä¸²ã€‚

    - `repl` ï¼šæ›¿æ¢å­—ç¬¦ä¸²ï¼Œç”¨äºæ›¿æ¢åŒ¹é…åˆ°çš„å­ä¸²ã€‚

    - `string` ï¼šè¦æœç´¢å’Œæ›¿æ¢çš„åŸå§‹å­—ç¬¦ä¸²ã€‚

    - `count` ï¼šå¯é€‰å‚æ•°ï¼ŒæŒ‡å®šæ›¿æ¢çš„æœ€å¤§æ¬¡æ•°ã€‚é»˜è®¤ä¸º 0ï¼Œè¡¨ç¤ºæ›¿æ¢æ‰€æœ‰åŒ¹é…çš„å­ä¸²ã€‚

    - `flags` ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºä¿®æ”¹æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œ`re.IGNORECASE` è¡¨ç¤ºå¿½ç•¥å¤§å°å†™ã€‚

---

## class

!!! Info
    è¿˜æ²¡æ•´ç†å®Œï¼Œå¾…ç»­ã€‚ä¼°è®¡ä¼šç­‰åˆ° cpp æ•´ç†å®Œå†æ•´ç†ã€‚(å’•å’•å’•)

```python
class Student:
    def __init__(self, name, house=None):
        # å¦‚æœ house æ²¡æœ‰ä¼ å…¥å€¼ï¼Œåˆ™é»˜è®¤ä¸º None

        if not name:
            raise ValueError("Name is required")
        self.name = name
        self.house = house

    def __str__(self):
        return f"{self.name} from {self.house}"

    @property
    def house(self):
        return self._house

    @house.setter
    def house(self, value):
        if not value:
            raise ValueError("House is required")
        self._house = value
```

## set

```python
numbers = {1, 2, 3, 4}
```

- åˆ›å»ºé›†åˆï¼Œå¦‚æœé›†åˆä¸­æœ‰é‡å¤çš„å…ƒç´ ï¼Œåˆ™åªä¼šä¿ç•™ä¸€ä¸ªã€‚

!!! note
    é›†åˆæ˜¯æ— åºçš„ï¼Œä¸èƒ½é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ ã€‚é›†åˆçš„å…ƒç´ å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹ï¼ˆå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ã€å…ƒç»„ç­‰ï¼‰ï¼Œä¸èƒ½æ˜¯åˆ—è¡¨ã€å­—å…¸æˆ–é›†åˆç­‰å¯å˜ç±»å‹ã€‚

```python
numbers.add(5)
numbers.remove(3)
```

- `add()` æ–¹æ³•ç”¨äºå‘é›†åˆä¸­æ·»åŠ å…ƒç´ ã€‚

- `remove()` æ–¹æ³•ç”¨äºä»é›†åˆä¸­åˆ é™¤å…ƒç´ ã€‚å¦‚æœå…ƒç´ ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå¼•å‘ `KeyError` å¼‚å¸¸ã€‚

```python
numbers1 = {1, 2, 3}
numbers2 = {2, 3, 4}

intersection = numbers1 & numbers2
union = numbers1 | numbers2
difference = numbers1 - numbers2
```

- `&` è¿ç®—ç¬¦ç”¨äºè®¡ç®—ä¸¤ä¸ªé›†åˆçš„äº¤é›†ã€‚

- `|` è¿ç®—ç¬¦ç”¨äºè®¡ç®—ä¸¤ä¸ªé›†åˆçš„å¹¶é›†ã€‚

- `-` è¿ç®—ç¬¦ç”¨äºè®¡ç®—ä¸¤ä¸ªé›†åˆçš„å·®é›†ã€‚

---

## argparse

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import argparse`ã€‚

```python
parser = argparse.ArgumentParser(description="è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬")
```

- åˆ›å»ºArgumentParserå¯¹è±¡

```python
parser.add_argument('input_file', type=str, help='è¾“å…¥æ–‡ä»¶çš„è·¯å¾„')
parser.add_argument('-o', '--output_file', type=str, default='output.txt', help='è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„')
parser.add_argument('-n', '--number', type=int, default=10, help='è¦å¤„ç†çš„æ•°é‡')
```

- æ·»åŠ å‚æ•°ï¼Œ`add_argument()` æ–¹æ³•ç”¨äºæ·»åŠ å‘½ä»¤è¡Œå‚æ•°ã€‚å‚æ•°çš„åç§°ã€ç±»å‹å’Œé»˜è®¤å€¼éƒ½å¯ä»¥æŒ‡å®šã€‚

```python
args = parser.parse_args()
```

- è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œå°†ç»“æœå­˜å‚¨åœ¨ `args` å¯¹è±¡ä¸­ã€‚

```python
print(f"Name: {args.name}, Age: {args.age}")
```

- ä½¿ç”¨ `args` å¯¹è±¡çš„å±æ€§è®¿é—®å‘½ä»¤è¡Œå‚æ•°çš„å€¼ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚

---

???+ note "example"
    ```python
    import argparse

    parser = argparse.ArgumentParser(description="è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬")

    parser.add_argument('input_file', type=str, help='è¾“å…¥æ–‡ä»¶çš„è·¯å¾„')

    parser.add_argument('-o', '--output_file', type=str, default='output.txt', help='è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„')

    parser.add_argument('-n', '--number', type=int, default=10, help='è¦å¤„ç†çš„æ•°é‡')

    args = parser.parse_args()

    print(f"Name: {args.name}, Age: {args.age}")
    ```

??? note "output"
    ```shell
    $ python example.py input.txt -o output.txt -n 5
    ```

    è¾“å…¥æ–‡ä»¶: input.txt
    
    è¾“å‡ºæ–‡ä»¶: output.txt
    
    æ•°é‡: 5

??? Info "you can see them by typing --help"
    ```shell
    $ python example.py --help
    ```

    æ­¤æ—¶ä¼šå‡ºç°

    ```python
    usage: your_script.py [-h] [-o OUTPUT_FILE] [-n NUMBER] input_file

    è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬

    positional arguments:
    input_file            è¾“å…¥æ–‡ä»¶çš„è·¯å¾„

    optional arguments:
    -h, --help            show this help message and exit
    -o OUTPUT_FILE, --output_file OUTPUT_FILE
                            è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„
    -n NUMBER, --number NUMBER
                            è¦å¤„ç†çš„æ•°é‡
    ```

---

## unpacking

!!! note
    unpacking æ˜¯æŒ‡å°†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ç­‰ï¼‰ä¸­çš„å…ƒç´ è§£åŒ…ä¸ºå¤šä¸ªå˜é‡ã€‚`*` è¿ç®—ç¬¦ç”¨äºå°†åˆ—è¡¨æˆ–å…ƒç»„ä¸­çš„å…ƒç´ è§£åŒ…ä¸ºå‡½æ•°çš„å‚æ•°ã€‚

```python
def totall(yuan, jiao, fen):
    total = yuan * 100 + jiao * 10 + fen

coins = [1, 1, 1]

print(totall(*coins))
```

- ä½¿ç”¨è§£åŒ…æ“ä½œç¬¦ `*` å°† `coins` åˆ—è¡¨çš„å…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’ç»™  `totall` å‡½æ•°ã€‚å¦‚æœä¼ é€’ç»™å‡½æ•°çš„å‚æ•°æ•°é‡ä¸åŒ¹é…ï¼ŒPython ä¼šæŠ›å‡ºä¸€ä¸ª `TypeError` å¼‚å¸¸ï¼Œå¹¶æ˜¾ç¤ºä¸€æ¡é”™è¯¯æ¶ˆæ¯ã€‚

```python
package = {"yuan": 1, "jiao": 1, "fen": 1}

print(totall(**package))
```

- ä½¿ç”¨è§£åŒ…æ“ä½œç¬¦ `**` å°† `package` å­—å…¸ä¸­çš„é”®å€¼å¯¹ä½œä¸ºå…³é”®å­—å‚æ•°ä¼ é€’ç»™ `totall` å‡½æ•°ã€‚

```python
def f(*args, **kwargs):
    print(args)
    print(kwargs)  

# e.g.
f(1, 2, 3, a=4, b=5)
```

- ç¤ºä¾‹ç»“æœï¼š

```python
(1, 2, 3)
{'a': 4, 'b': 5}
```

- `*args`ï¼šç”¨äºå°†å¯å˜æ•°é‡çš„ä½ç½®å‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚`args` æ˜¯ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«æ‰€æœ‰ä¼ é€’ç»™å‡½æ•°çš„ä½ç½®å‚æ•°ã€‚

- `**kwargs`ï¼šç”¨äºå°†å¯å˜æ•°é‡çš„å…³é”®å­—å‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚`kwargs` æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«æ‰€æœ‰ä¼ é€’ç»™å‡½æ•°çš„å…³é”®å­—å‚æ•°ã€‚

!!! Info "Attention"
    `*args` å’Œ `**kwargs` å¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œä½† `*args` å¿…é¡»åœ¨ `**kwargs` ä¹‹å‰ï¼Œå¦åˆ™ä¼šå¼•å‘è¯­æ³•é”™è¯¯ã€‚

---

## map

```python
numbers = [1, 2, 3, 4]
squared = list(map(lambda x: x**2, numbers))
```

- `map()`ï¼šæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—ã€‚å‡½æ•°ç”¨äºå¤„ç†åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„åºåˆ—ã€‚

---

## filter

```python
numbers = [1, 2, 3, 4, 5]
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
```

- `filter()`ï¼šæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—ã€‚å‡½æ•°ç”¨äºæµ‹è¯•åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¦‚æœå‡½æ•°è¿”å› Trueï¼Œåˆ™è¯¥å…ƒç´ ä¼šè¢«åŒ…å«åœ¨ç»“æœä¸­ã€‚

---

## enumerate

```python
for idx, value in enumerate(['a', 'b', 'c']):
    print(f"Index {idx}: {value}")
```

- `enmuerate(iterable, start)` å‡½æ•°ç”¨äºéå†åºåˆ—ï¼Œå¹¶è¿”å›æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•å’Œå€¼ã€‚å…¶ä¸­ï¼Œ `iterable` æ˜¯è¦éå†çš„åºåˆ—ï¼Œ`start` æ˜¯ç´¢å¼•çš„èµ·å§‹å€¼ï¼Œé»˜è®¤ä¸º 0ã€‚

---

## yield

```python
def countdown(n):
    while n > 0:
        yield n
        n -= 1

for i in countdown(5):
    print(i)

# or
gen = countdown(5)
while True:
    try:
        print(next(gen))
    except StopIteration:
        break
```

!!! note
    If it is return, when the n is too large, it will cause memory error.

    If it is yield, it will not cause memory error.

    å®ƒä¼šç»™ä¸€ä¸ªè¾“å‡ºå†ç»™ä¸€ä¸ªè¾“å‡ºï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§è¾“å‡º

---

## pyttsx3

!!! Info
    è¦ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ï¼Œéœ€è¦ `import pyttsx3` ã€‚

!!! note
    `pyttsx3` æ˜¯ä¸€ä¸ªç”¨äºå°†æ–‡æœ¬è½¬æ¢ä¸ºè¯­éŸ³çš„ Python åº“ã€‚

```python
engine = pyttsx3.init()
```

- åˆå§‹åŒ–è¯­éŸ³å¼•æ“

```python
engine.setProperty('rate', 150)
```

- è®¾ç½®è¯­é€Ÿ

```python
engine.setProperty('volume', 1)
```

- è®¾ç½®éŸ³é‡

```python
engine.say("Hello, this is an example of pyttsx3.")
```

- è®©å¼•æ“å‘å‡ºè¯­éŸ³

